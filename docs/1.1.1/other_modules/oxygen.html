<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Oxygen &#8212; Flame</title>
  <!-- Stylesheets -->
  <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
  <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
  <link rel="stylesheet" type="text/css" href="../_static/flutter_app.css" />
  <link rel="stylesheet" type="text/css" href="../_static/flames.css" />
  <!-- Scripts -->
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
  <script src="../_static/jquery.js"></script>
  <script src="../_static/underscore.js"></script>
  <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
  <script src="../_static/doctools.js"></script>
  <script src="../_static/flutter_app.js"></script>
  <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
  <script>mermaid.initialize({startOnLoad:true});</script>
  <script src="../_static/versions.js"></script>
  <!--script src="searchindex.js" defer></script-->
  <!-- Links -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,400;0,700;1,400;1,700&display=swap">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../_static/fontawesome/fa-brands-400.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../_static/fontawesome/fa-solid-900.woff2">
  <link rel="stylesheet" href="../_static/fontawesome/all.min.css">
  <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <link rel="index" title="Index" href="../genindex.html" />
  <link rel="search" title="Search" href="../search.html" />
  <link rel="next" title="Tiled" href="tiled.html" />
  <link rel="prev" title="Forge2D" href="forge2d.html" />
</head>

<body data-spy="scroll" data-target="#toc-local" data-offset="80">

<div class="top-bar">
  <button id="menu-button" class="btn" title="Toggle menu"><i class="fa fa-bars"></i></button>
  <script type="text/javascript">
    jQuery(function(){
      $("#menu-button").click(function() {
        $(this).toggleClass("active");
        $(".sidebar-left-area").toggleClass("active");
      });

      $('div.nav-left li > a:not(:only-child)').wrap('<div class=submenu></div>');
      $('div.nav-left div.submenu').prepend('<a class=arrow>&nbsp;</a>');
      $('div.nav-left div.submenu > a.arrow')
        .click(function() {
          $(this.parentElement.parentElement).toggleClass('current');
        });

      // This function ensures that when navigating to internal targets within the page (such as
      // a section header), those targets will be visible to the user and not obscured by the menu
      // bar at the top of the page.
      function scrollToHashTarget() {
        if (location.hash !== location.oldHash) {
          window.scrollBy(0, -60);
          location.oldHash = location.hash;
        }
      }
      window.location.oldHash = '';
      window.addEventListener('hashchange', scrollToHashTarget);
      scrollToHashTarget();
    });
  </script>

  <a href="../index.html" class="logo_image">
    <img src="../_static/logo_flame.png">
  </a>

  <div class="highlight-box" role="alert" style="display:none">
    <div>
      <div class="title">highlighted:</div>
      <div class="content" id="highlight-content"></div>
    </div>
    <button type="button" class="close" data-dismiss="alert" aria-label="Dismiss">×</button>
  </div>
  <div class="expander"></div>

  <div class="versions-placeholder"></div>
  <a href="https://discord.com/channels/509714518008528896/516639688581316629" id="discord-button"
     class="btn" title="Flame Discord channel">
    <i class="fab fa-discord"></i>
  </a>
  <a href="https://github.com/flame-engine/flame/" id="github-button" class="btn"
     title="GitHub repository">
    <i class="fab fa-github"></i>
  </a>
</div>

<div class="sidebar-left-area">
  <div class="sidebar-left-bg"></div>
  <div class="sidebar-left">
    <div class="searchbox" role="search">
      <form id="search-form" action="../search.html" method="get">
        <i class="icon fa fa-search"></i>
        <input type="search" class="form-control" id="search-input" name="q"
               placeholder="Search the docs..." autocomplete="off" />
      </form>
    </div>
    <div class="nav-left" role="navigation" aria-label="Main">
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../flame/flame.html">flame</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../flame/structure.html">File structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame/game.html">Game loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame/components.html">Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame/platforms.html">Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame/collision_detection.html">Collision detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame/effects.html">Effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame/camera_and_viewport.html">Camera &amp; Viewport</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame/camera_component.html">Camera component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame/inputs/inputs.html">Inputs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../flame/inputs/gesture-input.html">Gesture input</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flame/inputs/keyboard-input.html">Keyboard input</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flame/inputs/other-inputs.html">Other inputs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../flame/rendering/rendering.html">Rendering</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../flame/rendering/images.html">Images, sprites and animations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flame/rendering/text.html">Text rendering</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flame/rendering/palette.html">Colors and palette</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flame/rendering/particles.html">Particles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flame/rendering/layers.html">Layers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../flame/other/other.html">Other</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../flame/other/debug.html">Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flame/other/util.html">Utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flame/other/widgets.html">Widgets</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../flame_audio/flame_audio.html">flame_audio</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../flame_audio/audio.html">General audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame_audio/bgm.html">Background music</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorials.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/bare_flame_game.html">Bare Flame game</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/klondike/klondike.html">Klondike</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/step1.html">1. Preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/step2.html">2. Scaffolding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/step3.html">3. Cards</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/tbc.html">[To be continued]...</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="other_modules.html">Other Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="forge2d.html">Forge2D</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Oxygen</a></li>
<li class="toctree-l2"><a class="reference internal" href="tiled.html">Tiled</a></li>
<li class="toctree-l2"><a class="reference internal" href="splash_screen.html">Splash screen</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
</div>

<div class="main-area">
  <div class="document-wrapper">
    <div class="document" role="main">
      
  <section class="tex2jax_ignore mathjax_ignore" id="oxygen">
<h1>Oxygen<a class="headerlink" href="#oxygen" title="Permalink to this heading">¶</a></h1>
<p>We (the Flame organization) built an ECS (Entity Component System) named Oxygen.</p>
<p>If you want to use Oxygen specifically for Flame as a replacement for the
FCS(Flame Component System) you should use our bridge library
<a class="reference external" href="https://github.com/flame-engine/flame/tree/main/packages/flame_oxygen">flame_oxygen</a> and if you
just want to use it in a Dart project you can use the
<a class="reference external" href="https://github.com/flame-engine/oxygen">oxygen</a> library directly.</p>
<p>If you are not familiar with Oxygen yet we recommend you read up on its
<a class="reference external" href="https://github.com/flame-engine/oxygen/tree/main/doc">documentation</a>.</p>
<p>To use it in your game you just need to add <code class="docutils literal notranslate"><span class="pre">flame_oxygen</span></code> to your <code class="docutils literal notranslate"><span class="pre">pubspec.yaml</span></code>, as can be seen
in the
<a class="reference external" href="https://github.com/flame-engine/flame/tree/main/packages/flame_oxygen/example">Oxygen example</a>
and in the <code class="docutils literal notranslate"><span class="pre">pub.dev</span></code> <a class="reference external" href="https://pub.dev/packages/flame_oxygen">installation instructions</a>.</p>
<section id="oxygengame-game-extension">
<h2>OxygenGame (Game extension)<a class="headerlink" href="#oxygengame-game-extension" title="Permalink to this heading">¶</a></h2>
<p>If you are going to use Oxygen in your project it can be a good idea to use the Oxygen specific
extension of the <code class="docutils literal notranslate"><span class="pre">Game</span></code> class.</p>
<p>It is called <code class="docutils literal notranslate"><span class="pre">OxygenGame</span></code> and it will give you full access to the Oxygen framework while also
having full access to the Flame game loop.</p>
<p>Instead of using <code class="docutils literal notranslate"><span class="pre">onLoad</span></code>, as you are used to with Flame, <code class="docutils literal notranslate"><span class="pre">OxygenGame</span></code> comes with the <code class="docutils literal notranslate"><span class="pre">init</span></code>
method. This method is called in the <code class="docutils literal notranslate"><span class="pre">onLoad</span></code> but before the world initialization, allowing you
to register components and systems and do anything else that you normally would do in <code class="docutils literal notranslate"><span class="pre">onLoad</span></code>.</p>
<p>A simple <code class="docutils literal notranslate"><span class="pre">OxygenGame</span></code> implementation example can be seen in the
<a class="reference external" href="https://github.com/flame-engine/flame/tree/main/packages/flame_oxygen/example">example folder</a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">OxygenGame</span></code> also comes with it’s own <code class="docutils literal notranslate"><span class="pre">createEntity</span></code> method that automatically adds certain
default components on the entity. This is especially helpful when you are using the
<a class="reference internal" href="#basesystem"><span class="std std-doc">BaseSystem</span></a> as your base.</p>
</section>
<section id="systems">
<h2>Systems<a class="headerlink" href="#systems" title="Permalink to this heading">¶</a></h2>
<p>Systems define the logic of your game. In FCS you normally would add your logic inside a component
with Oxygen we use systems for that. Oxygen itself is completely platform agnostic, meaning it has
no render loop. It only knows <code class="docutils literal notranslate"><span class="pre">execute</span></code>, which is a method equal to the <code class="docutils literal notranslate"><span class="pre">update</span></code> method in Flame.</p>
<p>On each <code class="docutils literal notranslate"><span class="pre">execute</span></code> Oxygen automatically calls all the systems that were registered in order. But in
Flame we can have different logic for different loops (render/update). So in <code class="docutils literal notranslate"><span class="pre">flame_oxygen</span></code> we
introduced the <code class="docutils literal notranslate"><span class="pre">RenderSystem</span></code> and <code class="docutils literal notranslate"><span class="pre">UpdateSystem</span></code> mixin. These mixins allow you to add the <code class="docutils literal notranslate"><span class="pre">render</span></code>
method and the <code class="docutils literal notranslate"><span class="pre">update</span></code> method respectively to your custom system. For more information see the
<a class="reference internal" href="#mixin-rendersystem"><span class="std std-doc">RenderSystem</span></a> and <a class="reference internal" href="#mixin-updatesystem"><span class="std std-doc">UpdateSystem</span></a> section.</p>
<p>If you are coming from FCS you might expect certain default functionality that you normally got
from the <code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code>. As mentioned before components do not contain any kind of logic, but
to give you the same default functionality we also created a class called <code class="docutils literal notranslate"><span class="pre">BaseSystem</span></code>. This system
acts almost identical to the prerender logic from the <code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code> in FCS. You only have
to subclass it to your own system. For more information see the
<a class="reference internal" href="#basesystem"><span class="std std-doc">BaseSystem</span></a> section.</p>
<p>Systems can be registered to the world using the <code class="docutils literal notranslate"><span class="pre">world.registerSystem</span></code> method on
<a class="reference internal" href="#oxygengame-game-extension"><span class="std std-doc">OxygenGame</span></a>.</p>
<section id="mixin-gameref">
<h3>mixin GameRef<a class="headerlink" href="#mixin-gameref" title="Permalink to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">GameRef</span></code> mixin allows a system to become aware of the <code class="docutils literal notranslate"><span class="pre">OxygenGame</span></code> instance its attached to. This
allows easy access to the methods on the game class.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nc">YourSystem</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">System</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">GameRef</span><span class="o">&lt;</span><span class="n">YourGame</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nd">@override</span><span class="w"></span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">init</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Access to game using the .game propery</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="c1">// ...</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="mixin-rendersystem">
<h3>mixin RenderSystem<a class="headerlink" href="#mixin-rendersystem" title="Permalink to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">RenderSystem</span></code> mixin allows a system to be registered for the render loop.
By adding a <code class="docutils literal notranslate"><span class="pre">render</span></code> method to the system you get full access to the canvas as
you normally would in Flame.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nc">SimpleRenderSystem</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">System</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">RenderSystem</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">Query</span><span class="o">?</span><span class="w"> </span><span class="n">_query</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="nd">@override</span><span class="w"></span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">init</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">_query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createQuery</span><span class="p">([</span><span class="cm">/* Your filters */</span><span class="p">]);</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">render</span><span class="p">(</span><span class="n">Canvas</span><span class="w"> </span><span class="n">canvas</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">final</span><span class="w"> </span><span class="n">entity</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">_query</span><span class="o">?</span><span class="p">.</span><span class="n">entities</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="o">&lt;</span><span class="n">Entity</span><span class="o">&gt;</span><span class="p">[])</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="c1">// Render entity based on components</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="mixin-updatesystem">
<h3>mixin UpdateSystem<a class="headerlink" href="#mixin-updatesystem" title="Permalink to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">MixinSystem</span></code> mixin allows a system to be registered for the update loop.
By adding a <code class="docutils literal notranslate"><span class="pre">update</span></code> method to the system you get full access to the delta time as you
normally would in Flame.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nc">SimpleUpdateSystem</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">System</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">UpdateSystem</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">Query</span><span class="o">?</span><span class="w"> </span><span class="n">_query</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="nd">@override</span><span class="w"></span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">init</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">_query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createQuery</span><span class="p">([</span><span class="cm">/* Your filters */</span><span class="p">]);</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">update</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">dt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">final</span><span class="w"> </span><span class="n">entity</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">_query</span><span class="o">?</span><span class="p">.</span><span class="n">entities</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="o">&lt;</span><span class="n">Entity</span><span class="o">&gt;</span><span class="p">[])</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="c1">// Update components values</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="basesystem">
<h3>BaseSystem<a class="headerlink" href="#basesystem" title="Permalink to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">BaseSystem</span></code> is an abstract class whoms logic can be compared to the <code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code>
from FCS. The <code class="docutils literal notranslate"><span class="pre">BaseSystem</span></code> automatically filters all entities that have the <code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code>
and <code class="docutils literal notranslate"><span class="pre">SizeComponent</span></code> from <code class="docutils literal notranslate"><span class="pre">flame_oxygen</span></code>. On top of that you can add your own filters by defining
a getter called <code class="docutils literal notranslate"><span class="pre">filters</span></code>. These filters are then used to filter down the entities you are
interested in.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">BaseSystem</span></code> is also fully aware of the game instance. You can access the game instance by using
the <code class="docutils literal notranslate"><span class="pre">game</span></code> property. This also gives you access to the <code class="docutils literal notranslate"><span class="pre">createEntity</span></code> helper method on <code class="docutils literal notranslate"><span class="pre">OxygenGame</span></code>.</p>
<p>On each render loop the <code class="docutils literal notranslate"><span class="pre">BaseSystem</span></code> will prepare your canvas the same way the <code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code>
from FCS would (translating, rotating and setting the anchor. After that it will call the
<code class="docutils literal notranslate"><span class="pre">renderEntity</span></code> method so you can add your own render logic for that entity on a prepared canvas.</p>
<p>The following components will be checked by <code class="docutils literal notranslate"><span class="pre">BaseSystem</span></code> for the prepartion of the
canvas:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code> (required)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SizeComponent</span></code> (required)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnchorComponent</span></code> (optional, defaults to <code class="docutils literal notranslate"><span class="pre">Anchor.topLeft</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AngleComponent</span></code> (optional, defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code>)</p></li>
</ul>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nc">SimpleBaseSystem</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">BaseSystem</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nd">@override</span><span class="w"></span>
<span class="w">  </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Filter</span><span class="o">&lt;</span><span class="n">Component</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">filters</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">[];</span><span class="w"></span>

<span class="w">  </span><span class="nd">@override</span><span class="w"></span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">renderEntity</span><span class="p">(</span><span class="n">Canvas</span><span class="w"> </span><span class="n">canvas</span><span class="p">,</span><span class="w"> </span><span class="n">Entity</span><span class="w"> </span><span class="n">entity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// The canvas is translated, rotated and fully prepared for rendering.</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="particlesystem">
<h3>ParticleSystem<a class="headerlink" href="#particlesystem" title="Permalink to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">ParticleSystem</span></code> is a simple system that brings the Particle API from Flame to Oxygen. This
allows you to use the <a class="reference internal" href="#particlecomponent"><span class="std std-doc">ParticleComponent</span></a> without having to worry about how
it will render or when to update it. As most of that logic is already contained in the Particle
itself.</p>
<p>Simply register the <code class="docutils literal notranslate"><span class="pre">ParticleSystem</span></code> and the <code class="docutils literal notranslate"><span class="pre">ParticleComponent</span></code> to your world like so:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">world</span><span class="p">.</span><span class="n">registerSystem</span><span class="p">(</span><span class="n">ParticleSystem</span><span class="p">());</span><span class="w"></span>

<span class="n">world</span><span class="p">.</span><span class="n">registerComponent</span><span class="o">&lt;</span><span class="n">ParticleComponent</span><span class="p">,</span><span class="w"> </span><span class="n">Particle</span><span class="o">&gt;</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">ParticleComponent</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>You can now create a new entity with a <code class="docutils literal notranslate"><span class="pre">ParticleComponent</span></code>. For more info about that see the
<a class="reference internal" href="#particlecomponent"><span class="std std-doc">ParticleComponent</span></a> section.</p>
</section>
</section>
<section id="components">
<h2>Components<a class="headerlink" href="#components" title="Permalink to this heading">¶</a></h2>
<p>Components in Oxygen are different than the ones from FCS mainly because instead of containing
logic they only contain data. This data is then used in systems which in turn define the logic.</p>
<p>To accomdate people who are switching from FCS to Oxygen we implemented a few components to help
you get started. Some of these components are based on the multiple functionalities that the
<code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code> from FCS has. Others are just easy wrappers around certain Flame API
functionality, they are often accompanied by predefined systems that you can use.</p>
<p>Components can be registered to the world using the <code class="docutils literal notranslate"><span class="pre">world.registerComponent</span></code> method on
<a class="reference internal" href="#oxygengame-game-extension"><span class="std std-doc">OxygenGame</span></a>.</p>
<section id="positioncomponent">
<h3>PositionComponent<a class="headerlink" href="#positioncomponent" title="Permalink to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code> is as its name implies is a component that describe the position of an
entity. And it is registered to the world by default.</p>
<p>Creating a positioned entity using OxygenGame:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">game</span><span class="p">.</span><span class="n">createEntity</span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="nl">position:</span><span class="w"> </span><span class="n">Vector2</span><span class="p">(</span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="m">100</span><span class="p">),</span><span class="w"></span>
<span class="w">  </span><span class="nl">size:</span><span class="w"> </span><span class="c1">// ...</span><span class="w"></span>
<span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Creating a positioned entity using the World:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">world</span><span class="p">.</span><span class="n">createEntity</span><span class="p">()</span><span class="w"></span>
<span class="w">  </span><span class="p">..</span><span class="n">add</span><span class="o">&lt;</span><span class="n">PositionComponent</span><span class="p">,</span><span class="w"> </span><span class="n">Vector2</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Vector2</span><span class="p">(</span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="m">100</span><span class="p">));</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="sizecomponent">
<h3>SizeComponent<a class="headerlink" href="#sizecomponent" title="Permalink to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">SizeComponent</span></code> is as its name implies is a component that describe the size of an entity.
And it is registered to the world by default.</p>
<p>Creating a sized entity using OxygenGame:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">game</span><span class="p">.</span><span class="n">createEntity</span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="nl">position:</span><span class="w"> </span><span class="c1">// ...</span><span class="w"></span>
<span class="w">  </span><span class="nl">size:</span><span class="w"> </span><span class="n">Vector2</span><span class="p">(</span><span class="m">50</span><span class="p">,</span><span class="w"> </span><span class="m">50</span><span class="p">),</span><span class="w"></span>
<span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Creating a sized entity using the World:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">world</span><span class="p">.</span><span class="n">createEntity</span><span class="p">()</span><span class="w"></span>
<span class="w">  </span><span class="p">..</span><span class="n">add</span><span class="o">&lt;</span><span class="n">SizeComponent</span><span class="p">,</span><span class="w"> </span><span class="n">Vector2</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Vector2</span><span class="p">(</span><span class="m">50</span><span class="p">,</span><span class="w"> </span><span class="m">50</span><span class="p">));</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="anchorcomponent">
<h3>AnchorComponent<a class="headerlink" href="#anchorcomponent" title="Permalink to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">AnchorComponent</span></code> is as its name implies is a component that describe the anchor position of an
entity. And it is registered to the world by default.</p>
<p>This component is especially useful when you are using the <a class="reference internal" href="#basesystem"><span class="std std-doc">BaseSystem</span></a>. But can also
be used for your own anchoring logic.</p>
<p>Creating an anchored entity using OxygenGame:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">game</span><span class="p">.</span><span class="n">createEntity</span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="nl">position:</span><span class="w"> </span><span class="c1">// ...</span><span class="w"></span>
<span class="w">  </span><span class="nl">size:</span><span class="w"> </span><span class="c1">// ...</span><span class="w"></span>
<span class="w">  </span><span class="nl">anchor:</span><span class="w"> </span><span class="n">Anchor</span><span class="p">.</span><span class="n">center</span><span class="p">,</span><span class="w"></span>
<span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Creating an anchored entity using the World:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">world</span><span class="p">.</span><span class="n">createEntity</span><span class="p">()</span><span class="w"></span>
<span class="w">  </span><span class="p">..</span><span class="n">add</span><span class="o">&lt;</span><span class="n">AnchorComponent</span><span class="p">,</span><span class="w"> </span><span class="n">Anchor</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Anchor</span><span class="p">.</span><span class="n">center</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="anglecomponent">
<h3>AngleComponent<a class="headerlink" href="#anglecomponent" title="Permalink to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">AngleComponent</span></code> is as its name implies is a component that describe the angle of an entity.
And it is registered to the world by default. The angle is in radians.</p>
<p>This component is especially useful when you are using the <a class="reference internal" href="#basesystem"><span class="std std-doc">BaseSystem</span></a>. But can also
be used for your own angle logic.</p>
<p>Creating an angled entity using OxygenGame:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">game</span><span class="p">.</span><span class="n">createEntity</span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="nl">position:</span><span class="w"> </span><span class="c1">// ...</span><span class="w"></span>
<span class="w">  </span><span class="nl">size:</span><span class="w"> </span><span class="c1">// ...</span><span class="w"></span>
<span class="w">  </span><span class="nl">angle:</span><span class="w"> </span><span class="m">1.570796</span><span class="p">,</span><span class="w"></span>
<span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Creating an angled entity using the World:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">world</span><span class="p">.</span><span class="n">createEntity</span><span class="p">()</span><span class="w"></span>
<span class="w">  </span><span class="p">..</span><span class="n">add</span><span class="o">&lt;</span><span class="n">AngleComponent</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="m">1.570796</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="flipcomponent">
<h3>FlipComponent<a class="headerlink" href="#flipcomponent" title="Permalink to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">FlipComponent</span></code> can be used to flip your rendering on either the X or Y axis. It is registered
to the world by default.</p>
<p>This component is especially useful when you are using the <a class="reference internal" href="#basesystem"><span class="std std-doc">BaseSystem</span></a>. But can also
be used for your own flipping logic.</p>
<p>Creating an entity that is flipped on it’s X axis using OxygenGame:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">game</span><span class="p">.</span><span class="n">createEntity</span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="nl">position:</span><span class="w"> </span><span class="c1">// ...</span><span class="w"></span>
<span class="w">  </span><span class="nl">size:</span><span class="w"> </span><span class="c1">// ...</span><span class="w"></span>
<span class="w">  </span><span class="nl">flipX:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Creating an entity that is flipped on it’s X axis using the World:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">world</span><span class="p">.</span><span class="n">createEntity</span><span class="p">()</span><span class="w"></span>
<span class="w">  </span><span class="p">..</span><span class="n">add</span><span class="o">&lt;</span><span class="n">FlipComponent</span><span class="p">,</span><span class="w"> </span><span class="n">FlipInit</span><span class="o">&gt;</span><span class="p">(</span><span class="n">FlipInit</span><span class="p">(</span><span class="nl">flipX:</span><span class="w"> </span><span class="kc">true</span><span class="p">));</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="spritecomponent">
<h3>SpriteComponent<a class="headerlink" href="#spritecomponent" title="Permalink to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">SpriteComponent</span></code> is as its name implies is a component that describe the sprite of an entity.
And it is registered to the world by default.</p>
<p>This allows you to assigning a Sprite to an Entity.</p>
<p>Creating an entity with a sprite using OxygenGame:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">game</span><span class="p">.</span><span class="n">createEntity</span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="nl">position:</span><span class="w"> </span><span class="c1">// ...</span><span class="w"></span>
<span class="w">  </span><span class="nl">size:</span><span class="w"> </span><span class="c1">// ...</span><span class="w"></span>
<span class="p">)..</span><span class="n">add</span><span class="o">&lt;</span><span class="n">SpriteComponent</span><span class="p">,</span><span class="w"> </span><span class="n">SpriteInit</span><span class="o">&gt;</span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="n">SpriteInit</span><span class="p">(</span><span class="kd">await</span><span class="w"> </span><span class="n">game</span><span class="p">.</span><span class="n">loadSprite</span><span class="p">(</span><span class="s1">&#39;pizza.png&#39;</span><span class="p">)),</span><span class="w"></span>
<span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Creating an entity with a sprite using World:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">world</span><span class="p">.</span><span class="n">createEntity</span><span class="p">()</span><span class="w"></span>
<span class="w">  </span><span class="p">..</span><span class="n">add</span><span class="o">&lt;</span><span class="n">SpriteComponent</span><span class="p">,</span><span class="w"> </span><span class="n">SpriteInit</span><span class="o">&gt;</span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="n">SpriteInit</span><span class="p">(</span><span class="kd">await</span><span class="w"> </span><span class="n">game</span><span class="p">.</span><span class="n">loadSprite</span><span class="p">(</span><span class="s1">&#39;pizza.png&#39;</span><span class="p">)),</span><span class="w"></span>
<span class="w">  </span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="textcomponent">
<h3>TextComponent<a class="headerlink" href="#textcomponent" title="Permalink to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">TextComponent</span></code> is as its name implies is a component that adds a text component to an entity.
And it is registered to the world by default.</p>
<p>This allows you to add text to your entity, combined with the <code class="docutils literal notranslate"><span class="pre">PositionComponent</span></code> you can use it
as a text entity.</p>
<p>Creating an entity with text using OxygenGame:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">game</span><span class="p">.</span><span class="n">createEntity</span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="nl">position:</span><span class="w"> </span><span class="c1">// ...</span><span class="w"></span>
<span class="w">  </span><span class="nl">size:</span><span class="w"> </span><span class="c1">// ...</span><span class="w"></span>
<span class="p">)..</span><span class="n">add</span><span class="o">&lt;</span><span class="n">TextComponent</span><span class="p">,</span><span class="w"> </span><span class="n">TextInit</span><span class="o">&gt;</span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="n">TextInit</span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="s1">&#39;Your text&#39;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nl">config:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">TextPaintConfig</span><span class="p">(),</span><span class="w"></span>
<span class="w">  </span><span class="p">),</span><span class="w"></span>
<span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Creating an entity with text using World:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">world</span><span class="p">.</span><span class="n">createEntity</span><span class="p">()</span><span class="w"></span>
<span class="w">  </span><span class="p">..</span><span class="n">add</span><span class="o">&lt;</span><span class="n">TextComponent</span><span class="p">,</span><span class="w"> </span><span class="n">TextInit</span><span class="o">&gt;</span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="n">TextInit</span><span class="p">(</span><span class="w"></span>
<span class="w">      </span><span class="s1">&#39;Your text&#39;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nl">config:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">TextPaintConfig</span><span class="p">(),</span><span class="w"></span>
<span class="w">    </span><span class="p">),</span><span class="w"></span>
<span class="w">  </span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="particlecomponent">
<h3>ParticleComponent<a class="headerlink" href="#particlecomponent" title="Permalink to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">ParticleComponent</span></code> wraps a <code class="docutils literal notranslate"><span class="pre">Particle</span></code> from Flame. Combined with the
<a class="reference internal" href="#particlesystem"><span class="std std-doc">ParticleSystem</span></a> you can easily add particles to your game without having to
worry about how to render a particle or when/how to update one.</p>
<p>Creating an entity with a particle using OxygenGame:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">game</span><span class="p">.</span><span class="n">createEntity</span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="nl">position:</span><span class="w"> </span><span class="c1">// ...</span><span class="w"></span>
<span class="w">  </span><span class="nl">size:</span><span class="w"> </span><span class="c1">// ...</span><span class="w"></span>
<span class="p">)..</span><span class="n">add</span><span class="o">&lt;</span><span class="n">ParticleComponent</span><span class="p">,</span><span class="w"> </span><span class="n">Particle</span><span class="o">&gt;</span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="c1">// Your Particle.</span><span class="w"></span>
<span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Creating an entity with a particle using World:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">world</span><span class="p">.</span><span class="n">createEntity</span><span class="p">()</span><span class="w"></span>
<span class="w">  </span><span class="p">..</span><span class="n">add</span><span class="o">&lt;</span><span class="n">ParticleComponent</span><span class="p">,</span><span class="w"> </span><span class="n">Particle</span><span class="o">&gt;</span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Your Particle.</span><span class="w"></span>
<span class="w">  </span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
</section>


    </div>
    <div class="copyright">
      The content on this page is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0 License</a>,
      and code samples under the <a href="https://raw.githubusercontent.com/flame-engine/flame/main/LICENSE">MIT License</a>.
    </div>
    <div class="prev-next-area">
      <a class="left-prev" id="prev-link" href="forge2d.html" title="previous page">
        <i class="fa fa-angle-left"></i>
        <div class="prev-next-info">
          <p class="prev-next-subtitle">Previous:</p>
          <p class="prev-next-title">Forge2D</p>
        </div>
      </a>
      <div class='expander'></div>
      <a class="right-next" id="next-link" href="tiled.html" title="next page">
        <div class="prev-next-info">
          <p class="prev-next-subtitle">Next:</p>
          <p class="prev-next-title">Tiled</p>
        </div>
        <i class="fa fa-angle-right"></i>
      </a>
    </div>
  </div>

  <div class="sidebar-right">
    
    <div class="nav-right" role="navigation" aria-label="table of contents">
      <div id='toc-local' class='list-group'>
 <div class='header'><i class='fa fa-list'></i> Contents</div>
  <a href='#oxygengame-game-extension' class='list-group-item level-1'>OxygenGame (Game extension)</a>
  <a href='#systems' class='list-group-item level-1'>Systems</a>
  <a href='#mixin-gameref' class='list-group-item level-2'>mixin GameRef</a>
  <a href='#mixin-rendersystem' class='list-group-item level-2'>mixin RenderSystem</a>
  <a href='#mixin-updatesystem' class='list-group-item level-2'>mixin UpdateSystem</a>
  <a href='#basesystem' class='list-group-item level-2'>BaseSystem</a>
  <a href='#particlesystem' class='list-group-item level-2'>ParticleSystem</a>
  <a href='#components' class='list-group-item level-1'>Components</a>
  <a href='#positioncomponent' class='list-group-item level-2'>PositionComponent</a>
  <a href='#sizecomponent' class='list-group-item level-2'>SizeComponent</a>
  <a href='#anchorcomponent' class='list-group-item level-2'>AnchorComponent</a>
  <a href='#anglecomponent' class='list-group-item level-2'>AngleComponent</a>
  <a href='#flipcomponent' class='list-group-item level-2'>FlipComponent</a>
  <a href='#spritecomponent' class='list-group-item level-2'>SpriteComponent</a>
  <a href='#textcomponent' class='list-group-item level-2'>TextComponent</a>
  <a href='#particlecomponent' class='list-group-item level-2'>ParticleComponent</a>
</div>

    </div>
  </div>

  <div class="expander"></div>
</div>




</body>
</html>