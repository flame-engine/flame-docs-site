<!DOCTYPE html>
<html lang="en">
<head>
<meta name="robots" content="noindex">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>DialogueView &#8212; Flame</title>
  <!-- Stylesheets -->
  <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b20cc3f5" />
  <link rel="stylesheet" type="text/css" href="../../../_static/basic.css?v=eeb27264" />
  <link rel="stylesheet" type="text/css" href="../../../_static/dart_domain.css" />
  <link rel="stylesheet" type="text/css" href="../../../_static/flutter_app.css?v=6984c178" />
  <link rel="stylesheet" type="text/css" href="../../../_static/package.css?v=7889e545" />
  <link rel="stylesheet" type="text/css" href="../../../_static/yarn_lexer.css?v=932ca0ec" />
  <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
  <link rel="stylesheet" type="text/css" href="../../../_static/flames.css?v=ac7bdd72" />
  <link rel="stylesheet" type="text/css" href="../../../_static/copy-button.css?v=deecb4da" />
  <!-- Scripts -->
  <script src="../../../_static/jquery.js?v=5d32c60e"></script>
  <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
  <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
  <script src="../../../_static/doctools.js?v=0b60eaae"></script>
  <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
  <script src="../../../_static/flutter_app.js?v=3619378f"></script>
  <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
  <script src="../../../_static/copybutton.js?v=f281be69"></script>
  <script src="../../../_static/versions.js?v=58484017"></script>
  <script src="../../../_static/menu-expand.js?v=8e297497"></script>
  <!--script src="searchindex.js" defer></script-->
  <script src="https://cdn.jsdelivr.net/npm/virtual-webgl"></script>
  <!-- Links -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,400;0,700;1,400;1,700&display=swap">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../../../_static/fontawesome/fa-brands-400.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../../../_static/fontawesome/fa-solid-900.woff2">
  <link rel="stylesheet" href="../../../_static/fontawesome/all.min.css">
  <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  <link rel="index" title="Index" href="../../../genindex.html" />
  <link rel="search" title="Search" href="../../../search.html" />
  <link rel="next" title="FunctionStorage" href="function_storage.html" />
  <link rel="prev" title="DialogueRunner" href="dialogue_runner.html" />
</head>

<body data-spy="scroll" data-target="#toc-local" data-offset="80">

<div class="top-bar">
  <button id="menu-button" class="btn" title="Toggle menu"><i class="fa fa-bars"></i></button>
  <script type="text/javascript">
    jQuery(function(){
      $("#menu-button").click(function() {
        $(this).toggleClass("active");
        $(".sidebar-left-area").toggleClass("active");
      });

      $('div.nav-left li > a:not(:only-child)').wrap('<div class=submenu></div>');
      $('div.nav-left div.submenu').prepend('<a class=arrow>&nbsp;</a>');
      $('div.nav-left div.submenu > a.arrow')
        .click(function() {
          $(this.parentElement.parentElement).toggleClass('current');
        });

      // This function ensures that when navigating to internal targets within the page (such as
      // a section header), those targets will be visible to the user and not obscured by the menu
      // bar at the top of the page.
      function scrollToHashTarget() {
        if (location.hash !== location.oldHash) {
          window.scrollBy(0, -60);
          location.oldHash = location.hash;
        }
      }
      window.location.oldHash = '';
      window.addEventListener('hashchange', scrollToHashTarget);
      scrollToHashTarget();
    });
  </script>

  <a href="../../../index.html" class="logo_image" aria-label="Navigate to home page">
    <img src="../../../_static/logo_flame.png" alt="Flame logo: a fiery symbol along with the FLAME wordmark.">
  </a>  
  <div class="highlight-box" role="alert" style="display:none">
    <div>
      <div class="title">highlighted:</div>
      <div class="content" id="highlight-content"></div>
    </div>
    <button type="button" class="close" data-dismiss="alert" aria-label="Dismiss">×</button>
  </div>
  <div class="expander"></div>

  <div class="versions-placeholder"></div>
  <a href="https://discord.com/invite/pxrBmy4" id="discord-button" class="btn"
     title="Blue Fire Discord server">
    <i class="fab fa-discord"></i>
  </a>
  <a href="https://github.com/flame-engine/flame/" id="github-button" class="btn"
     title="GitHub repository">
    <i class="fab fa-github"></i>
  </a>
</div>

<div class="sidebar-left-area">
  <div class="sidebar-left-bg"></div>
  <div class="sidebar-left">
    <div class="searchbox" role="search">
      <form id="search-form" action="../../../search.html" method="get">
        <i class="icon fa fa-search"></i>
        <input type="search" class="form-control" id="search-input" name="q"
               placeholder="Search the docs..." autocomplete="off" />
      </form>
    </div>
    <div class="nav-left" role="navigation" aria-label="Main">
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../flame/flame.html">Flame</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../flame/game_widget.html">Game Widget</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../flame/game.html">Game Loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../flame/components.html">Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../flame/camera.html">Camera</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../flame/structure.html">Assets Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../flame/router.html">Router</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../flame/platforms.html">Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../flame/collision_detection.html">Collision Detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../flame/effects.html">Effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../flame/inputs/inputs.html">Inputs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../flame/inputs/drag_events.html">Drag Events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../flame/inputs/gesture_input.html">Gesture Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../flame/inputs/keyboard_input.html">Keyboard Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../flame/inputs/other_inputs.html">Other Inputs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../flame/inputs/tap_events.html">Tap Events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../flame/inputs/pointer_events.html">Pointer Events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../flame/inputs/hardware_keyboard_detector.html">HardwareKeyboardDetector</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../flame/rendering/rendering.html">Rendering</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../flame/rendering/palette.html">Colors and Palette</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../flame/rendering/decorators.html">Decorators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../flame/rendering/images.html">Images, Sprites and Animations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../flame/rendering/layers.html">Layers and Snapshots</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../flame/rendering/particles.html">Particles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../flame/rendering/text_rendering.html">Text Rendering</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../flame/layout/layout.html">Layout</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../flame/layout/align_component.html">AlignComponent</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../flame/overlays.html">Overlays</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../flame/other/other.html">Other</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../flame/other/debug.html">Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../flame/other/util.html">Utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../flame/other/widgets.html">Widgets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../flame/other/performance.html">Performance</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../bridge_packages/bridge_packages.html">Bridge Packages</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../bridge_packages/flame_audio/flame_audio.html">flame_audio</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../bridge_packages/flame_audio/audio.html">General audio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../bridge_packages/flame_audio/bgm.html">Background music</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../bridge_packages/flame_audio/audio_pool.html">AudioPool</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../bridge_packages/flame_bloc/flame_bloc.html">flame_bloc</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../bridge_packages/flame_bloc/bloc.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../bridge_packages/flame_bloc/bloc_components.html">Components</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../bridge_packages/flame_fire_atlas/flame_fire_atlas.html">flame_fire_atlas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../bridge_packages/flame_fire_atlas/fire_atlas.html">Overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../bridge_packages/flame_forge2d/flame_forge2d.html">flame_forge2d</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../bridge_packages/flame_forge2d/forge2d.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../bridge_packages/flame_forge2d/joints.html">Joints</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../bridge_packages/flame_isolate/flame_isolate.html">flame_isolate</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../bridge_packages/flame_isolate/isolate.html">Overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../bridge_packages/flame_lottie/flame_lottie.html">flame_lottie</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../bridge_packages/flame_network_assets/flame_network_assets.html">flame_network_assets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../bridge_packages/flame_oxygen/flame_oxygen.html">flame_oxygen</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../bridge_packages/flame_rive/flame_rive.html">flame_rive</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../bridge_packages/flame_rive/rive.html">Overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../bridge_packages/flame_riverpod/flame_riverpod.html">flame_riverpod</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../bridge_packages/flame_riverpod/riverpod.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../bridge_packages/flame_riverpod/component.html">Component</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../bridge_packages/flame_riverpod/widget.html">Widget</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../bridge_packages/flame_splash_screen/flame_splash_screen.html">flame_splash_screen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../bridge_packages/flame_spine/flame_spine.html">flame_spine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../bridge_packages/flame_svg/flame_svg.html">flame_svg</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../bridge_packages/flame_svg/svg.html">Overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../bridge_packages/flame_tiled/flame_tiled.html">flame_tiled</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../bridge_packages/flame_tiled/tiled.html">Tiled</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../bridge_packages/flame_tiled/layers.html">Layers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../other_modules.html">Other Modules</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../jenny.html">jenny</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../language/language.html">YarnSpinner language</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../language/nodes.html">Nodes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/lines.html">Lines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/options.html">Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../language/commands/commands.html">Commands</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../language/commands/character.html">&lt;&lt;character&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../language/commands/declare.html">&lt;&lt;declare&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../language/commands/if.html">&lt;&lt;if&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../language/commands/jump.html">&lt;&lt;jump&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../language/commands/local.html">&lt;&lt;local&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../language/commands/set.html">&lt;&lt;set&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../language/commands/stop.html">&lt;&lt;stop&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../language/commands/visit.html">&lt;&lt;visit&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../language/commands/wait.html">&lt;&lt;wait&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../language/commands/user_defined_commands.html">User-defined commands</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../language/expressions/expressions.html">Expressions</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../language/expressions/variables.html">Variables</a></li>
<li class="toctree-l5"><a class="reference internal" href="../language/expressions/operators.html">Operators</a></li>
<li class="toctree-l5"><a class="reference internal" href="../language/expressions/functions/functions.html">Functions</a><ul>
<li class="toctree-l6"><a class="reference internal" href="../language/expressions/functions/random.html">Random functions</a></li>
<li class="toctree-l6"><a class="reference internal" href="../language/expressions/functions/numeric.html">Numeric functions</a></li>
<li class="toctree-l6"><a class="reference internal" href="../language/expressions/functions/type.html">Type conversion functions</a></li>
<li class="toctree-l6"><a class="reference internal" href="../language/expressions/functions/misc.html">Miscellaneous functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../language/markup.html">Markup</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="reference internal" href="jenny_runtime.html">Jenny API</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="character.html">Character</a></li>
<li class="toctree-l4"><a class="reference internal" href="character_storage.html">CharacterStorage</a></li>
<li class="toctree-l4"><a class="reference internal" href="command_storage.html">CommandStorage</a></li>
<li class="toctree-l4"><a class="reference internal" href="dialogue_choice.html">DialogueChoice</a></li>
<li class="toctree-l4"><a class="reference internal" href="dialogue_line.html">DialogueLine</a></li>
<li class="toctree-l4"><a class="reference internal" href="dialogue_option.html">DialogueOption</a></li>
<li class="toctree-l4"><a class="reference internal" href="dialogue_runner.html">DialogueRunner</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">DialogueView</a></li>
<li class="toctree-l4"><a class="reference internal" href="function_storage.html">FunctionStorage</a></li>
<li class="toctree-l4"><a class="reference internal" href="markup_attribute.html">MarkupAttribute</a></li>
<li class="toctree-l4"><a class="reference internal" href="node.html">Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_defined_command.html">UserDefinedCommand</a></li>
<li class="toctree-l4"><a class="reference internal" href="variable_storage.html">VariableStorage</a></li>
<li class="toctree-l4"><a class="reference internal" href="yarn_project.html">YarnProject</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../oxygen/oxygen.html">oxygen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oxygen/components.html">Components</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/tutorials.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/bare_flame_game.html">Bare Flame game</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/klondike/klondike.html">Klondike</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/klondike/step1.html">1. Preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/klondike/step2.html">2. Scaffolding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/klondike/step3.html">3. Cards</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/klondike/step4.html">4. Gameplay</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/klondike/step5.html">5. Additional features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/platformer/platformer.html">Ember Quest</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/platformer/step_1.html">1. Preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/platformer/step_2.html">2. Start Coding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/platformer/step_3.html">3. Building the World</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/platformer/step_4.html">4. Adding the Remaining Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/platformer/step_5.html">5. Controlling Movement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/platformer/step_6.html">6. Adding the HUD</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/platformer/step_7.html">7. Adding Menus</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/space_shooter/space_shooter.html">Space Shooter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/space_shooter/step_1.html">1. Getting Started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/space_shooter/step_2.html">2. Controlling the player and adding some graphics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/space_shooter/step_3.html">3. Adding animations and depth</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/space_shooter/step_4.html">4. Adding Bullets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/space_shooter/step_5.html">5. Adding Enemies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorials/space_shooter/step_6.html">6. Enemy and Bullet collisions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../development/development.html">Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../development/contributing.html">Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../development/documentation.html">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../development/style_guide.html">Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../development/testing_guide.html">Tests Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../resources/resources.html">Resources</a><ul>
<li class="toctree-l2"><a class="reference external" href="https://pub.dev/documentation/flame/v1.27.0/">Flame API</a></li>
<li class="toctree-l2"><a class="reference external" href="https://examples.flame-engine.org/#/">Flame Examples</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
</div>

<div class="main-area">
  <div class="document-wrapper">
    <div class="warning hidden" id="version-warning">
      <p><strong>Warning:</strong> you are currently viewing the docs for an older
      version <span class="version"></span> of Flame.</p>
      <p>Please <a href="/">click here</a> to go see the documentation for the latest
      released version.</p>
    </div>
    <div class="document" role="main">
      
  <section class="tex2jax_ignore mathjax_ignore" id="dialogueview">
<h1>DialogueView<a class="headerlink" href="#dialogueview" title="Link to this heading">¶</a></h1>
<div class="dartdoc docutils container">
<div class="class docutils container">
<div class="signature sig1 docutils container" id="DialogueView">
<div class="docutils container">
<span class="keyword">class </span><span class="name">DialogueView</span></div>
</div>
<div class="description doc1 docutils container">
<p>The <strong>DialogueView</strong> class is the main mechanism for integrating Jenny with
a game engine. This class describes how <a class="reference internal" href="dialogue_line.html#DialogueLine"><code class="xref dart dart-ref docutils literal notranslate"><span class="pre">line</span></code></a>s and
<code class="xref dart dart-ref docutils literal notranslate"><span class="pre">option</span></code>s are presented to the user.</p>
<p>There are two ways to use this class:</p>
<ul class="simple">
<li><p>Extending DialogueView</p></li>
<li><p>Adding DialogueView as a mixin</p></li>
</ul>
<p>In both cases you will need to create concrete implementations of the
abstract event handler methods in order to use Jenny’s dialogue system.
The concrete <code class="docutils literal notranslate"><span class="pre">DialogueView</span></code> objects will then be passed to a
<a class="reference internal" href="dialogue_runner.html#DialogueRunner"><code class="xref dart dart-ref docutils literal notranslate"><span class="pre">DialogueRunner</span></code></a>, which will orchestrate the dialogue’s progression.</p>
<p>The class defines a number of “event handler” methods, which can be
overridden in subclasses in order to respond to the corresponding event.
Each method has a default no-op implementation, which means you only need
to override those methods that you care about.</p>
<p>Most of the event handler methods return <a class="reference external" href="https://api.dart.dev/stable/2.18.6/dart-async/FutureOr-class.html">FutureOr</a>, which means they can
be implemented either synchronously or asynchronously. In the latter case
the dialogue runner will wait for the future to resolve before proceeding
(futures from several dialogue views will be awaited simultaneously).</p>
</div>
<section id="properties">
<h2>Properties<a class="headerlink" href="#properties" title="Link to this heading">¶</a></h2>
<div class="getter docutils container">
<div class="signature sig2 docutils container" id="DialogueView-dialogueRunner">
<span class="name">dialogueRunner</span><span class="punct"> → </span>DialogueRunner?</div>
<div class="description doc2 docutils container">
<p>The owner of this <code class="docutils literal notranslate"><span class="pre">DialogueView</span></code>. This property will be <code class="docutils literal notranslate"><span class="pre">null</span></code> when the
dialogue view hasn’t been attached to any <code class="docutils literal notranslate"><span class="pre">DialogueRunner</span></code> yet.</p>
<p>This property can be used in order to access the parent <code class="xref dart dart-ref docutils literal notranslate"><span class="pre">YarnProject</span></code>,
or to send signals into the sibling <code class="docutils literal notranslate"><span class="pre">DialogueView</span></code>s.</p>
</div>
</div>
</section>
<section id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Link to this heading">¶</a></h2>
<div class="method docutils container">
<div class="signature sig2 docutils container" id="DialogueView-onDialogueStart">
<div class="docutils container">
<span class="name">onDialogueStart</span><span class="arguments"><span class="punct">(</span><span class="punct">)</span></span><span class="punct"> → </span>FutureOr&lt;void&gt;</div>
</div>
<div class="description doc2 docutils container">
<p>Called before the start of a new dialogue, i.e. before any lines, options,
or commands are delivered.</p>
<p>This method is a good place to prepare the game’s UI, such as fading in/
animating dialogue panels, or loading resources. If this method returns a
future, then the dialogue will start running only after the future
completes.</p>
</div>
</div>
<div class="method docutils container">
<div class="signature sig2 docutils container" id="DialogueView-onDialogueFinish">
<div class="docutils container">
<span class="name">onDialogueFinish</span><span class="arguments"><span class="punct">(</span><span class="punct">)</span></span><span class="punct"> → </span>FutureOr&lt;void&gt;</div>
</div>
<div class="description doc2 docutils container">
<p>Called when the dialogue has ended.</p>
<p>This method can be used to clean up any of the dialogue UI. The returned
future will be awaited before the dialogue runner considers its job
finished.</p>
</div>
</div>
<div class="method docutils container">
<div class="signature sig2 docutils container" id="DialogueView-onNodeStart">
<div class="docutils container">
<span class="name">onNodeStart</span><span class="arguments"><span class="punct">(</span><span class="argument">Node <span class="name">node</span></span><span class="punct">)</span></span><span class="punct"> → </span>FutureOr&lt;void&gt;</div>
</div>
<div class="description doc2 docutils container">
<p>Called when the dialogue enters a new <span class="param">node</span>.</p>
<p>This will be called immediately after the <a class="reference internal" href="#DialogueView-onDialogueStart"><code class="xref dart dart-ref docutils literal notranslate"><span class="pre">onDialogueStart</span></code></a>, and then
possibly several times more over the course of the dialogue if it jumps
to other nodes. This method is a good place to perform node-specific
initialization, for example by querying the <span class="param">node</span>’s properties or
metadata.</p>
<p>If this method returns a future, then the dialogue runner will wait for it
to complete before proceeding with the actual dialogue.</p>
</div>
</div>
<div class="method docutils container">
<div class="signature sig2 docutils container" id="DialogueView-onNodeFinish">
<div class="docutils container">
<span class="name">onNodeFinish</span><span class="arguments"><span class="punct">(</span><span class="argument">Node <span class="name">node</span></span><span class="punct">)</span></span><span class="punct"> → </span>FutureOr&lt;void&gt;</div>
</div>
<div class="description doc2 docutils container">
<p>Called when the dialogue exits the <span class="param">node</span>.</p>
<p>For example, during a <a class="reference internal" href="../language/commands/jump.html"><span class="std std-doc">&lt;&lt;jump&gt;&gt;</span></a> this callback will be called with the
current node, and then <a class="reference internal" href="#DialogueView-onNodeStart"><code class="xref dart dart-ref docutils literal notranslate"><span class="pre">onNodeStart</span></code></a> will be called with the new node.
Similarly, the command <a class="reference internal" href="../language/commands/stop.html"><span class="std std-doc">&lt;&lt;stop&gt;&gt;</span></a> will trigger this callback too. At the
same time, during <a class="reference internal" href="../language/commands/visit.html"><span class="std std-doc">&lt;&lt;visit&gt;&gt;</span></a> this callback will not be invoked.</p>
<p>This callback can be used to clean up any preparations that were
performed in <a class="reference internal" href="#DialogueView-onNodeStart"><code class="xref dart dart-ref docutils literal notranslate"><span class="pre">onNodeStart</span></code></a>.</p>
</div>
</div>
<div class="method docutils container">
<div class="signature sig2 docutils container" id="DialogueView-onLineStart">
<div class="docutils container">
<span class="name">onLineStart</span><span class="arguments"><span class="punct">(</span><span class="argument">DialogueLine <span class="name">line</span></span><span class="punct">)</span></span><span class="punct"> → </span>FutureOr&lt;bool&gt;</div>
</div>
<div class="description doc2 docutils container">
<p>Called when the next dialogue <span class="param">line</span> should be presented to the user.</p>
<p>The <a class="reference internal" href="#DialogueView"><code class="xref dart dart-ref docutils literal notranslate"><span class="pre">DialogueView</span></code></a> may decide to present the <span class="param">line</span> in whatever way it
wants, or to not present the line at all. For example, the dialogue view
may: augment the line object, render the line at a certain place on the
screen, render only the character’s name, show the portrait of whoever is
speaking, show the text within a chat bubble, play a voice-over audio
file, store the text into the player’s conversation log, move the camera
to show the speaker, etc.</p>
<p>Some of these methods of delivery can be considered “primary”, while
others are “auxiliary”. A “primary” <a class="reference internal" href="#DialogueView"><code class="xref dart dart-ref docutils literal notranslate"><span class="pre">DialogueView</span></code></a> should return <code class="docutils literal notranslate"><span class="pre">true</span></code>,
while all others <code class="docutils literal notranslate"><span class="pre">false</span></code> (especially if a dialogue view ignores the line
completely). This is used as a robustness check: if none of the dialogue
views return <code class="docutils literal notranslate"><span class="pre">true</span></code>, then a <code class="docutils literal notranslate"><span class="pre">DialogueError</span></code> will be thrown because the
line was not shown to the user in a meaningful way.</p>
<p>If this method returns a future, then the dialogue runner will wait for
that future to complete before advancing to the next line. If multiple
<a class="reference internal" href="#DialogueView"><code class="xref dart dart-ref docutils literal notranslate"><span class="pre">DialogueView</span></code></a>s return such futures, then the dialogue runner will wait
for all of them to complete before proceeding.</p>
<p>Returning a future is quite common for non-trivial <a class="reference internal" href="#DialogueView"><code class="xref dart dart-ref docutils literal notranslate"><span class="pre">DialogueView</span></code></a>s. After
all, if this method were to return immediately, the dialogue runner would
immediately advance to the next line, and the player wouldn’t have time
to read the first one. A common scenario then is to reveal the line
gradually, and then wait some time before returning; or, alternatively,
return a <a class="reference external" href="https://api.dart.dev/stable/2.18.6/dart-async/Completer-class.html">Completer</a>-based future that completes based on some user action
such as clicking a button or pressing a keyboard key.</p>
<p>Note that this method is supposed to only <em>show</em> the line to the player,
so do not try to hide it at the end – for that, there is a dedicated
method <a class="reference internal" href="#DialogueView-onLineFinish"><code class="xref dart dart-ref docutils literal notranslate"><span class="pre">onLineFinish</span></code></a>.</p>
<p>Also, given that this method may take a significant amount of time, there
are two additional methods that may attempt to interfere into this
process: <a class="reference internal" href="#DialogueView-onLineSignal"><code class="xref dart dart-ref docutils literal notranslate"><span class="pre">onLineSignal</span></code></a> and <a class="reference internal" href="#DialogueView-onLineStop"><code class="xref dart dart-ref docutils literal notranslate"><span class="pre">onLineStop</span></code></a>.</p>
</div>
</div>
<div class="method docutils container">
<div class="signature sig2 docutils container" id="DialogueView-onLineSignal">
<div class="docutils container">
<span class="name">onLineSignal</span><span class="arguments"><span class="punct">(</span><span class="argument">DialogueLine <span class="name">line</span></span><span class="punct">, </span><span class="argument">dynamic <span class="name">signal</span></span><span class="punct">)</span></span></div>
</div>
<div class="description doc2 docutils container">
<p>Called when the dialogue runner sends a <span class="param">signal</span> to all dialogue views.</p>
<p>The signal will be sent to all views, regardless of whether they have
finished running <a class="reference internal" href="#DialogueView-onLineStart"><code class="xref dart dart-ref docutils literal notranslate"><span class="pre">onLineStart</span></code></a> or not. The interpretation of the signal
and the appropriate response is up to each dialogue view.</p>
<p>For example, one possible scenario would be to speed up a typewriter
effect and reveal the text immediately in response to the RUSH signal.
Or make some kind of an interjection in response to an OMG event. Or
pause presentation in response to a PAUSE signal. Or give a warning if
the player makes a hostile gesture such as drawing a weapon.</p>
</div>
</div>
<div class="method docutils container">
<div class="signature sig2 docutils container" id="DialogueView-onLineStop">
<div class="docutils container">
<span class="name">onLineStop</span><span class="arguments"><span class="punct">(</span><span class="argument">DialogueLine <span class="name">line</span></span><span class="punct">)</span></span><span class="punct"> → </span>FutureOr&lt;void&gt;</div>
</div>
<div class="description doc2 docutils container">
<p>Called when the game demands that the <span class="param">line</span> finished presenting as soon
as possible.</p>
<p>By itself, the dialogue runner will never call this method. However, it
may be invoked as a result of an explicit request by the game (or by one
of the dialogue views). Examples when this could be appropriate: (a) the
player was hit while talking to an NPC – better stop talking and fight
for your life, (b) the user has pressed a “skip dialogue” button, so we
should stop the current line and proceed to the next one ASAP.</p>
<p>This method returns a future that will be awaited before continuing to
the next line of the dialogue. At the same time, any future that’s still
pending from the <a class="reference internal" href="#DialogueView-onLineStart"><code class="xref dart dart-ref docutils literal notranslate"><span class="pre">onLineStart</span></code></a> call will be discarded and will no longer
be awaited. The <a class="reference internal" href="#DialogueView-onLineFinish"><code class="xref dart dart-ref docutils literal notranslate"><span class="pre">onLineFinish</span></code></a> method will not be called either.</p>
</div>
</div>
<div class="method docutils container">
<div class="signature sig2 docutils container" id="DialogueView-onLineFinish">
<div class="docutils container">
<span class="name">onLineFinish</span><span class="arguments"><span class="punct">(</span><span class="argument">DialogueLine <span class="name">line</span></span><span class="punct">)</span></span><span class="punct"> → </span>FutureOr&lt;void&gt;</div>
</div>
<div class="description doc2 docutils container">
<p>Called when the <span class="param">line</span> has finished presenting in all dialogue views.</p>
<p>Some dialogue views may need to clear their display when this event
happens, or make some other preparations to receive the next dialogue
line. If this method returns a future, that future will be awaited
before proceeding to the next line in the dialogue.</p>
</div>
</div>
<div class="method docutils container">
<div class="signature sig2 docutils container" id="DialogueView-onChoiceStart">
<div class="docutils container">
<span class="name">onChoiceStart</span><span class="arguments"><span class="punct">(</span><span class="argument">DialogueChoice <span class="name">choice</span></span><span class="punct">)</span></span><span class="punct"> → </span>FutureOr&lt;int?&gt;</div>
</div>
<div class="description doc2 docutils container">
<p>Called when the dialogue arrives at an option set, and the player must now
make a choice on how to proceed. If a dialogue view presents this choice
to the player and allows them to make a selection, then it must return a
future that completes when the choice is made. If the dialogue view does
not display menu choice, then it should return <code class="docutils literal notranslate"><span class="pre">null</span></code> (possibly in a
<code class="docutils literal notranslate"><span class="pre">Future</span></code>).</p>
<p>The future returned by this method should deliver an integer value of the
index of the option that was selected. This index must not exceed the
length of the <span class="param">choice</span> list, and the indicated option must not be marked
as “unavailable”. If these conditions are violated, an exception will be
thrown.</p>
</div>
</div>
<div class="method docutils container">
<div class="signature sig2 docutils container" id="DialogueView-onChoiceFinish">
<div class="docutils container">
<span class="name">onChoiceFinish</span><span class="arguments"><span class="punct">(</span><span class="argument">DialogueOption <span class="name">option</span></span><span class="punct">)</span></span><span class="punct"> → </span>FutureOr&lt;void&gt;</div>
</div>
<div class="description doc2 docutils container">
<p>Called when the choice has been made, and the <span class="param">option</span> was selected.</p>
<p>The <span class="param">option</span> will be the one returned from the <a class="reference internal" href="#DialogueView-onChoiceStart"><code class="xref dart dart-ref docutils literal notranslate"><span class="pre">onChoiceStart</span></code></a> method by
one of the dialogue views.</p>
</div>
</div>
<div class="method docutils container">
<div class="signature sig2 docutils container" id="DialogueView-onCommand">
<div class="docutils container">
<span class="name">onCommand</span><span class="arguments"><span class="punct">(</span><span class="argument">UserDefinedCommand <span class="name">command</span></span><span class="punct">)</span></span><span class="punct"> → </span>FutureOr&lt;void&gt;</div>
</div>
<div class="description doc2 docutils container">
<p>Called when the dialogue encounters a <a class="reference internal" href="user_defined_command.html"><span class="std std-doc">user-defined command</span></a>.</p>
<p>This method is invoked immediately after the command itself is executed,
but before the result of the execution was awaited. Thus, if the command’s
effect is asynchronous, then it will be send to dialogue views and
executed <em>at the same time</em>.</p>
<p>In cases when the command’s effect occurs within the game, implementing
this method may not be necessary. However, if you want to have a command
that affects the dialogue views themselves, then this method provides
a way of achieving that.</p>
</div>
</div>
</section>
</div>
</div>
</section>


    </div>
    <div class="copyright">
      The content on this page is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0 License</a>,
      and code samples under the <a href="https://raw.githubusercontent.com/flame-engine/flame/main/LICENSE">MIT License</a>.
    </div>
    <div class="prev-next-area">
      <a class="left-prev" id="prev-link" href="dialogue_runner.html" title="previous page">
        <i class="fa fa-angle-left"></i>
        <div class="prev-next-info">
          <p class="prev-next-subtitle">Previous:</p>
          <p class="prev-next-title">DialogueRunner</p>
        </div>
      </a>
      <div class='expander'></div>
      <a class="right-next" id="next-link" href="function_storage.html" title="next page">
        <div class="prev-next-info">
          <p class="prev-next-subtitle">Next:</p>
          <p class="prev-next-title">FunctionStorage</p>
        </div>
        <i class="fa fa-angle-right"></i>
      </a>
    </div>
  </div>

  <div class="sidebar-right">
    
    <div class="nav-right" role="navigation" aria-label="table of contents">
      <div id='toc-local' class='list-group'>
 <div class='header'><i class='fa fa-list'></i> Contents</div>
  <a href='#properties' class='list-group-item level-1'>Properties</a>
  <a href='#methods' class='list-group-item level-1'>Methods</a>
</div>

    </div>
  </div>

  <div class="expander"></div>
</div>




</body>
</html>