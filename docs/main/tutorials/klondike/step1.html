<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>1. Preparation &#8212; Flame</title>
  <!-- Stylesheets -->
  <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
  <link rel="stylesheet" type="text/css" href="../../_static/basic.css" />
  <link rel="stylesheet" type="text/css" href="../../_static/flutter_app.css" />
  <link rel="stylesheet" type="text/css" href="../../_static/flames.css" />
  <!-- Scripts -->
  <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
  <script src="../../_static/jquery.js"></script>
  <script src="../../_static/underscore.js"></script>
  <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
  <script src="../../_static/doctools.js"></script>
  <script src="../../_static/flutter_app.js"></script>
  <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
  <script>mermaid.initialize({startOnLoad:true});</script>
  <script src="../../_static/versions.js"></script>
  <!--script src="searchindex.js" defer></script-->
  <!-- Links -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,400;0,700;1,400;1,700&display=swap">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../../_static/fontawesome/fa-brands-400.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../../_static/fontawesome/fa-solid-900.woff2">
  <link rel="stylesheet" href="../../_static/fontawesome/all.min.css">
  <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <link rel="index" title="Index" href="../../genindex.html" />
  <link rel="search" title="Search" href="../../search.html" />
  <link rel="next" title="2. Scaffolding" href="step2.html" />
  <link rel="prev" title="Klondike game tutorial" href="klondike.html" />
</head>

<body data-spy="scroll" data-target="#toc-local" data-offset="80">

<div class="top-bar">
  <button id="menu-button" class="btn" title="Toggle menu"><i class="fa fa-bars"></i></button>
  <script type="text/javascript">
    jQuery(function(){
      $("#menu-button").click(function() {
        $(this).toggleClass("active");
        $(".sidebar-left-area").toggleClass("active");
      });
    });
  </script>

  <a href="../../index.html" class="logo_image">
    <img src="../../_static/logo_flame.png">
  </a>

  <div class="highlight-box" role="alert" style="display:none">
    <div>
      <div class="title">highlighted:</div>
      <div class="content" id="highlight-content"></div>
    </div>
    <button type="button" class="close" data-dismiss="alert" aria-label="Dismiss">×</button>
  </div>
  <div class="expander"></div>

  <div class="versions-placeholder"></div>
  <a href="https://discord.com/channels/509714518008528896/516639688581316629" id="discord-button"
     class="btn" title="Flame Discord channel">
    <i class="fab fa-discord"></i>
  </a>
  <a href="https://github.com/flame-engine/flame/" id="github-button" class="btn"
     title="GitHub repository">
    <i class="fab fa-github"></i>
  </a>
</div>

<div class="sidebar-left-area">
  <div class="sidebar-left-bg"></div>
  <div class="sidebar-left">
    <div class="searchbox" role="search">
      <form id="search-form" action="../../search.html" method="get">
        <i class="icon fa fa-search"></i>
        <input type="search" class="form-control" id="search-input" name="q"
               placeholder="Search the docs..." autocomplete="off" />
      </form>
    </div>
    <div class="nav-left" role="navigation" aria-label="Main">
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../flame/flame.html">flame</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../flame/structure.html">File structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../flame/game_widget.html">GameWidget</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../flame/game.html">Game loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../flame/components.html">Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../flame/platforms.html">Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../flame/collision_detection.html">Collision detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../flame/effects.html">Effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../flame/camera_and_viewport.html">Camera &amp; Viewport</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../flame/camera_component.html">Camera component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../flame/inputs/inputs.html">Inputs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../flame/inputs/tap-events.html">Tap events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flame/inputs/drag-events.html">Drag events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flame/inputs/gesture-input.html">Gesture input</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flame/inputs/keyboard-input.html">Keyboard input</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flame/inputs/other-inputs.html">Other inputs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../flame/rendering/rendering.html">Rendering</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../flame/rendering/images.html">Images, sprites and animations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flame/rendering/text.html">Text rendering</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flame/rendering/palette.html">Colors and palette</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flame/rendering/particles.html">Particles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flame/rendering/layers.html">Layers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../flame/other/other.html">Other</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../flame/other/debug.html">Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flame/other/util.html">Utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../flame/other/widgets.html">Widgets</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../flame_audio/flame_audio.html">flame_audio</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../flame_audio/audio.html">General audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../flame_audio/bgm.html">Background music</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../flame_audio/audio_pool.html">AudioPool</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../flame_forge2d/flame_forge2d.html">flame_forge2d</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../flame_forge2d/forge2d.html">Overview</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../tutorials.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../bare_flame_game.html">Bare Flame game</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="klondike.html">Klondike</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">1. Preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="step2.html">2. Scaffolding</a></li>
<li class="toctree-l3"><a class="reference internal" href="step3.html">3. Cards</a></li>
<li class="toctree-l3"><a class="reference internal" href="step4.html">4. Gameplay</a></li>
<li class="toctree-l3"><a class="reference internal" href="tbc.html">[To be continued]...</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../other_modules/other_modules.html">Other Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../other_modules/oxygen.html">Oxygen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../other_modules/tiled.html">Tiled</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../other_modules/splash_screen.html">Splash screen</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../development/development.html">Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../development/documentation.html">Documentation</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
</div>

<div class="main-area">
  <div class="document-wrapper">
    <div class="document" role="main">
      
  <section class="tex2jax_ignore mathjax_ignore" id="preparation">
<h1>1. Preparation<a class="headerlink" href="#preparation" title="Permalink to this heading">¶</a></h1>
<p>Before you begin any kind of game project, you need to give it a <strong>name</strong>. For
this tutorial the name will be simply <code class="docutils literal notranslate"><span class="pre">klondike</span></code>.</p>
<p>Having this name in mind, please head over to the <a class="reference internal" href="../bare_flame_game.html"><span class="doc std std-doc">Bare Flame game</span></a>
tutorial and complete the necessary set up steps. When you come back, you should
already have the <code class="docutils literal notranslate"><span class="pre">main.dart</span></code> file with the following content:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="s1">&#39;package:flame/game.dart&#39;</span><span class="p">;</span>
<span class="k">import</span> <span class="s1">&#39;package:flutter/widgets.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">final</span> <span class="n">game</span> <span class="o">=</span> <span class="n">FlameGame</span><span class="p">();</span>
  <span class="n">runApp</span><span class="p">(</span><span class="n">GameWidget</span><span class="p">(</span><span class="nl">game:</span> <span class="n">game</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<section id="planning">
<h2>Planning<a class="headerlink" href="#planning" title="Permalink to this heading">¶</a></h2>
<p>The start of any project usually feels overwhelming. Where even to begin?
I always find it useful to create a rough sketch of what I am about to code,
so that it can serve as a reference point. My sketch for the Klondike game is
shown below:</p>
<p><img alt="" src="../../_images/klondike-sketch.webp" /></p>
<p>Here you can see both the general layout of the game, as well as names of
various objects. These names are the <a class="reference external" href="https://en.wikipedia.org/wiki/Solitaire_terminology">standard terminology</a> for solitaire games.
Which is really lucky, because normally figuring out good names for various
classes is quite a challenging task.</p>
<p>Looking at this sketch, we can already imagine the high-level structure of the
game. Obviously, there will be a <code class="docutils literal notranslate"><span class="pre">Card</span></code> class, but also the <code class="docutils literal notranslate"><span class="pre">Stock</span></code> class, the
<code class="docutils literal notranslate"><span class="pre">Waste</span></code> class, a <code class="docutils literal notranslate"><span class="pre">Tableau</span></code> containing seven <code class="docutils literal notranslate"><span class="pre">Pile</span></code>s, and 4 <code class="docutils literal notranslate"><span class="pre">Foundation</span></code>s. There
may also be a <code class="docutils literal notranslate"><span class="pre">Deck</span></code>. All of these components will be tied together via the
<code class="docutils literal notranslate"><span class="pre">KlondikeGame</span></code> derived from the <code class="docutils literal notranslate"><span class="pre">FlameGame</span></code>.</p>
</section>
<section id="assets">
<h2>Assets<a class="headerlink" href="#assets" title="Permalink to this heading">¶</a></h2>
<p>Another important aspect in any game development is the game’s assets. These
includes images, sprites, animations, sounds, textures, data files, and so on.
In such a simple game as Klondike we won’t need lots of fancy graphics, but
still some sprites will be needed in order to draw the cards.</p>
<p>In order to prepare the graphic assets, I first took a physical playing card and
measured it to be 63mm × 88mm, which is the ratio of approximately <code class="docutils literal notranslate"><span class="pre">10:14</span></code>.
Thus, I decided that my in-game cards should be rendered at 1000×1400 pixels,
and I should draw all my images with this scale in mind.</p>
<p>Note that the exact pixel dimensions are somewhat irrelevant here, since the
images will in the end be scaled up or down, according to the device’s actual
resolution. Here I’m using probably a bigger resolution than necessary for
phones, but it would also work nicely for larger devices like an iPad.</p>
<p>And now, without further ado, here’s my graphic asset for the Klondike game
(I’m not an artist, so don’t judge too harshly):</p>
<p><img alt="" src="../../_images/klondike-sprites.png" /></p>
<p>Right-click the image, choose “Save as…”, and store it in the <code class="docutils literal notranslate"><span class="pre">assets/images</span></code>
folder of the project. At this point our project’s structure looks like this
(there are other files too, of course, but these are the important ones):</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>klondike/
 ├─assets/
 │  └─images/
 │     └─klondike-sprites.png
 ├─lib/
 │  └─main.dart
 └─pubspec.yaml
</pre></div>
</div>
<p>By the way, this kind of file is called the <strong>spritesheet</strong>: it’s just a
collection of multiple independent images in a single file. We are using a
spritesheet here for the simple reason that loading a single large image is
faster than many small images. In addition, rendering sprites that were
extracted from a single source image can be faster too, since Flutter will
optimize multiple such drawing commands into a single <code class="docutils literal notranslate"><span class="pre">drawAtlas</span></code> command.</p>
<p>Here are the contents of my spritesheet:</p>
<ul class="simple">
<li><p>Numerals 2, 3, 4, …, K, A. In theory, we could have rendered these in the
game as text strings, but then we would need to also include a font as an
asset – seems simpler to just have them as images instead.</p></li>
<li><p>Suit marks: ♥, ♦, ♣, ♠. Again, we could have used Unicode characters for
these, but images are much easier to position precisely.</p>
<ul>
<li><p>In case you’re wondering why these are yellow/blue instead of red/black
– turns out, black symbols don’t look very nice on a dark background,
so I had to adjust the color scheme.</p></li>
</ul>
</li>
<li><p>Flame logo, for use on the backs of the cards.</p></li>
<li><p>Pictures of a Jack, a Queen, and a King. Normally there would be four times
more of these, with a different character for each suite, but I got too
tired drawing these.</p></li>
</ul>
<p>Also, you need to tell Flutter about this image (just having it inside the
<code class="docutils literal notranslate"><span class="pre">assets</span></code> folder is not enough). In order to do this, let’s add the following
lines into the <code class="docutils literal notranslate"><span class="pre">pubspec.yaml</span></code> file:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">flutter</span><span class="p">:</span>
  <span class="nt">assets</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">assets/images/</span>
</pre></div>
</div>
<p>Alright, enough with preparing – onward to coding!</p>
</section>
</section>


    </div>
    <div class="copyright">
      The content on this page is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0 License</a>,
      and code samples under the <a href="https://raw.githubusercontent.com/flame-engine/flame/main/LICENSE">MIT License</a>.
    </div>
    <div class="prev-next-area">
      <a class="left-prev" id="prev-link" href="klondike.html" title="previous page">
        <i class="fa fa-angle-left"></i>
        <div class="prev-next-info">
          <p class="prev-next-subtitle">Previous:</p>
          <p class="prev-next-title">Klondike game tutorial</p>
        </div>
      </a>
      <div class='expander'></div>
      <a class="right-next" id="next-link" href="step2.html" title="next page">
        <div class="prev-next-info">
          <p class="prev-next-subtitle">Next:</p>
          <p class="prev-next-title">2. Scaffolding</p>
        </div>
        <i class="fa fa-angle-right"></i>
      </a>
    </div>
  </div>

  <div class="sidebar-right">
    
    <div class="nav-right" role="navigation" aria-label="table of contents">
      <div id='toc-local' class='list-group'>
 <div class='header'><i class='fa fa-list'></i> Contents</div>
  <a href='#planning' class='list-group-item level-1'>Planning</a>
  <a href='#assets' class='list-group-item level-1'>Assets</a>
</div>

    </div>
  </div>

  <div class="expander"></div>
</div>




</body>
</html>