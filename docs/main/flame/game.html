<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>FlameGame &#8212; Flame</title>
  <!-- Stylesheets -->
  <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
  <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
  <link rel="stylesheet" type="text/css" href="../_static/flutter_app.css" />
  <link rel="stylesheet" type="text/css" href="../_static/flames.css" />
  <!-- Scripts -->
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
  <script src="../_static/jquery.js"></script>
  <script src="../_static/underscore.js"></script>
  <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
  <script src="../_static/doctools.js"></script>
  <script src="../_static/flutter_app.js"></script>
  <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
  <script>mermaid.initialize({startOnLoad:true});</script>
  <script src="../_static/versions.js"></script>
  <!--script src="searchindex.js" defer></script-->
  <!-- Links -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,400;0,700;1,400;1,700&display=swap">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../_static/fontawesome/fa-brands-400.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../_static/fontawesome/fa-solid-900.woff2">
  <link rel="stylesheet" href="../_static/fontawesome/all.min.css">
  <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <link rel="index" title="Index" href="../genindex.html" />
  <link rel="search" title="Search" href="../search.html" />
  <link rel="next" title="Components" href="components.html" />
  <link rel="prev" title="GameWidget" href="game_widget.html" />
</head>

<body data-spy="scroll" data-target="#toc-local" data-offset="80">

<div class="top-bar">
  <button id="menu-button" class="btn" title="Toggle menu"><i class="fa fa-bars"></i></button>
  <script type="text/javascript">
    jQuery(function(){
      $("#menu-button").click(function() {
        $(this).toggleClass("active");
        $(".sidebar-left-area").toggleClass("active");
      });
    });
  </script>

  <a href="../index.html" class="logo_image">
    <img src="../_static/logo_flame.png">
  </a>

  <div class="highlight-box" role="alert" style="display:none">
    <div>
      <div class="title">highlighted:</div>
      <div class="content" id="highlight-content"></div>
    </div>
    <button type="button" class="close" data-dismiss="alert" aria-label="Dismiss">×</button>
  </div>
  <div class="expander"></div>

  <div class="versions-placeholder"></div>
  <a href="https://discord.com/channels/509714518008528896/516639688581316629" id="discord-button"
     class="btn" title="Flame Discord channel">
    <i class="fab fa-discord"></i>
  </a>
  <a href="https://github.com/flame-engine/flame/" id="github-button" class="btn"
     title="GitHub repository">
    <i class="fab fa-github"></i>
  </a>
</div>

<div class="sidebar-left-area">
  <div class="sidebar-left-bg"></div>
  <div class="sidebar-left">
    <div class="searchbox" role="search">
      <form id="search-form" action="../search.html" method="get">
        <i class="icon fa fa-search"></i>
        <input type="search" class="form-control" id="search-input" name="q"
               placeholder="Search the docs..." autocomplete="off" />
      </form>
    </div>
    <div class="nav-left" role="navigation" aria-label="Main">
      <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="flame.html">flame</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="structure.html">File structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="game_widget.html">GameWidget</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Game loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="components.html">Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="platforms.html">Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="collision_detection.html">Collision detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="effects.html">Effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="camera_and_viewport.html">Camera &amp; Viewport</a></li>
<li class="toctree-l2"><a class="reference internal" href="camera_component.html">Camera component</a></li>
<li class="toctree-l2"><a class="reference internal" href="inputs/inputs.html">Inputs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="inputs/tap-events.html">Tap events</a></li>
<li class="toctree-l3"><a class="reference internal" href="inputs/drag-events.html">Drag events</a></li>
<li class="toctree-l3"><a class="reference internal" href="inputs/gesture-input.html">Gesture input</a></li>
<li class="toctree-l3"><a class="reference internal" href="inputs/keyboard-input.html">Keyboard input</a></li>
<li class="toctree-l3"><a class="reference internal" href="inputs/other-inputs.html">Other inputs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rendering/rendering.html">Rendering</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rendering/images.html">Images, sprites and animations</a></li>
<li class="toctree-l3"><a class="reference internal" href="rendering/text.html">Text rendering</a></li>
<li class="toctree-l3"><a class="reference internal" href="rendering/palette.html">Colors and palette</a></li>
<li class="toctree-l3"><a class="reference internal" href="rendering/particles.html">Particles</a></li>
<li class="toctree-l3"><a class="reference internal" href="rendering/layers.html">Layers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="other/other.html">Other</a><ul>
<li class="toctree-l3"><a class="reference internal" href="other/debug.html">Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="other/util.html">Utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="other/widgets.html">Widgets</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../flame_audio/flame_audio.html">flame_audio</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../flame_audio/audio.html">General audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame_audio/bgm.html">Background music</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame_audio/audio_pool.html">AudioPool</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../flame_forge2d/flame_forge2d.html">flame_forge2d</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../flame_forge2d/forge2d.html">Overview</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorials.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/bare_flame_game.html">Bare Flame game</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/klondike/klondike.html">Klondike</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/step1.html">1. Preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/step2.html">2. Scaffolding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/step3.html">3. Cards</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/step4.html">4. Gameplay</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/tbc.html">[To be continued]...</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../other_modules/other_modules.html">Other Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../other_modules/oxygen.html">Oxygen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other_modules/tiled.html">Tiled</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other_modules/splash_screen.html">Splash screen</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/development.html">Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/documentation.html">Documentation</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
</div>

<div class="main-area">
  <div class="document-wrapper">
    <div class="document" role="main">
      
  <section class="tex2jax_ignore mathjax_ignore" id="flamegame">
<h1>FlameGame<a class="headerlink" href="#flamegame" title="Permalink to this heading">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">FlameGame</span></code> is the most most commonly used <code class="docutils literal notranslate"><span class="pre">Game</span></code> class in Flame.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">FlameGame</span></code> class implements a <code class="docutils literal notranslate"><span class="pre">Component</span></code> based <code class="docutils literal notranslate"><span class="pre">Game</span></code>. Basically it has a tree of <code class="docutils literal notranslate"><span class="pre">Component</span></code>s
and calls the <code class="docutils literal notranslate"><span class="pre">update</span></code> and <code class="docutils literal notranslate"><span class="pre">render</span></code> methods of all <code class="docutils literal notranslate"><span class="pre">Component</span></code>s that have been added to the game.</p>
<p>We refer to this component based system as the Flame Component System, FCS for short.</p>
<p>Components can be added to the <code class="docutils literal notranslate"><span class="pre">FlameGame</span></code> directly in the constructor with the named <code class="docutils literal notranslate"><span class="pre">children</span></code>
argument, or from anywhere else with the <code class="docutils literal notranslate"><span class="pre">add</span></code>/<code class="docutils literal notranslate"><span class="pre">addAll</span></code> methods.</p>
<p>A simple <code class="docutils literal notranslate"><span class="pre">FlameGame</span></code> implementation which adds two components, one in <code class="docutils literal notranslate"><span class="pre">onLoad</span></code> and one directly in
the constructor can look like this:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="c1">/// A component that renders the crate sprite, with a 16 x 16 size.</span>
<span class="kd">class</span> <span class="nc">MyCrate</span> <span class="kd">extends</span> <span class="n">SpriteComponent</span> <span class="p">{</span>
  <span class="n">MyCrate</span><span class="p">()</span> <span class="o">:</span> <span class="k">super</span><span class="p">(</span><span class="nl">size:</span> <span class="n">Vector2</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">));</span>

  <span class="nd">@override</span>
  <span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span> <span class="n">onLoad</span><span class="p">()</span> <span class="kd">async</span> <span class="p">{</span>
    <span class="n">sprite</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">Sprite</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;crate.png&#39;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">MyGame</span> <span class="kd">extends</span> <span class="n">FlameGame</span> <span class="p">{</span>
  <span class="nd">@override</span>
  <span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span> <span class="n">onLoad</span><span class="p">()</span> <span class="kd">async</span> <span class="p">{</span>
    <span class="kd">await</span> <span class="n">add</span><span class="p">(</span><span class="n">MyCrate</span><span class="p">());</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">final</span> <span class="n">myGame</span> <span class="o">=</span> <span class="n">MyGame</span><span class="p">(</span><span class="nl">children:</span> <span class="p">[</span><span class="n">MyCrate</span><span class="p">]);</span>
  <span class="n">runApp</span><span class="p">(</span>
    <span class="n">GameWidget</span><span class="p">(</span>
      <span class="nl">game:</span> <span class="n">myGame</span><span class="p">,</span>
    <span class="p">),</span>
  <span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you instantiate your game in a build method your game will be rebuilt every time the
Flutter tree gets rebuilt, which usually is more often than you’d like. To avoid this, you can
instead create an instance of your game first and reference it within your widget structure, like
it is done in the example above.</p>
</div>
<p>To remove components from the list on a <code class="docutils literal notranslate"><span class="pre">FlameGame</span></code> the <code class="docutils literal notranslate"><span class="pre">remove</span></code> or <code class="docutils literal notranslate"><span class="pre">removeAll</span></code> methods can be used.
The first can be used if you just want to remove one component, and the second can be used when you
want to remove a list of components.</p>
<section id="resizing">
<h2>Resizing<a class="headerlink" href="#resizing" title="Permalink to this heading">¶</a></h2>
<p>Every time the game needs to be resized, for example when the orientation is changed,
<code class="docutils literal notranslate"><span class="pre">FlameGame</span></code> will call all of the <code class="docutils literal notranslate"><span class="pre">Component</span></code>s <code class="docutils literal notranslate"><span class="pre">onGameResize</span></code> methods and it will also pass this
information to the camera and viewport.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">FlameGame.camera</span></code> controls which point in the coordinate space should be the top-left of the
screen (it defaults to [0,0] like a regular <code class="docutils literal notranslate"><span class="pre">Canvas</span></code>).</p>
</section>
<section id="lifecycle">
<h2>Lifecycle<a class="headerlink" href="#lifecycle" title="Permalink to this heading">¶</a></h2>
<p><img alt="Game Lifecycle Diagram" src="../_images/component_lifecycle.png" /></p>
<p>When a game first is added to a Flutter widget tree the following lifecycle methods will be called
in order: <code class="docutils literal notranslate"><span class="pre">onGameResize</span></code>, <code class="docutils literal notranslate"><span class="pre">onLoad</span></code> and <code class="docutils literal notranslate"><span class="pre">onMount</span></code>. After that it goes on to call <code class="docutils literal notranslate"><span class="pre">update</span></code> and
<code class="docutils literal notranslate"><span class="pre">render</span></code> back and forth every tick, until the widget is removed from the tree.
Once the <code class="docutils literal notranslate"><span class="pre">GameWidget</span></code> is removed from the tree, <code class="docutils literal notranslate"><span class="pre">onRemove</span></code> is called, just like when a normal
component is removed from the component tree.</p>
</section>
<section id="debug-mode">
<h2>Debug mode<a class="headerlink" href="#debug-mode" title="Permalink to this heading">¶</a></h2>
<p>Flame’s <code class="docutils literal notranslate"><span class="pre">FlameGame</span></code> class provides a variable called <code class="docutils literal notranslate"><span class="pre">debugMode</span></code>, which by default is <code class="docutils literal notranslate"><span class="pre">false</span></code>. It can
however, be set to <code class="docutils literal notranslate"><span class="pre">true</span></code> to enable debug features for the components of the game. <strong>Be aware</strong> that
the value of this variable is passed through to its components when they are added to the game, so
if you change the <code class="docutils literal notranslate"><span class="pre">debugMode</span></code> at runtime, it will not affect already added components by default.</p>
<p>To read more about the <code class="docutils literal notranslate"><span class="pre">debugMode</span></code> on Flame, please refer to the <a class="reference internal" href="other/debug.html"><span class="doc std std-doc">Debug Docs</span></a></p>
</section>
<section id="change-background-color">
<h2>Change background color<a class="headerlink" href="#change-background-color" title="Permalink to this heading">¶</a></h2>
<p>To change the background color of your <code class="docutils literal notranslate"><span class="pre">FlameGame</span></code> you have to override <code class="docutils literal notranslate"><span class="pre">backgroundColor()</span></code>.</p>
<p>In the following example the background color is set to be fully transparent, so that you can see
the widgets that are behind the <code class="docutils literal notranslate"><span class="pre">GameWidget</span></code>. The default it opaque black.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">MyGame</span> <span class="kd">extends</span> <span class="n">FlameGame</span> <span class="p">{</span>
  <span class="nd">@override</span>
  <span class="n">Color</span> <span class="n">backgroundColor</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="k">const</span> <span class="n">Color</span><span class="p">(</span><span class="mh">0x00000000</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that the background color can’t change dynamically while the game is running, but you could
just draw a background that covers the whole canvas if you would want it to change dynamically.</p>
</section>
<section id="singlegameinstance-mixin">
<h2>SingleGameInstance mixin<a class="headerlink" href="#singlegameinstance-mixin" title="Permalink to this heading">¶</a></h2>
<p>An optional mixin <code class="docutils literal notranslate"><span class="pre">SingleGameInstance</span></code> can be applied to your game if you are making a single-game
application. This is a common scenario when building games: there is a single full-screen
<code class="docutils literal notranslate"><span class="pre">GameWidget</span></code> which hosts a single <code class="docutils literal notranslate"><span class="pre">Game</span></code> instance.</p>
<p>Adding this mixin provides performance advantages in certain scenarios. In particular, a component’s
<code class="docutils literal notranslate"><span class="pre">onLoad</span></code> method is guaranteed to start when that component is added to its parent, even if the
parent is not yet mounted itself. Consequently, <code class="docutils literal notranslate"><span class="pre">await</span></code>-ing on <code class="docutils literal notranslate"><span class="pre">parent.add(component)</span></code> is guaranteed
to always finish loading the component.</p>
<p>Using this mixin is simple:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">MyGame</span> <span class="kd">extends</span> <span class="n">FlameGame</span> <span class="kd">with</span> <span class="n">SingleGameInstance</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="low-level-game-api">
<h2>Low-level Game API<a class="headerlink" href="#low-level-game-api" title="Permalink to this heading">¶</a></h2>
<p><img alt="Game low-level API" src="../_images/game_mixin.png" /></p>
<p>The <code class="docutils literal notranslate"><span class="pre">Game</span></code> class is a low-level API that can be used when you want to implement the functionality of
how the game engine should be structured. <code class="docutils literal notranslate"><span class="pre">Game</span></code> does not implement any <code class="docutils literal notranslate"><span class="pre">update</span></code> or
<code class="docutils literal notranslate"><span class="pre">render</span></code> function for example.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Loadable</span></code> mixin has the lifecycle methods <code class="docutils literal notranslate"><span class="pre">onLoad</span></code>, <code class="docutils literal notranslate"><span class="pre">onMount</span></code> and <code class="docutils literal notranslate"><span class="pre">onRemove</span></code> in it, which are
called from the <code class="docutils literal notranslate"><span class="pre">GameWidget</span></code> (or another parent) when the game is loaded + mounted, or removed.
<code class="docutils literal notranslate"><span class="pre">onLoad</span></code> is only called the first time the class is added to a parent, but <code class="docutils literal notranslate"><span class="pre">onMount</span></code> (which is
called after <code class="docutils literal notranslate"><span class="pre">onLoad</span></code>) is called every time it is added to a new parent. <code class="docutils literal notranslate"><span class="pre">onRemove</span></code> is called when
the class is removed from a parent.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Game</span></code> class allows for more freedom of how to implement things, but you are also
missing out on all of the built-in features in Flame if you use it.</p>
</div>
<p>An example of how a <code class="docutils literal notranslate"><span class="pre">Game</span></code> implementation could look like:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">MyGameSubClass</span> <span class="kd">extends</span> <span class="n">Game</span> <span class="p">{</span>
  <span class="nd">@override</span>
  <span class="kt">void</span> <span class="n">render</span><span class="p">(</span><span class="n">Canvas</span> <span class="n">canvas</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>

  <span class="nd">@override</span>
  <span class="kt">void</span> <span class="n">update</span><span class="p">(</span><span class="kt">double</span> <span class="n">dt</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">final</span> <span class="n">myGame</span> <span class="o">=</span> <span class="n">MyGameSubClass</span><span class="p">();</span>
  <span class="n">runApp</span><span class="p">(</span>
    <span class="n">GameWidget</span><span class="p">(</span>
      <span class="nl">game:</span> <span class="n">myGame</span><span class="p">,</span>
    <span class="p">)</span>
  <span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="game-loop">
<h2>Game Loop<a class="headerlink" href="#game-loop" title="Permalink to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">GameLoop</span></code> module is a simple abstraction over the game loop concept. Basically most games are
built upon two methods:</p>
<ul class="simple">
<li><p>The render method takes the canvas for drawing the current state of the game.</p></li>
<li><p>The update method receives the delta time in seconds since the last update and allows you to move
to the next state.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">GameLoop</span></code> is used by all of Flame’s <code class="docutils literal notranslate"><span class="pre">Game</span></code> implementations.</p>
</section>
<section id="pause-resuming-game-execution">
<h2>Pause/Resuming game execution<a class="headerlink" href="#pause-resuming-game-execution" title="Permalink to this heading">¶</a></h2>
<p>A Flame <code class="docutils literal notranslate"><span class="pre">Game</span></code> can be paused and resumed in two ways:</p>
<ul class="simple">
<li><p>With the use of the <code class="docutils literal notranslate"><span class="pre">pauseEngine</span></code> and <code class="docutils literal notranslate"><span class="pre">resumeEngine</span></code> methods.</p></li>
<li><p>By changing the <code class="docutils literal notranslate"><span class="pre">paused</span></code> attribute.</p></li>
</ul>
<p>When pausing a Flame <code class="docutils literal notranslate"><span class="pre">Game</span></code>, the <code class="docutils literal notranslate"><span class="pre">GameLoop</span></code> is effectively paused, meaning that no updates or new
renders will happen until it is resumed.</p>
</section>
<section id="flutter-widgets-and-game-instances">
<h2>Flutter Widgets and Game instances<a class="headerlink" href="#flutter-widgets-and-game-instances" title="Permalink to this heading">¶</a></h2>
<p>Since a Flame game can be wrapped in a widget, it is quite easy to use it alongside other Flutter
widgets. But still, there is the Widgets Overlay API that makes things even easier.</p>
<p><code class="docutils literal notranslate"><span class="pre">Game.overlays</span></code> enables any Flutter widget to be shown on top of a game instance, this makes it very
easy to create things like a pause menu or an inventory screen for example.</p>
<p>This management is done via the <code class="docutils literal notranslate"><span class="pre">game.overlays.add</span></code> and <code class="docutils literal notranslate"><span class="pre">game.overlays.remove</span></code> methods that marks an
overlay to be shown or hidden, respectively, via a <code class="docutils literal notranslate"><span class="pre">String</span></code> argument that identifies the overlay.
After that it can be specified which widgets represent each overlay in the <code class="docutils literal notranslate"><span class="pre">GameWidget</span></code> declaration
by setting a <code class="docutils literal notranslate"><span class="pre">overlayBuilderMap</span></code>.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Inside the game methods:</span>
  <span class="kd">final</span> <span class="n">pauseOverlayIdentifier</span> <span class="o">=</span> <span class="s1">&#39;PauseMenu&#39;</span><span class="p">;</span>

  <span class="c1">// Marks &#39;PauseMenu&#39; to be rendered.</span>
  <span class="n">overlays</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">pauseOverlayIdentifier</span><span class="p">);</span>
  <span class="c1">// Marks &#39;PauseMenu&#39; to not be rendered.</span>
  <span class="n">overlays</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">pauseOverlayIdentifier</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="c1">// On the widget declaration</span>
<span class="kd">final</span> <span class="n">game</span> <span class="o">=</span> <span class="n">MyGame</span><span class="p">();</span>

<span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">GameWidget</span><span class="p">(</span>
    <span class="nl">game:</span> <span class="n">game</span><span class="p">,</span>
    <span class="nl">overlayBuilderMap:</span> <span class="p">{</span>
      <span class="s1">&#39;PauseMenu&#39;</span><span class="o">:</span> <span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">,</span> <span class="n">MyGame</span> <span class="n">game</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">Text</span><span class="p">(</span><span class="s1">&#39;A pause menu&#39;</span><span class="p">);</span>
      <span class="p">},</span>
    <span class="p">},</span>
  <span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The order of rendering for an overlay is determined by the order of the keys in the
<code class="docutils literal notranslate"><span class="pre">overlayBuilderMap</span></code>.</p>
<p>An example of feature can be found
<a class="reference external" href="https://github.com/flame-engine/flame/blob/main/examples/lib/stories/system/overlays_example.dart">here</a>.</p>
</section>
</section>


    </div>
    <div class="copyright">
      The content on this page is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0 License</a>,
      and code samples under the <a href="https://raw.githubusercontent.com/flame-engine/flame/main/LICENSE">MIT License</a>.
    </div>
    <div class="prev-next-area">
      <a class="left-prev" id="prev-link" href="game_widget.html" title="previous page">
        <i class="fa fa-angle-left"></i>
        <div class="prev-next-info">
          <p class="prev-next-subtitle">Previous:</p>
          <p class="prev-next-title">GameWidget</p>
        </div>
      </a>
      <div class='expander'></div>
      <a class="right-next" id="next-link" href="components.html" title="next page">
        <div class="prev-next-info">
          <p class="prev-next-subtitle">Next:</p>
          <p class="prev-next-title">Components</p>
        </div>
        <i class="fa fa-angle-right"></i>
      </a>
    </div>
  </div>

  <div class="sidebar-right">
    
    <div class="nav-right" role="navigation" aria-label="table of contents">
      <div id='toc-local' class='list-group'>
 <div class='header'><i class='fa fa-list'></i> Contents</div>
  <a href='#resizing' class='list-group-item level-1'>Resizing</a>
  <a href='#lifecycle' class='list-group-item level-1'>Lifecycle</a>
  <a href='#debug-mode' class='list-group-item level-1'>Debug mode</a>
  <a href='#change-background-color' class='list-group-item level-1'>Change background color</a>
  <a href='#singlegameinstance-mixin' class='list-group-item level-1'>SingleGameInstance mixin</a>
  <a href='#low-level-game-api' class='list-group-item level-1'>Low-level Game API</a>
  <a href='#game-loop' class='list-group-item level-1'>Game Loop</a>
  <a href='#pause-resuming-game-execution' class='list-group-item level-1'>Pause/Resuming game execution</a>
  <a href='#flutter-widgets-and-game-instances' class='list-group-item level-1'>Flutter Widgets and Game instances</a>
</div>

    </div>
  </div>

  <div class="expander"></div>
</div>




</body>
</html>