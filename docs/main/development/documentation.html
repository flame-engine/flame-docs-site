<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Documentation Site &#8212; Flame</title>
  <!-- Stylesheets -->
  <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
  <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
  <link rel="stylesheet" type="text/css" href="../_static/flutter_app.css" />
  <link rel="stylesheet" type="text/css" href="../_static/flames.css" />
  <!-- Scripts -->
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
  <script src="../_static/jquery.js"></script>
  <script src="../_static/underscore.js"></script>
  <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
  <script src="../_static/doctools.js"></script>
  <script src="../_static/flutter_app.js"></script>
  <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
  <script>mermaid.initialize({startOnLoad:true});</script>
  <script src="../_static/versions.js"></script>
  <!--script src="searchindex.js" defer></script-->
  <!-- Links -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,400;0,700;1,400;1,700&display=swap">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../_static/fontawesome/fa-brands-400.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../_static/fontawesome/fa-solid-900.woff2">
  <link rel="stylesheet" href="../_static/fontawesome/all.min.css">
  <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <link rel="index" title="Index" href="../genindex.html" />
  <link rel="search" title="Search" href="../search.html" />
  <link rel="prev" title="Development" href="development.html" />
</head>

<body data-spy="scroll" data-target="#toc-local" data-offset="80">

<div class="top-bar">
  <button id="menu-button" class="btn" title="Toggle menu"><i class="fa fa-bars"></i></button>
  <script type="text/javascript">
    jQuery(function(){
      $("#menu-button").click(function() {
        $(this).toggleClass("active");
        $(".sidebar-left-area").toggleClass("active");
      });
    });
  </script>

  <a href="../index.html" class="logo_image">
    <img src="../_static/logo_flame.png">
  </a>

  <div class="highlight-box" role="alert" style="display:none">
    <div>
      <div class="title">highlighted:</div>
      <div class="content" id="highlight-content"></div>
    </div>
    <button type="button" class="close" data-dismiss="alert" aria-label="Dismiss">×</button>
  </div>
  <div class="expander"></div>

  <div class="versions-placeholder"></div>
  <a href="https://discord.com/channels/509714518008528896/516639688581316629" id="discord-button"
     class="btn" title="Flame Discord channel">
    <i class="fab fa-discord"></i>
  </a>
  <a href="https://github.com/flame-engine/flame/" id="github-button" class="btn"
     title="GitHub repository">
    <i class="fab fa-github"></i>
  </a>
</div>

<div class="sidebar-left-area">
  <div class="sidebar-left-bg"></div>
  <div class="sidebar-left">
    <div class="searchbox" role="search">
      <form id="search-form" action="../search.html" method="get">
        <i class="icon fa fa-search"></i>
        <input type="search" class="form-control" id="search-input" name="q"
               placeholder="Search the docs..." autocomplete="off" />
      </form>
    </div>
    <div class="nav-left" role="navigation" aria-label="Main">
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../flame/flame.html">flame</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../flame/structure.html">File structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame/game_widget.html">GameWidget</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame/game.html">Game loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame/components.html">Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame/platforms.html">Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame/collision_detection.html">Collision detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame/effects.html">Effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame/camera_and_viewport.html">Camera &amp; Viewport</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame/camera_component.html">Camera component</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame/inputs/inputs.html">Inputs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../flame/inputs/tap-events.html">Tap events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flame/inputs/drag-events.html">Drag events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flame/inputs/gesture-input.html">Gesture input</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flame/inputs/keyboard-input.html">Keyboard input</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flame/inputs/other-inputs.html">Other inputs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../flame/rendering/rendering.html">Rendering</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../flame/rendering/images.html">Images, sprites and animations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flame/rendering/text.html">Text rendering</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flame/rendering/palette.html">Colors and palette</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flame/rendering/particles.html">Particles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flame/rendering/layers.html">Layers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../flame/other/other.html">Other</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../flame/other/debug.html">Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flame/other/util.html">Utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flame/other/widgets.html">Widgets</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../flame_audio/flame_audio.html">flame_audio</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../flame_audio/audio.html">General audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame_audio/bgm.html">Background music</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame_audio/audio_pool.html">AudioPool</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../flame_forge2d/flame_forge2d.html">flame_forge2d</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../flame_forge2d/forge2d.html">Overview</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorials.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/bare_flame_game.html">Bare Flame game</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/klondike/klondike.html">Klondike</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/step1.html">1. Preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/step2.html">2. Scaffolding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/step3.html">3. Cards</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/step4.html">4. Gameplay</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/tbc.html">[To be continued]...</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../other_modules/other_modules.html">Other Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../other_modules/oxygen.html">Oxygen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other_modules/tiled.html">Tiled</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other_modules/splash_screen.html">Splash screen</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="development.html">Development</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Documentation</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
</div>

<div class="main-area">
  <div class="document-wrapper">
    <div class="document" role="main">
      
  <section class="tex2jax_ignore mathjax_ignore" id="documentation-site">
<h1>Documentation Site<a class="headerlink" href="#documentation-site" title="Permalink to this heading">¶</a></h1>
<p>Flame’s documentation is written in <strong>Markdown</strong>. It is then rendered into HTML with the help of
the <a class="reference external" href="https://www.sphinx-doc.org/en/master/">Sphinx</a> engine and its <a class="reference external" href="https://myst-parser.readthedocs.io/en/latest/">MyST</a> plugin. The rendered files are then manually (but with the help
of a script) published to <a class="reference external" href="https://github.com/flame-engine/flame-docs-site">flame-docs-site</a>, where the site is served via <a class="reference external" href="https://pages.github.com/">GitHub Pages</a>.</p>
<section id="markdown">
<h2>Markdown<a class="headerlink" href="#markdown" title="Permalink to this heading">¶</a></h2>
<p>The main documentation site is written in Markdown. We assume that you’re already familiar with the
basics of the Markdown syntax (if not, there are plenty of guides on the Internet). Instead, this
section will focus on the Markdown extensions that are enabled in our build system.</p>
<section id="table-of-contents">
<h3>Table of contents<a class="headerlink" href="#table-of-contents" title="Permalink to this heading">¶</a></h3>
<p>The table of contents for the site must be created manually. This is done using special <code class="docutils literal notranslate"><span class="pre">{toctree}</span></code>
blocks, one per each subdirectory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```{toctree}
:hidden:

First Topic    &lt;topic1.md&gt;
Second Topic   &lt;topic2.md&gt;
```
</pre></div>
</div>
<p>When adding new documents into the documentation site, make sure that they are mentioned in one of
the toctrees – otherwise you will see a warning during the build that the document is orphaned.</p>
</section>
<section id="admonitions">
<h3>Admonitions<a class="headerlink" href="#admonitions" title="Permalink to this heading">¶</a></h3>
<p>Admonitions are emphasized blocks of text with a distinct appearance. They are created using the
triple-backticks syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```{note}
Please note this very important caveat.
```
```{warning}
Don&#39;t look down, or you will encounter an error.
```
```{error}
I told you so.
```
```{seealso}
Also check out this cool thingy.
```
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please note this very important caveat.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Don’t look down, or you will encounter an error.</p>
</div>
<div class="admonition error">
<p class="admonition-title">Error</p>
<p>I told you so.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Also check out this cool thingy.</p>
</div>
</section>
<section id="deprecations">
<h3>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this heading">¶</a></h3>
<p>The special <code class="docutils literal notranslate"><span class="pre">{deprecated}</span></code> block can be used to mark some part of documentation or syntax as being
deprecated. This block requires specifying the version when the deprecation has occurred</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```{deprecated} v1.3.0

Please use this **other** thing instead.
```
</pre></div>
</div>
<p>Which would be rendered like this:</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version v1.3.0: </span>Please use this <strong>other</strong> thing instead.</p>
</div>
</section>
<section id="live-examples">
<h3>Live examples<a class="headerlink" href="#live-examples" title="Permalink to this heading">¶</a></h3>
<p>Our documentation site includes a custom-built <strong>flutter-app</strong> directive which allows creating
Flutter widgets and embedding them alongside with the overall documentation content.</p>
<p>In Markdown, the code for inserting an embed looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```{flutter-app}
:sources: ../flame/examples
:page: tap_events
:show: widget code popup
```
</pre></div>
</div>
<p>Here’s what the different options mean:</p>
<ul>
<li><p><strong>sources</strong>: specifies the name of the root directory where the Flutter code that you wish to run
is located. This directory must be a Flutter repository, and there must be a <code class="docutils literal notranslate"><span class="pre">pubspec.yaml</span></code> file
there. The path is considered relative to the <code class="docutils literal notranslate"><span class="pre">doc/_sphinx</span></code> directory.</p></li>
<li><p><strong>page</strong>: a sub-path within the root directory given in <code class="docutils literal notranslate"><span class="pre">sources</span></code>. This option has two effects:
first, it is appended to the path of the html page of the widget, like so: <code class="docutils literal notranslate"><span class="pre">main.dart.html?$page</span></code>.
Secondly, the button to show the source code of the embed will display the code from the file or
directory with the name given by <code class="docutils literal notranslate"><span class="pre">page</span></code>.</p>
<p>The purpose of this option is to be able to bundle multiple examples into a single executable.
When using this option, the <code class="docutils literal notranslate"><span class="pre">main.dart</span></code> file of the app should route the execution to the proper
widget according to the <code class="docutils literal notranslate"><span class="pre">page</span></code> being passed.</p>
</li>
<li><p><strong>show</strong>: contains a subset of modes: <code class="docutils literal notranslate"><span class="pre">widget</span></code>, <code class="docutils literal notranslate"><span class="pre">code</span></code>, and <code class="docutils literal notranslate"><span class="pre">popup</span></code>. The <code class="docutils literal notranslate"><span class="pre">widget</span></code> mode creates an
iframe with the embedded example, directly within the page. The <code class="docutils literal notranslate"><span class="pre">code</span></code> mode will show a button
that allows the user to see the code that produced this example. The <code class="docutils literal notranslate"><span class="pre">popup</span></code> mode also shows a
button, which displays the example in an overlay window. This is more suitable for demoing larger
apps. Using both “widget” and “popup” modes at the same time is not recommended.</p></li>
</ul>
<iframe class="flutter-app-iframe" src="/main/_static/apps/flame-examples/index.html?tap_events">
</iframe><button class="flutter-app-button popup" onclick="run_flutter_app(&quot;/main/_static/apps/flame-examples/index.html?tap_events&quot;)">Run</button><div class="flutter-app-code docutils container" id="flame-examples-source">
<div class="filename docutils container">
tap_events.dart</div>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="k">import</span> <span class="s1">&#39;dart:math&#39;</span><span class="p">;</span>
<span class="linenos">  2</span>
<span class="linenos">  3</span><span class="k">import</span> <span class="s1">&#39;package:flame/components.dart&#39;</span><span class="p">;</span>
<span class="linenos">  4</span><span class="k">import</span> <span class="s1">&#39;package:flame/experimental.dart&#39;</span><span class="p">;</span>
<span class="linenos">  5</span><span class="k">import</span> <span class="s1">&#39;package:flame/game.dart&#39;</span><span class="p">;</span>
<span class="linenos">  6</span><span class="k">import</span> <span class="s1">&#39;package:flutter/rendering.dart&#39;</span><span class="p">;</span>
<span class="linenos">  7</span>
<span class="linenos">  8</span><span class="c1">/// The main [FlameGame] class uses [HasTappableComponents] in order to enable</span>
<span class="linenos">  9</span><span class="c1">/// tap events propagation.</span>
<span class="linenos"> 10</span><span class="kd">class</span> <span class="nc">TapEventsGame</span> <span class="kd">extends</span> <span class="n">FlameGame</span> <span class="kd">with</span> <span class="n">HasTappableComponents</span> <span class="p">{</span>
<span class="linenos"> 11</span>  <span class="nd">@override</span>
<span class="linenos"> 12</span>  <span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span> <span class="n">onLoad</span><span class="p">()</span> <span class="kd">async</span> <span class="p">{</span>
<span class="linenos"> 13</span>    <span class="n">add</span><span class="p">(</span><span class="n">TapTarget</span><span class="p">());</span>
<span class="linenos"> 14</span>  <span class="p">}</span>
<span class="linenos"> 15</span><span class="p">}</span>
<span class="linenos"> 16</span>
<span class="linenos"> 17</span><span class="c1">/// This component is the tappable blue-ish rectangle in the center of the</span>
<span class="linenos"> 18</span><span class="c1">/// game. It uses the [TapCallbacks] mixin in order to inform the game that it</span>
<span class="linenos"> 19</span><span class="c1">/// wants to receive tap events.</span>
<span class="linenos"> 20</span><span class="kd">class</span> <span class="nc">TapTarget</span> <span class="kd">extends</span> <span class="n">PositionComponent</span> <span class="kd">with</span> <span class="n">TapCallbacks</span> <span class="p">{</span>
<span class="linenos"> 21</span>  <span class="n">TapTarget</span><span class="p">()</span> <span class="o">:</span> <span class="k">super</span><span class="p">(</span><span class="nl">anchor:</span> <span class="n">Anchor</span><span class="p">.</span><span class="n">center</span><span class="p">);</span>
<span class="linenos"> 22</span>
<span class="linenos"> 23</span>  <span class="kd">final</span> <span class="n">_paint</span> <span class="o">=</span> <span class="n">Paint</span><span class="p">()..</span><span class="n">color</span> <span class="o">=</span> <span class="k">const</span> <span class="n">Color</span><span class="p">(</span><span class="mh">0x448BA8FF</span><span class="p">);</span>
<span class="linenos"> 24</span>
<span class="linenos"> 25</span>  <span class="c1">/// We will store all current circles into this map, keyed by the `pointerId`</span>
<span class="linenos"> 26</span>  <span class="c1">/// of the event that created the circle.</span>
<span class="linenos"> 27</span>  <span class="kd">final</span> <span class="n">Map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="n">ExpandingCircle</span><span class="o">&gt;</span> <span class="n">_circles</span> <span class="o">=</span> <span class="p">{};</span>
<span class="linenos"> 28</span>
<span class="linenos"> 29</span>  <span class="nd">@override</span>
<span class="linenos"> 30</span>  <span class="kt">void</span> <span class="n">onGameResize</span><span class="p">(</span><span class="n">Vector2</span> <span class="n">canvasSize</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos"> 31</span>    <span class="k">super</span><span class="p">.</span><span class="n">onGameResize</span><span class="p">(</span><span class="n">canvasSize</span><span class="p">);</span>
<span class="linenos"> 32</span>    <span class="n">size</span> <span class="o">=</span> <span class="n">canvasSize</span> <span class="o">-</span> <span class="n">Vector2</span><span class="p">(</span><span class="m">100</span><span class="p">,</span> <span class="m">75</span><span class="p">);</span>
<span class="linenos"> 33</span>    <span class="k">if</span> <span class="p">(</span><span class="n">size</span><span class="p">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="m">100</span> <span class="o">||</span> <span class="n">size</span><span class="p">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="m">100</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos"> 34</span>      <span class="n">size</span> <span class="o">=</span> <span class="n">canvasSize</span> <span class="o">*</span> <span class="m">0.9</span><span class="p">;</span>
<span class="linenos"> 35</span>    <span class="p">}</span>
<span class="linenos"> 36</span>    <span class="n">position</span> <span class="o">=</span> <span class="n">canvasSize</span> <span class="o">/</span> <span class="m">2</span><span class="p">;</span>
<span class="linenos"> 37</span>  <span class="p">}</span>
<span class="linenos"> 38</span>
<span class="linenos"> 39</span>  <span class="nd">@override</span>
<span class="linenos"> 40</span>  <span class="kt">void</span> <span class="n">render</span><span class="p">(</span><span class="n">Canvas</span> <span class="n">canvas</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos"> 41</span>    <span class="n">canvas</span><span class="p">.</span><span class="n">drawRect</span><span class="p">(</span><span class="n">size</span><span class="p">.</span><span class="n">toRect</span><span class="p">(),</span> <span class="n">_paint</span><span class="p">);</span>
<span class="linenos"> 42</span>  <span class="p">}</span>
<span class="linenos"> 43</span>
<span class="linenos"> 44</span>  <span class="nd">@override</span>
<span class="linenos"> 45</span>  <span class="kt">void</span> <span class="n">onTapDown</span><span class="p">(</span><span class="n">TapDownEvent</span> <span class="n">event</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos"> 46</span>    <span class="kd">final</span> <span class="n">circle</span> <span class="o">=</span> <span class="n">ExpandingCircle</span><span class="p">(</span><span class="n">event</span><span class="p">.</span><span class="n">localPosition</span><span class="p">);</span>
<span class="linenos"> 47</span>    <span class="n">_circles</span><span class="p">[</span><span class="n">event</span><span class="p">.</span><span class="n">pointerId</span><span class="p">]</span> <span class="o">=</span> <span class="n">circle</span><span class="p">;</span>
<span class="linenos"> 48</span>    <span class="n">add</span><span class="p">(</span><span class="n">circle</span><span class="p">);</span>
<span class="linenos"> 49</span>  <span class="p">}</span>
<span class="linenos"> 50</span>
<span class="linenos"> 51</span>  <span class="nd">@override</span>
<span class="linenos"> 52</span>  <span class="kt">void</span> <span class="n">onLongTapDown</span><span class="p">(</span><span class="n">TapDownEvent</span> <span class="n">event</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos"> 53</span>    <span class="n">_circles</span><span class="p">[</span><span class="n">event</span><span class="p">.</span><span class="n">pointerId</span><span class="p">]</span><span class="o">!</span><span class="p">.</span><span class="n">accent</span><span class="p">();</span>
<span class="linenos"> 54</span>  <span class="p">}</span>
<span class="linenos"> 55</span>
<span class="linenos"> 56</span>  <span class="nd">@override</span>
<span class="linenos"> 57</span>  <span class="kt">void</span> <span class="n">onTapUp</span><span class="p">(</span><span class="n">TapUpEvent</span> <span class="n">event</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos"> 58</span>    <span class="n">_circles</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">event</span><span class="p">.</span><span class="n">pointerId</span><span class="p">)</span><span class="o">!</span><span class="p">.</span><span class="n">release</span><span class="p">();</span>
<span class="linenos"> 59</span>  <span class="p">}</span>
<span class="linenos"> 60</span>
<span class="linenos"> 61</span>  <span class="nd">@override</span>
<span class="linenos"> 62</span>  <span class="kt">void</span> <span class="n">onTapCancel</span><span class="p">(</span><span class="n">TapCancelEvent</span> <span class="n">event</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos"> 63</span>    <span class="n">_circles</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">event</span><span class="p">.</span><span class="n">pointerId</span><span class="p">)</span><span class="o">!</span><span class="p">.</span><span class="n">cancel</span><span class="p">();</span>
<span class="linenos"> 64</span>  <span class="p">}</span>
<span class="linenos"> 65</span><span class="p">}</span>
<span class="linenos"> 66</span>
<span class="linenos"> 67</span><span class="kd">class</span> <span class="nc">ExpandingCircle</span> <span class="kd">extends</span> <span class="n">Component</span> <span class="p">{</span>
<span class="linenos"> 68</span>  <span class="n">ExpandingCircle</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">_center</span><span class="p">)</span>
<span class="linenos"> 69</span>      <span class="o">:</span> <span class="n">_baseColor</span> <span class="o">=</span>
<span class="linenos"> 70</span>            <span class="n">HSLColor</span><span class="p">.</span><span class="n">fromAHSL</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="n">random</span><span class="p">.</span><span class="n">nextDouble</span><span class="p">()</span> <span class="o">*</span> <span class="m">360</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0.8</span><span class="p">).</span><span class="n">toColor</span><span class="p">();</span>
<span class="linenos"> 71</span>
<span class="linenos"> 72</span>  <span class="kd">final</span> <span class="n">Color</span> <span class="n">_baseColor</span><span class="p">;</span>
<span class="linenos"> 73</span>  <span class="kd">final</span> <span class="n">Vector2</span> <span class="n">_center</span><span class="p">;</span>
<span class="linenos"> 74</span>  <span class="kt">double</span> <span class="n">_outerRadius</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span>
<span class="linenos"> 75</span>  <span class="kt">double</span> <span class="n">_innerRadius</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span>
<span class="linenos"> 76</span>  <span class="kt">bool</span> <span class="n">_released</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="linenos"> 77</span>  <span class="kt">bool</span> <span class="n">_cancelled</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="linenos"> 78</span>  <span class="kd">late</span> <span class="kd">final</span> <span class="n">_paint</span> <span class="o">=</span> <span class="n">Paint</span><span class="p">()</span>
<span class="linenos"> 79</span>    <span class="p">..</span><span class="n">style</span> <span class="o">=</span> <span class="n">PaintingStyle</span><span class="p">.</span><span class="n">stroke</span>
<span class="linenos"> 80</span>    <span class="p">..</span><span class="n">color</span> <span class="o">=</span> <span class="n">_baseColor</span><span class="p">;</span>
<span class="linenos"> 81</span>
<span class="linenos"> 82</span>  <span class="c1">/// &quot;Accent&quot; is thin white circle generated by `onLongTapDown`. We use</span>
<span class="linenos"> 83</span>  <span class="c1">/// negative radius to indicate that the circle should not be drawn yet.</span>
<span class="linenos"> 84</span>  <span class="kt">double</span> <span class="n">_accentRadius</span> <span class="o">=</span> <span class="o">-</span><span class="m">1e10</span><span class="p">;</span>
<span class="linenos"> 85</span>  <span class="kd">late</span> <span class="kd">final</span> <span class="n">_accentPaint</span> <span class="o">=</span> <span class="n">Paint</span><span class="p">()</span>
<span class="linenos"> 86</span>    <span class="p">..</span><span class="n">style</span> <span class="o">=</span> <span class="n">PaintingStyle</span><span class="p">.</span><span class="n">stroke</span>
<span class="linenos"> 87</span>    <span class="p">..</span><span class="n">strokeWidth</span> <span class="o">=</span> <span class="m">0</span>
<span class="linenos"> 88</span>    <span class="p">..</span><span class="n">color</span> <span class="o">=</span> <span class="k">const</span> <span class="n">Color</span><span class="p">(</span><span class="mh">0xFFFFFFFF</span><span class="p">);</span>
<span class="linenos"> 89</span>
<span class="linenos"> 90</span>  <span class="c1">/// At this radius the circle will disappear.</span>
<span class="linenos"> 91</span>  <span class="kd">static</span> <span class="k">const</span> <span class="n">maxRadius</span> <span class="o">=</span> <span class="m">175</span><span class="p">;</span>
<span class="linenos"> 92</span>  <span class="kd">static</span> <span class="kd">final</span> <span class="n">random</span> <span class="o">=</span> <span class="n">Random</span><span class="p">();</span>
<span class="linenos"> 93</span>
<span class="linenos"> 94</span>  <span class="kt">double</span> <span class="kd">get</span> <span class="n">radius</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="n">_innerRadius</span> <span class="o">+</span> <span class="n">_outerRadius</span><span class="p">)</span> <span class="o">/</span> <span class="m">2</span><span class="p">;</span>
<span class="linenos"> 95</span>
<span class="linenos"> 96</span>  <span class="kt">void</span> <span class="n">release</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="n">_released</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="linenos"> 97</span>  <span class="kt">void</span> <span class="n">cancel</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="n">_cancelled</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="linenos"> 98</span>  <span class="kt">void</span> <span class="n">accent</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="n">_accentRadius</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span>
<span class="linenos"> 99</span>
<span class="linenos">100</span>  <span class="nd">@override</span>
<span class="linenos">101</span>  <span class="kt">void</span> <span class="n">render</span><span class="p">(</span><span class="n">Canvas</span> <span class="n">canvas</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos">102</span>    <span class="n">canvas</span><span class="p">.</span><span class="n">drawCircle</span><span class="p">(</span><span class="n">_center</span><span class="p">.</span><span class="n">toOffset</span><span class="p">(),</span> <span class="n">radius</span><span class="p">,</span> <span class="n">_paint</span><span class="p">);</span>
<span class="linenos">103</span>    <span class="k">if</span> <span class="p">(</span><span class="n">_accentRadius</span> <span class="o">&gt;=</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos">104</span>      <span class="n">canvas</span><span class="p">.</span><span class="n">drawCircle</span><span class="p">(</span><span class="n">_center</span><span class="p">.</span><span class="n">toOffset</span><span class="p">(),</span> <span class="n">_accentRadius</span><span class="p">,</span> <span class="n">_accentPaint</span><span class="p">);</span>
<span class="linenos">105</span>    <span class="p">}</span>
<span class="linenos">106</span>  <span class="p">}</span>
<span class="linenos">107</span>
<span class="linenos">108</span>  <span class="nd">@override</span>
<span class="linenos">109</span>  <span class="kt">void</span> <span class="n">update</span><span class="p">(</span><span class="kt">double</span> <span class="n">dt</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos">110</span>    <span class="k">if</span> <span class="p">(</span><span class="n">_cancelled</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos">111</span>      <span class="n">_innerRadius</span> <span class="o">+=</span> <span class="n">dt</span> <span class="o">*</span> <span class="m">100</span><span class="p">;</span> <span class="c1">// implosion</span>
<span class="linenos">112</span>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<span class="linenos">113</span>      <span class="n">_outerRadius</span> <span class="o">+=</span> <span class="n">dt</span> <span class="o">*</span> <span class="m">20</span><span class="p">;</span>
<span class="linenos">114</span>      <span class="n">_innerRadius</span> <span class="o">+=</span> <span class="n">dt</span> <span class="o">*</span> <span class="p">(</span><span class="n">_released</span> <span class="o">?</span> <span class="m">20</span> <span class="o">:</span> <span class="m">6</span><span class="p">);</span>
<span class="linenos">115</span>      <span class="n">_accentRadius</span> <span class="o">+=</span> <span class="n">dt</span> <span class="o">*</span> <span class="m">20</span><span class="p">;</span>
<span class="linenos">116</span>    <span class="p">}</span>
<span class="linenos">117</span>    <span class="k">if</span> <span class="p">(</span><span class="n">radius</span> <span class="o">&gt;=</span> <span class="n">maxRadius</span> <span class="o">||</span> <span class="n">_innerRadius</span> <span class="o">&gt;</span> <span class="n">_outerRadius</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos">118</span>      <span class="n">removeFromParent</span><span class="p">();</span>
<span class="linenos">119</span>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<span class="linenos">120</span>      <span class="kd">final</span> <span class="n">opacity</span> <span class="o">=</span> <span class="m">1</span> <span class="o">-</span> <span class="n">radius</span> <span class="o">/</span> <span class="n">maxRadius</span><span class="p">;</span>
<span class="linenos">121</span>      <span class="n">_paint</span><span class="p">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">_baseColor</span><span class="p">.</span><span class="n">withOpacity</span><span class="p">(</span><span class="n">opacity</span><span class="p">);</span>
<span class="linenos">122</span>      <span class="n">_paint</span><span class="p">.</span><span class="n">strokeWidth</span> <span class="o">=</span> <span class="n">_outerRadius</span> <span class="o">-</span> <span class="n">_innerRadius</span><span class="p">;</span>
<span class="linenos">123</span>    <span class="p">}</span>
<span class="linenos">124</span>  <span class="p">}</span>
<span class="linenos">125</span><span class="p">}</span>
</pre></div>
</div>
</div>
<button class="flutter-app-button code" onclick="open_code_listings(&quot;flame-examples-source&quot;)">Code</button></section>
</section>
<section id="building-documentation-locally">
<h2>Building documentation locally<a class="headerlink" href="#building-documentation-locally" title="Permalink to this heading">¶</a></h2>
<p>Building the documentation site on your own computer is fairly simple. All you need is the
following:</p>
<ol>
<li><p>A working <strong>Flutter</strong> installation, accessible from the command line;</p></li>
<li><p>A <strong>Python</strong> environment, with python version 3.6 or higher;</p>
<ul class="simple">
<li><p>You can verify this by running <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">--version</span></code> from the command line;</p></li>
<li><p>Having a dedicated python virtual environment is recommended but not required;</p></li>
</ul>
</li>
<li><p>A set of python <strong>modules</strong> listed in the <code class="docutils literal notranslate"><span class="pre">doc/_sphinx/requirements.txt</span></code> file;</p>
<ul>
<li><p>The easiest way to install these is to run</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pip install -r doc/_sphinx/requirements.txt
</pre></div>
</div>
</li>
</ul>
</li>
</ol>
<p>Once these prerequisites are met, you can build the documentation by switching to the <code class="docutils literal notranslate"><span class="pre">doc/_sphinx</span></code>
directory and running <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">html</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span> doc/_sphinx
<span class="gp">$ </span>make html
</pre></div>
</div>
<p>The <strong>make html</strong> command here renders the documentation site into HTML. This command needs to be
re-run every time you make changes to any of the documents. Luckily, it is smart enough to only
rebuild the documents that have changed since the previous run, so usually a rebuild takes only
a second or two.</p>
<p>There are other make commands that you may find occasionally useful too: <strong>make clean</strong> removes all
cached generated files (in case the system gets stuck in a bad state); and <strong>make linkcheck</strong> to
check whether there are any broken links in the documentation.</p>
<p>The generated html files will be in the <code class="docutils literal notranslate"><span class="pre">doc/_build/html</span></code> directory, you can view them directly
by opening the file <code class="docutils literal notranslate"><span class="pre">doc/_build/html/index.html</span></code> in your browser. The only drawback is that the
browser won’t allow any dynamic content in a file opened from a local drive. The solution to this
is to run your own local http server:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python -m http.server <span class="m">8000</span> --directory doc/_build/html
</pre></div>
</div>
<p>Then you can open the site at <code class="docutils literal notranslate"><span class="pre">http://localhost:8000/</span></code>.</p>
<p>If you ever run the <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">clean</span></code> command, the server will need to be restarted, because the clean
command deletes the entire <code class="docutils literal notranslate"><span class="pre">html</span></code> directory.</p>
</section>
</section>


    </div>
    <div class="copyright">
      The content on this page is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0 License</a>,
      and code samples under the <a href="https://raw.githubusercontent.com/flame-engine/flame/main/LICENSE">MIT License</a>.
    </div>
    <div class="prev-next-area">
      <a class="left-prev" id="prev-link" href="development.html" title="previous page">
        <i class="fa fa-angle-left"></i>
        <div class="prev-next-info">
          <p class="prev-next-subtitle">Previous:</p>
          <p class="prev-next-title">Development</p>
        </div>
      </a>
      <div class='expander'></div>
    </div>
  </div>

  <div class="sidebar-right">
    
    <div class="nav-right" role="navigation" aria-label="table of contents">
      <div id='toc-local' class='list-group'>
 <div class='header'><i class='fa fa-list'></i> Contents</div>
  <a href='#markdown' class='list-group-item level-1'>Markdown</a>
  <a href='#table-of-contents' class='list-group-item level-2'>Table of contents</a>
  <a href='#admonitions' class='list-group-item level-2'>Admonitions</a>
  <a href='#deprecations' class='list-group-item level-2'>Deprecations</a>
  <a href='#live-examples' class='list-group-item level-2'>Live examples</a>
  <a href='#building-documentation-locally' class='list-group-item level-1'>Building documentation locally</a>
</div>

    </div>
  </div>

  <div class="expander"></div>
</div>




</body>
</html>