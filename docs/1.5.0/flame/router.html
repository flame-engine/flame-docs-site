<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>RouterComponent &#8212; Flame</title>
  <!-- Stylesheets -->
  <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b20cc3f5" />
  <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=eeb27264" />
  <link rel="stylesheet" type="text/css" href="../_static/dart_domain.css" />
  <link rel="stylesheet" type="text/css" href="../_static/flutter_app.css?v=6984c178" />
  <link rel="stylesheet" type="text/css" href="../_static/package.css?v=7889e545" />
  <link rel="stylesheet" type="text/css" href="../_static/yarn_lexer.css?v=932ca0ec" />
  <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
  <link rel="stylesheet" type="text/css" href="../_static/flames.css?v=37920019" />
  <link rel="stylesheet" type="text/css" href="../_static/copy-button.css?v=deecb4da" />
  <!-- Scripts -->
  <script src="../_static/jquery.js?v=5d32c60e"></script>
  <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
  <script src="../_static/documentation_options.js?v=5929fcd5"></script>
  <script src="../_static/doctools.js?v=0b60eaae"></script>
  <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
  <script src="../_static/flutter_app.js?v=3619378f"></script>
  <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
  <script src="../_static/copybutton.js?v=f281be69"></script>
  <script src="../_static/versions.js?v=58484017"></script>
  <script src="../_static/menu-expand.js?v=8e297497"></script>
  <!--script src="searchindex.js" defer></script-->
  <!-- Links -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,400;0,700;1,400;1,700&display=swap">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../_static/fontawesome/fa-brands-400.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../_static/fontawesome/fa-solid-900.woff2">
  <link rel="stylesheet" href="../_static/fontawesome/all.min.css">
  <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <link rel="index" title="Index" href="../genindex.html" />
  <link rel="search" title="Search" href="../search.html" />
  <link rel="next" title="Supported Platforms" href="platforms.html" />
  <link rel="prev" title="Components" href="components.html" />
</head>

<body data-spy="scroll" data-target="#toc-local" data-offset="80">

<div class="top-bar">
  <button id="menu-button" class="btn" title="Toggle menu"><i class="fa fa-bars"></i></button>
  <script type="text/javascript">
    jQuery(function(){
      $("#menu-button").click(function() {
        $(this).toggleClass("active");
        $(".sidebar-left-area").toggleClass("active");
      });

      $('div.nav-left li > a:not(:only-child)').wrap('<div class=submenu></div>');
      $('div.nav-left div.submenu').prepend('<a class=arrow>&nbsp;</a>');
      $('div.nav-left div.submenu > a.arrow')
        .click(function() {
          $(this.parentElement.parentElement).toggleClass('current');
        });

      // This function ensures that when navigating to internal targets within the page (such as
      // a section header), those targets will be visible to the user and not obscured by the menu
      // bar at the top of the page.
      function scrollToHashTarget() {
        if (location.hash !== location.oldHash) {
          window.scrollBy(0, -60);
          location.oldHash = location.hash;
        }
      }
      window.location.oldHash = '';
      window.addEventListener('hashchange', scrollToHashTarget);
      scrollToHashTarget();
    });
  </script>

  <a href="../index.html" class="logo_image">
    <img src="../_static/logo_flame.png">
  </a>  
  <div class="highlight-box" role="alert" style="display:none">
    <div>
      <div class="title">highlighted:</div>
      <div class="content" id="highlight-content"></div>
    </div>
    <button type="button" class="close" data-dismiss="alert" aria-label="Dismiss">×</button>
  </div>
  <div class="expander"></div>

  <div class="versions-placeholder"></div>
  <a href="https://discord.com/invite/pxrBmy4" id="discord-button" class="btn"
     title="Blue Fire Discord server">
    <i class="fab fa-discord"></i>
  </a>
  <a href="https://github.com/flame-engine/flame/" id="github-button" class="btn"
     title="GitHub repository">
    <i class="fab fa-github"></i>
  </a>
</div>

<div class="sidebar-left-area">
  <div class="sidebar-left-bg"></div>
  <div class="sidebar-left">
    <div class="searchbox" role="search">
      <form id="search-form" action="../search.html" method="get">
        <i class="icon fa fa-search"></i>
        <input type="search" class="form-control" id="search-input" name="q"
               placeholder="Search the docs..." autocomplete="off" />
      </form>
    </div>
    <div class="nav-left" role="navigation" aria-label="Main">
      <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="flame.html">Flame</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="structure.html">File Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="game_widget.html">Game Widget</a></li>
<li class="toctree-l2"><a class="reference internal" href="game.html">Game Loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="components.html">Components</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Router</a></li>
<li class="toctree-l2"><a class="reference internal" href="platforms.html">Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="collision_detection.html">Collision Detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="effects.html">Effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="camera_and_viewport.html">Camera &amp; Viewport</a></li>
<li class="toctree-l2"><a class="reference internal" href="camera_component.html">Camera Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="inputs/inputs.html">Inputs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="inputs/drag_events.html">Drag Events</a></li>
<li class="toctree-l3"><a class="reference internal" href="inputs/gesture_input.html">Gesture Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="inputs/keyboard_input.html">Keyboard Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="inputs/other_inputs.html">Other Inputs</a></li>
<li class="toctree-l3"><a class="reference internal" href="inputs/tap_events.html">Tap Events</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rendering/rendering.html">Rendering</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rendering/palette.html">Colors and Palette</a></li>
<li class="toctree-l3"><a class="reference internal" href="rendering/decorators.html">Decorators</a></li>
<li class="toctree-l3"><a class="reference internal" href="rendering/images.html">Images, Sprites and Animations</a></li>
<li class="toctree-l3"><a class="reference internal" href="rendering/layers.html">Layers</a></li>
<li class="toctree-l3"><a class="reference internal" href="rendering/particles.html">Particles</a></li>
<li class="toctree-l3"><a class="reference internal" href="rendering/text_rendering.html">Text Rendering</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="other/other.html">Other</a><ul>
<li class="toctree-l3"><a class="reference internal" href="other/debug.html">Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="other/util.html">Utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="other/widgets.html">Widgets</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../bridge_packages/bridge_packages.html">Bridge Packages</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../bridge_packages/flame_audio/flame_audio.html">flame_audio</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_audio/audio.html">General audio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_audio/bgm.html">Background music</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_audio/audio_pool.html">AudioPool</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bridge_packages/flame_bloc/flame_bloc.html">flame_bloc</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_bloc/bloc.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_bloc/bloc_components.html">Components</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bridge_packages/flame_fire_atlas/flame_fire_atlas.html">flame_fire_atlas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_fire_atlas/fire_atlas.html">Overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bridge_packages/flame_forge2d/flame_forge2d.html">flame_forge2d</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_forge2d/forge2d.html">Overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bridge_packages/flame_isolate/flame_isolate.html">flame_isolate</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_isolate/isolate.html">Overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bridge_packages/flame_oxygen/flame_oxygen.html">flame_oxygen</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bridge_packages/flame_rive/flame_rive.html">flame_rive</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_rive/rive.html">Overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bridge_packages/flame_splash_screen/flame_splash_screen.html">flame_splash_screen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bridge_packages/flame_svg/flame_svg.html">flame_svg</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_svg/svg.html">Overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bridge_packages/flame_tiled/flame_tiled.html">flame_tiled</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_tiled/tiled.html">Tiled</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_tiled/layers.html">Layers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../other_modules/other_modules.html">Other Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../other_modules/oxygen/oxygen.html">oxygen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../other_modules/oxygen/components.html">Components</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorials.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/bare_flame_game.html">Bare Flame game</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/klondike/klondike.html">Klondike</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/step1.html">1. Preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/step2.html">2. Scaffolding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/step3.html">3. Cards</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/step4.html">4. Gameplay</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/tbc.html">[To be continued]...</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/platformer/platformer.html">Ember Quest</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/platformer/step_1.html">1. Preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/platformer/step_2.html">2. Start Coding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/platformer/step_3.html">3. Building the World</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/platformer/step_4.html">4. Adding the Remaining Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/platformer/step_5.html">5. Controlling Movement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/platformer/step_6.html">6. Adding the HUD</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/platformer/step_7.html">7. Adding Menus</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/space_shooter/space_shooter.html">Space Shooter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/space_shooter/step_1.html">1. Getting Started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/space_shooter/step_2.html">2. Controlling the player and adding some graphics</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/development.html">Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/contributing.html">Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/documentation.html">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/style_guide.html">Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/testing_guide.html">Tests Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../resources/resources.html">Resources</a><ul>
<li class="toctree-l2"><a class="reference external" href="https://pub.dev/documentation/flame/1.5.0/">Flame API</a></li>
<li class="toctree-l2"><a class="reference external" href="https://examples.flame-engine.org/#/">Flame Examples</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
</div>

<div class="main-area">
  <div class="document-wrapper">
    <div class="warning hidden" id="version-warning">
      <p><strong>Warning:</strong> you are currently viewing the docs for an older
      version <span class="version"></span> of Flame.</p>
      <p>Please <a href="/">click here</a> to go see the documentation for the latest
      released version.</p>
    </div>
    <div class="document" role="main">
      
  <section class="tex2jax_ignore mathjax_ignore" id="routercomponent">
<h1>RouterComponent<a class="headerlink" href="#routercomponent" title="Link to this heading">¶</a></h1>
<p>The <strong>RouterComponent</strong>’s job is to manage navigation across multiple screens within the game. It is
similar in spirit to Flutter’s <a class="reference external" href="https://api.flutter.dev/flutter/widgets/Navigator-class.html">Navigator</a> class, except that it works with Flame
components instead of Flutter widgets.</p>
<p>A typical game will usually consists of multiple pages: the splash screen, the starting menu page,
the settings page, credits, the main game page, several pop-ups, etc. The router will organize
all these destinations and allow you to transition between them.</p>
<p>Internally, the <code class="docutils literal notranslate"><span class="pre">RouterComponent</span></code> contains a stack of routes. When you request it to show a route,
it will be placed on top of all other pages in the stack. Later you can <code class="docutils literal notranslate"><span class="pre">popPage()</span></code> to remove the
topmost page from the stack. The pages of the router are addressed by their unique names.</p>
<p>Each page in the router can be either transparent or opaque. If a page is opaque, then the pages
below it in the stack are not rendered, and do not receive pointer events (such as taps or drags).
On the contrary, if a page is transparent, then the page below it will be rendered and receive
events normally. Such transparent pages are useful for implementing modal dialogs, inventory or
dialogue UIs, etc.</p>
<p>Usage example:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nc">MyGame</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">FlameGame</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">RouterComponent</span><span class="w"> </span><span class="n">router</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">onLoad</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">add</span><span class="p">(</span>
<span class="w">      </span><span class="n">router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RouterComponent</span><span class="p">(</span>
<span class="w">        </span><span class="nl">routes:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="s1">&#39;home&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">Route</span><span class="p">(</span><span class="n">HomePage</span><span class="p">.</span><span class="k">new</span><span class="p">),</span>
<span class="w">          </span><span class="s1">&#39;level-selector&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">Route</span><span class="p">(</span><span class="n">LevelSelectorPage</span><span class="p">.</span><span class="k">new</span><span class="p">),</span>
<span class="w">          </span><span class="s1">&#39;settings&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">Route</span><span class="p">(</span><span class="n">SettingsPage</span><span class="p">.</span><span class="k">new</span><span class="p">,</span><span class="w"> </span><span class="nl">transparent:</span><span class="w"> </span><span class="kc">true</span><span class="p">),</span>
<span class="w">          </span><span class="s1">&#39;pause&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">PauseRoute</span><span class="p">(),</span>
<span class="w">          </span><span class="s1">&#39;confirm-dialog&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">OverlayRoute</span><span class="p">.</span><span class="n">existing</span><span class="p">(),</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nl">initialRoute:</span><span class="w"> </span><span class="s1">&#39;home&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">PauseRoute</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Route</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<section id="route">
<h2>Route<a class="headerlink" href="#route" title="Link to this heading">¶</a></h2>
<p>The <strong>Route</strong> component holds information about the content of a particular page. <code class="docutils literal notranslate"><span class="pre">Route</span></code>s are
mounted as children to the <code class="docutils literal notranslate"><span class="pre">RouterComponent</span></code>.</p>
<p>The main property of a <code class="docutils literal notranslate"><span class="pre">Route</span></code> is its <code class="docutils literal notranslate"><span class="pre">builder</span></code> – the function that creates the component with
the content of its page.</p>
<p>In addition, the routes can be either transparent or opaque (default). An opaque prevents the route
below it from rendering or receiving pointer events, a transparent route doesn’t. As a rule of
thumb, declare the route opaque if it is full-screen, and transparent if it is supposed to cover
only a part of the screen.</p>
<p>By default, routes maintain the state of the page component after being popped from the stack
and the <code class="docutils literal notranslate"><span class="pre">builder</span></code> function is only called the first time a route is activated. Setting
<code class="docutils literal notranslate"><span class="pre">maintainState</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code> drops the page component after the route is popped from the route stack
and the <code class="docutils literal notranslate"><span class="pre">builder</span></code> function is called each time the route is activated.</p>
</section>
<section id="overlayroute">
<h2>OverlayRoute<a class="headerlink" href="#overlayroute" title="Link to this heading">¶</a></h2>
<p>The <strong>OverlayRoute</strong> is a special route that allows adding game overlays via the router. These
routes are transparent by default.</p>
<p>There are two constructors for the <code class="docutils literal notranslate"><span class="pre">OverlayRoute</span></code>. The first constructor requires a builder function
that describes how the overlay’s widget is to be built. The second constructor can be used when the
builder function was already specified within the <code class="docutils literal notranslate"><span class="pre">GameWidget</span></code>:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">final</span><span class="w"> </span><span class="n">router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RouterComponent</span><span class="p">(</span>
<span class="w">  </span><span class="nl">routes:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s1">&#39;ok-dialog&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">OverlayRoute</span><span class="p">(</span>
<span class="w">      </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">game</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">DecoratedContainer</span><span class="p">(...),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">),</span><span class="w">  </span><span class="c1">// OverlayRoute</span>
<span class="w">    </span><span class="s1">&#39;confirm-dialog&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">OverlayRoute</span><span class="p">.</span><span class="n">existing</span><span class="p">(),</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Overlays that were defined within the <code class="docutils literal notranslate"><span class="pre">GameWidget</span></code> don’t even need to be declared within the routes
map beforehand: the <code class="docutils literal notranslate"><span class="pre">RouterComponent.pushOverlay()</span></code> method can do it for you. Once an overlay route
was registered, it can be activated either via the regular <code class="docutils literal notranslate"><span class="pre">.pushNamed()</span></code> method, or via the
<code class="docutils literal notranslate"><span class="pre">.pushOverlay()</span></code> – the two method will do exactly the same, though you can use the second one to
make it more clear in your code that an overlay is being added instead of a regular route.</p>
</section>
<section id="valueroute">
<h2>ValueRoute<a class="headerlink" href="#valueroute" title="Link to this heading">¶</a></h2>
<p>A <strong>ValueRoute</strong> is a route that will return a value when it is eventually popped from the stack.
Such routes can be used, for example, for dialog boxes that ask for some feedback from the user.</p>
<p>In order to use <code class="docutils literal notranslate"><span class="pre">ValueRoute</span></code>s, two steps are required:</p>
<ol class="arabic">
<li><p>Create a route derived from the <code class="docutils literal notranslate"><span class="pre">ValueRoute&lt;T&gt;</span></code> class, where <code class="docutils literal notranslate"><span class="pre">T</span></code> is the type of the value that
your route will return. Inside that class override the <code class="docutils literal notranslate"><span class="pre">build()</span></code> method to construct the
component that will be displayed. The component should use the <code class="docutils literal notranslate"><span class="pre">completeWith(value)</span></code> method to
pop the route and return the specified value.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nc">YesNoDialog</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">ValueRoute</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">YesNoDialog</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">text</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">value:</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">text</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Component</span><span class="w"> </span><span class="n">build</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">PositionComponent</span><span class="p">(</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="n">RectangleComponent</span><span class="p">(),</span>
<span class="w">        </span><span class="n">TextComponent</span><span class="p">(</span><span class="nl">text:</span><span class="w"> </span><span class="n">text</span><span class="p">),</span>
<span class="w">        </span><span class="n">Button</span><span class="p">(</span>
<span class="w">          </span><span class="nl">text:</span><span class="w"> </span><span class="s1">&#39;Yes&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="nl">action:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">completeWith</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="n">Button</span><span class="p">(</span>
<span class="w">          </span><span class="nl">text:</span><span class="w"> </span><span class="s1">&#39;No&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="nl">action:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">completeWith</span><span class="p">(</span><span class="kc">false</span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Display the route using <code class="docutils literal notranslate"><span class="pre">Router.pushAndWait()</span></code>, which returns a future that resolves with the
value returned from the route.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">foo</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">game</span><span class="p">.</span><span class="n">router</span><span class="p">.</span><span class="n">pushAndWait</span><span class="p">(</span><span class="n">YesNoDialog</span><span class="p">(</span><span class="s1">&#39;Are you sure?&#39;</span><span class="p">));</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ... the user is sure</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ... the user was not so sure</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
</section>
</section>


    </div>
    <div class="copyright">
      The content on this page is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0 License</a>,
      and code samples under the <a href="https://raw.githubusercontent.com/flame-engine/flame/main/LICENSE">MIT License</a>.
    </div>
    <div class="prev-next-area">
      <a class="left-prev" id="prev-link" href="components.html" title="previous page">
        <i class="fa fa-angle-left"></i>
        <div class="prev-next-info">
          <p class="prev-next-subtitle">Previous:</p>
          <p class="prev-next-title">Components</p>
        </div>
      </a>
      <div class='expander'></div>
      <a class="right-next" id="next-link" href="platforms.html" title="next page">
        <div class="prev-next-info">
          <p class="prev-next-subtitle">Next:</p>
          <p class="prev-next-title">Supported Platforms</p>
        </div>
        <i class="fa fa-angle-right"></i>
      </a>
    </div>
  </div>

  <div class="sidebar-right">
    
    <div class="nav-right" role="navigation" aria-label="table of contents">
      <div id='toc-local' class='list-group'>
 <div class='header'><i class='fa fa-list'></i> Contents</div>
  <a href='#route' class='list-group-item level-1'>Route</a>
  <a href='#overlayroute' class='list-group-item level-1'>OverlayRoute</a>
  <a href='#valueroute' class='list-group-item level-1'>ValueRoute</a>
</div>

    </div>
  </div>

  <div class="expander"></div>
</div>




</body>
</html>