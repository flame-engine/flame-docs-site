<!DOCTYPE html>
<html lang="en">
<head>
<meta name="robots" content="noindex">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Particles &#8212; Flame</title>
  <!-- Stylesheets -->
  <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b20cc3f5" />
  <link rel="stylesheet" type="text/css" href="../../_static/basic.css?v=eeb27264" />
  <link rel="stylesheet" type="text/css" href="../../_static/dart_domain.css" />
  <link rel="stylesheet" type="text/css" href="../../_static/flutter_app.css?v=6984c178" />
  <link rel="stylesheet" type="text/css" href="../../_static/package.css?v=7889e545" />
  <link rel="stylesheet" type="text/css" href="../../_static/yarn_lexer.css?v=932ca0ec" />
  <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
  <link rel="stylesheet" type="text/css" href="../../_static/flames.css?v=ac7bdd72" />
  <link rel="stylesheet" type="text/css" href="../../_static/copy-button.css?v=deecb4da" />
  <!-- Scripts -->
  <script src="../../_static/jquery.js?v=5d32c60e"></script>
  <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
  <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
  <script src="../../_static/doctools.js?v=0b60eaae"></script>
  <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
  <script src="../../_static/flutter_app.js?v=3619378f"></script>
  <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
  <script src="../../_static/copybutton.js?v=f281be69"></script>
  <script src="../../_static/versions.js?v=58484017"></script>
  <script src="../../_static/menu-expand.js?v=8e297497"></script>
  <!--script src="searchindex.js" defer></script-->
  <!-- Links -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,400;0,700;1,400;1,700&display=swap">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../../_static/fontawesome/fa-brands-400.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../../_static/fontawesome/fa-solid-900.woff2">
  <link rel="stylesheet" href="../../_static/fontawesome/all.min.css">
  <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <link rel="index" title="Index" href="../../genindex.html" />
  <link rel="search" title="Search" href="../../search.html" />
  <link rel="next" title="Text Rendering" href="text_rendering.html" />
  <link rel="prev" title="Layers and Snapshots" href="layers.html" />
</head>

<body data-spy="scroll" data-target="#toc-local" data-offset="80">

<div class="top-bar">
  <button id="menu-button" class="btn" title="Toggle menu"><i class="fa fa-bars"></i></button>
  <script type="text/javascript">
    jQuery(function(){
      $("#menu-button").click(function() {
        $(this).toggleClass("active");
        $(".sidebar-left-area").toggleClass("active");
      });

      $('div.nav-left li > a:not(:only-child)').wrap('<div class=submenu></div>');
      $('div.nav-left div.submenu').prepend('<a class=arrow>&nbsp;</a>');
      $('div.nav-left div.submenu > a.arrow')
        .click(function() {
          $(this.parentElement.parentElement).toggleClass('current');
        });

      // This function ensures that when navigating to internal targets within the page (such as
      // a section header), those targets will be visible to the user and not obscured by the menu
      // bar at the top of the page.
      function scrollToHashTarget() {
        if (location.hash !== location.oldHash) {
          window.scrollBy(0, -60);
          location.oldHash = location.hash;
        }
      }
      window.location.oldHash = '';
      window.addEventListener('hashchange', scrollToHashTarget);
      scrollToHashTarget();
    });
  </script>

  <a href="../../index.html" class="logo_image" aria-label="Navigate to home page">
    <img src="../../_static/logo_flame.png" alt="Flame logo: a fiery symbol along with the FLAME wordmark.">
  </a>  
  <div class="highlight-box" role="alert" style="display:none">
    <div>
      <div class="title">highlighted:</div>
      <div class="content" id="highlight-content"></div>
    </div>
    <button type="button" class="close" data-dismiss="alert" aria-label="Dismiss">×</button>
  </div>
  <div class="expander"></div>

  <div class="versions-placeholder"></div>
  <a href="https://discord.com/invite/pxrBmy4" id="discord-button" class="btn"
     title="Blue Fire Discord server">
    <i class="fab fa-discord"></i>
  </a>
  <a href="https://github.com/flame-engine/flame/" id="github-button" class="btn"
     title="GitHub repository">
    <i class="fab fa-github"></i>
  </a>
</div>

<div class="sidebar-left-area">
  <div class="sidebar-left-bg"></div>
  <div class="sidebar-left">
    <div class="searchbox" role="search">
      <form id="search-form" action="../../search.html" method="get">
        <i class="icon fa fa-search"></i>
        <input type="search" class="form-control" id="search-input" name="q"
               placeholder="Search the docs..." autocomplete="off" />
      </form>
    </div>
    <div class="nav-left" role="navigation" aria-label="Main">
      <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../flame.html">Flame</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../game_widget.html">Game Widget</a></li>
<li class="toctree-l2"><a class="reference internal" href="../game.html">Game Loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../components.html">Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../camera.html">Camera</a></li>
<li class="toctree-l2"><a class="reference internal" href="../structure.html">Assets Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../router.html">Router</a></li>
<li class="toctree-l2"><a class="reference internal" href="../platforms.html">Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../collision_detection.html">Collision Detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../effects.html">Effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../inputs/inputs.html">Inputs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../inputs/drag_events.html">Drag Events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../inputs/gesture_input.html">Gesture Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="../inputs/keyboard_input.html">Keyboard Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="../inputs/other_inputs.html">Other Inputs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../inputs/tap_events.html">Tap Events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../inputs/pointer_events.html">Pointer Events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../inputs/hardware_keyboard_detector.html">HardwareKeyboardDetector</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="rendering.html">Rendering</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="palette.html">Colors and Palette</a></li>
<li class="toctree-l3"><a class="reference internal" href="decorators.html">Decorators</a></li>
<li class="toctree-l3"><a class="reference internal" href="images.html">Images, Sprites and Animations</a></li>
<li class="toctree-l3"><a class="reference internal" href="layers.html">Layers and Snapshots</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Particles</a></li>
<li class="toctree-l3"><a class="reference internal" href="text_rendering.html">Text Rendering</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../layout/layout.html">Layout</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../layout/align_component.html">AlignComponent</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../overlays.html">Overlays</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/other.html">Other</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../other/debug.html">Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../other/util.html">Utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="../other/widgets.html">Widgets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../other/performance.html">Performance</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../bridge_packages/bridge_packages.html">Bridge Packages</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../bridge_packages/flame_audio/flame_audio.html">flame_audio</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../bridge_packages/flame_audio/audio.html">General audio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bridge_packages/flame_audio/bgm.html">Background music</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bridge_packages/flame_audio/audio_pool.html">AudioPool</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../bridge_packages/flame_bloc/flame_bloc.html">flame_bloc</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../bridge_packages/flame_bloc/bloc.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bridge_packages/flame_bloc/bloc_components.html">Components</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../bridge_packages/flame_fire_atlas/flame_fire_atlas.html">flame_fire_atlas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../bridge_packages/flame_fire_atlas/fire_atlas.html">Overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../bridge_packages/flame_forge2d/flame_forge2d.html">flame_forge2d</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../bridge_packages/flame_forge2d/forge2d.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bridge_packages/flame_forge2d/joints.html">Joints</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../bridge_packages/flame_isolate/flame_isolate.html">flame_isolate</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../bridge_packages/flame_isolate/isolate.html">Overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../bridge_packages/flame_lottie/flame_lottie.html">flame_lottie</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../bridge_packages/flame_network_assets/flame_network_assets.html">flame_network_assets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../bridge_packages/flame_oxygen/flame_oxygen.html">flame_oxygen</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../bridge_packages/flame_rive/flame_rive.html">flame_rive</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../bridge_packages/flame_rive/rive.html">Overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../bridge_packages/flame_riverpod/flame_riverpod.html">flame_riverpod</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../bridge_packages/flame_riverpod/riverpod.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bridge_packages/flame_riverpod/component.html">Component</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bridge_packages/flame_riverpod/widget.html">Widget</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../bridge_packages/flame_splash_screen/flame_splash_screen.html">flame_splash_screen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../bridge_packages/flame_spine/flame_spine.html">flame_spine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../bridge_packages/flame_svg/flame_svg.html">flame_svg</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../bridge_packages/flame_svg/svg.html">Overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../bridge_packages/flame_tiled/flame_tiled.html">flame_tiled</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../bridge_packages/flame_tiled/tiled.html">Tiled</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bridge_packages/flame_tiled/layers.html">Layers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../other_modules/other_modules.html">Other Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../other_modules/jenny/jenny.html">jenny</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../other_modules/jenny/language/language.html">YarnSpinner language</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../other_modules/jenny/language/nodes.html">Nodes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../other_modules/jenny/language/lines.html">Lines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../other_modules/jenny/language/options.html">Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../other_modules/jenny/language/commands/commands.html">Commands</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../other_modules/jenny/language/commands/character.html">&lt;&lt;character&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../other_modules/jenny/language/commands/declare.html">&lt;&lt;declare&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../other_modules/jenny/language/commands/if.html">&lt;&lt;if&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../other_modules/jenny/language/commands/jump.html">&lt;&lt;jump&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../other_modules/jenny/language/commands/local.html">&lt;&lt;local&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../other_modules/jenny/language/commands/set.html">&lt;&lt;set&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../other_modules/jenny/language/commands/stop.html">&lt;&lt;stop&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../other_modules/jenny/language/commands/visit.html">&lt;&lt;visit&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../other_modules/jenny/language/commands/wait.html">&lt;&lt;wait&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../other_modules/jenny/language/commands/user_defined_commands.html">User-defined commands</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../other_modules/jenny/language/expressions/expressions.html">Expressions</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../other_modules/jenny/language/expressions/variables.html">Variables</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../other_modules/jenny/language/expressions/operators.html">Operators</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../other_modules/jenny/language/expressions/functions/functions.html">Functions</a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../other_modules/jenny/language/expressions/functions/random.html">Random functions</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../other_modules/jenny/language/expressions/functions/numeric.html">Numeric functions</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../other_modules/jenny/language/expressions/functions/type.html">Type conversion functions</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../other_modules/jenny/language/expressions/functions/misc.html">Miscellaneous functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../other_modules/jenny/language/markup.html">Markup</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../other_modules/jenny/runtime/jenny_runtime.html">Jenny API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../other_modules/jenny/runtime/character.html">Character</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../other_modules/jenny/runtime/character_storage.html">CharacterStorage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../other_modules/jenny/runtime/command_storage.html">CommandStorage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../other_modules/jenny/runtime/dialogue_choice.html">DialogueChoice</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../other_modules/jenny/runtime/dialogue_line.html">DialogueLine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../other_modules/jenny/runtime/dialogue_option.html">DialogueOption</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../other_modules/jenny/runtime/dialogue_runner.html">DialogueRunner</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../other_modules/jenny/runtime/dialogue_view.html">DialogueView</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../other_modules/jenny/runtime/function_storage.html">FunctionStorage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../other_modules/jenny/runtime/markup_attribute.html">MarkupAttribute</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../other_modules/jenny/runtime/node.html">Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../other_modules/jenny/runtime/user_defined_command.html">UserDefinedCommand</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../other_modules/jenny/runtime/variable_storage.html">VariableStorage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../other_modules/jenny/runtime/yarn_project.html">YarnProject</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../other_modules/oxygen/oxygen.html">oxygen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../other_modules/oxygen/components.html">Components</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/tutorials.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/bare_flame_game.html">Bare Flame game</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/klondike/klondike.html">Klondike</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/klondike/step1.html">1. Preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/klondike/step2.html">2. Scaffolding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/klondike/step3.html">3. Cards</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/klondike/step4.html">4. Gameplay</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/klondike/step5.html">5. Additional features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/platformer/platformer.html">Ember Quest</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/platformer/step_1.html">1. Preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/platformer/step_2.html">2. Start Coding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/platformer/step_3.html">3. Building the World</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/platformer/step_4.html">4. Adding the Remaining Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/platformer/step_5.html">5. Controlling Movement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/platformer/step_6.html">6. Adding the HUD</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/platformer/step_7.html">7. Adding Menus</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/space_shooter/space_shooter.html">Space Shooter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/space_shooter/step_1.html">1. Getting Started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/space_shooter/step_2.html">2. Controlling the player and adding some graphics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/space_shooter/step_3.html">3. Adding animations and depth</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/space_shooter/step_4.html">4. Adding Bullets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/space_shooter/step_5.html">5. Adding Enemies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/space_shooter/step_6.html">6. Enemy and Bullet collisions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../development/development.html">Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../development/contributing.html">Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../development/documentation.html">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../development/style_guide.html">Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../development/testing_guide.html">Tests Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../resources/resources.html">Resources</a><ul>
<li class="toctree-l2"><a class="reference external" href="https://pub.dev/documentation/flame/v1.25.0/">Flame API</a></li>
<li class="toctree-l2"><a class="reference external" href="https://examples.flame-engine.org/#/">Flame Examples</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
</div>

<div class="main-area">
  <div class="document-wrapper">
    <div class="warning hidden" id="version-warning">
      <p><strong>Warning:</strong> you are currently viewing the docs for an older
      version <span class="version"></span> of Flame.</p>
      <p>Please <a href="/">click here</a> to go see the documentation for the latest
      released version.</p>
    </div>
    <div class="document" role="main">
      
  <section class="tex2jax_ignore mathjax_ignore" id="particles">
<h1>Particles<a class="headerlink" href="#particles" title="Link to this heading">¶</a></h1>
<p>Flame offers a basic, yet robust and extendable particle system. The core concept of this system is
the <code class="docutils literal notranslate"><span class="pre">Particle</span></code> class, which is very similar in its behavior to the <code class="docutils literal notranslate"><span class="pre">ParticleSystemComponent</span></code>.</p>
<p>The most basic usage of a <code class="docutils literal notranslate"><span class="pre">Particle</span></code> with <code class="docutils literal notranslate"><span class="pre">FlameGame</span></code> would look as in the following:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flame/components.dart&#39;</span><span class="p">;</span>

<span class="c1">// ...</span>

<span class="n">game</span><span class="p">.</span><span class="n">add</span><span class="p">(</span>
<span class="w">  </span><span class="c1">// Wrapping a Particle with ParticleSystemComponent</span>
<span class="w">  </span><span class="c1">// which maps Component lifecycle hooks to Particle ones</span>
<span class="w">  </span><span class="c1">// and embeds a trigger for removing the component.</span>
<span class="w">  </span><span class="n">ParticleSystemComponent</span><span class="p">(</span>
<span class="w">    </span><span class="nl">particle:</span><span class="w"> </span><span class="n">CircleParticle</span><span class="p">(),</span>
<span class="w">  </span><span class="p">),</span>
<span class="p">);</span>
</pre></div>
</div>
<p>When using <code class="docutils literal notranslate"><span class="pre">Particle</span></code> with a custom <code class="docutils literal notranslate"><span class="pre">Game</span></code> implementation, please ensure that both the <code class="docutils literal notranslate"><span class="pre">update</span></code> and
<code class="docutils literal notranslate"><span class="pre">render</span></code> methods are called during each game loop tick.</p>
<p>Main approaches to implement desired particle effects:</p>
<ul class="simple">
<li><p>Composition of existing behaviors.</p></li>
<li><p>Use behavior chaining (just a syntactic sugar of the first one).</p></li>
<li><p>Using <code class="docutils literal notranslate"><span class="pre">ComputedParticle</span></code>.</p></li>
</ul>
<p>Composition works in a similar fashion to those of Flutter widgets by defining the effect from top
to bottom. Chaining allows to express the same composition trees more fluently by defining behaviors
from bottom to top. Computed particles in their turn fully delegate implementation of the behavior
to your code. Any of the approaches could be used in conjunction with existing behaviors where
needed.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">Random</span><span class="w"> </span><span class="n">rnd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Random</span><span class="p">();</span>

<span class="n">Vector2</span><span class="w"> </span><span class="n">randomVector2</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">Vector2</span><span class="p">.</span><span class="n">random</span><span class="p">(</span><span class="n">rnd</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Vector2</span><span class="p">.</span><span class="n">random</span><span class="p">(</span><span class="n">rnd</span><span class="p">))</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">200</span><span class="p">;</span>

<span class="c1">// Composition.</span>
<span class="c1">//</span>
<span class="c1">// Defining a particle effect as a set of nested behaviors from top to bottom,</span>
<span class="c1">// one within another:</span>
<span class="c1">//</span>
<span class="c1">// ParticleSystemComponent</span>
<span class="c1">//   &gt; ComposedParticle</span>
<span class="c1">//     &gt; AcceleratedParticle</span>
<span class="c1">//       &gt; CircleParticle</span>
<span class="n">game</span><span class="p">.</span><span class="n">add</span><span class="p">(</span>
<span class="w">  </span><span class="n">ParticleSystemComponent</span><span class="p">(</span>
<span class="w">    </span><span class="nl">particle:</span><span class="w"> </span><span class="n">Particle</span><span class="p">.</span><span class="n">generate</span><span class="p">(</span>
<span class="w">      </span><span class="nl">count:</span><span class="w"> </span><span class="m">10</span><span class="p">,</span>
<span class="w">      </span><span class="nl">generator:</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">AcceleratedParticle</span><span class="p">(</span>
<span class="w">        </span><span class="nl">acceleration:</span><span class="w"> </span><span class="n">randomVector2</span><span class="p">(),</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">CircleParticle</span><span class="p">(</span>
<span class="w">          </span><span class="nl">paint:</span><span class="w"> </span><span class="n">Paint</span><span class="p">()..</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">,</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">),</span>
<span class="p">);</span>

<span class="c1">// Chaining.</span>
<span class="c1">//</span>
<span class="c1">// Expresses the same behavior as above, but with a more fluent API.</span>
<span class="c1">// Only Particles with SingleChildParticle mixin can be used as chainable behaviors.</span>
<span class="n">game</span><span class="p">.</span><span class="n">add</span><span class="p">(</span>
<span class="w">  </span><span class="n">ParticleSystemComponent</span><span class="p">(</span>
<span class="w">    </span><span class="nl">particle:</span><span class="w"> </span><span class="n">Particle</span><span class="p">.</span><span class="n">generate</span><span class="p">(</span>
<span class="w">      </span><span class="nl">count:</span><span class="w"> </span><span class="m">10</span><span class="p">,</span>
<span class="w">      </span><span class="nl">generator:</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">pt</span><span class="p">.</span><span class="n">CircleParticle</span><span class="p">(</span><span class="nl">paint:</span><span class="w"> </span><span class="n">Paint</span><span class="p">()..</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">  </span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">// Computed Particle.</span>
<span class="c1">//</span>
<span class="c1">// All the behaviors are defined explicitly. Offers greater flexibility</span>
<span class="c1">// compared to built-in behaviors.</span>
<span class="n">game</span><span class="p">.</span><span class="n">add</span><span class="p">(</span>
<span class="w">  </span><span class="n">ParticleSystemComponent</span><span class="p">(</span>
<span class="w">      </span><span class="nl">particle:</span><span class="w"> </span><span class="n">Particle</span><span class="p">.</span><span class="n">generate</span><span class="p">(</span>
<span class="w">        </span><span class="nl">count:</span><span class="w"> </span><span class="m">10</span><span class="p">,</span>
<span class="w">        </span><span class="nl">generator:</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">Vector2</span><span class="w"> </span><span class="n">position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Vector2</span><span class="p">.</span><span class="n">zero</span><span class="p">();</span>
<span class="w">          </span><span class="n">Vector2</span><span class="w"> </span><span class="n">speed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Vector2</span><span class="p">.</span><span class="n">zero</span><span class="p">();</span>
<span class="w">          </span><span class="kd">final</span><span class="w"> </span><span class="n">acceleration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">randomVector2</span><span class="p">();</span>
<span class="w">          </span><span class="kd">final</span><span class="w"> </span><span class="n">paint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Paint</span><span class="p">()..</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">;</span>

<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="n">ComputedParticle</span><span class="p">(</span>
<span class="w">            </span><span class="nl">renderer:</span><span class="w"> </span><span class="p">(</span><span class="n">canvas</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="n">speed</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">acceleration</span><span class="p">;</span>
<span class="w">              </span><span class="n">position</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">speed</span><span class="p">;</span>
<span class="w">              </span><span class="n">canvas</span><span class="p">.</span><span class="n">drawCircle</span><span class="p">(</span><span class="n">Offset</span><span class="p">(</span><span class="n">position</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">y</span><span class="p">),</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">paint</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">  </span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>See more <a class="reference external" href="https://github.com/flame-engine/flame/blob/main/examples/lib/stories/rendering/particles_example.dart">examples of how to use built-in particles in various
combinations</a>.</p>
<section id="lifecycle">
<h2>Lifecycle<a class="headerlink" href="#lifecycle" title="Link to this heading">¶</a></h2>
<p>A behavior common to all <code class="docutils literal notranslate"><span class="pre">Particle</span></code>s is that all of them accept a <code class="docutils literal notranslate"><span class="pre">lifespan</span></code> argument. This value is
used to make the <code class="docutils literal notranslate"><span class="pre">ParticleSystemComponent</span></code> remove itself once its internal <code class="docutils literal notranslate"><span class="pre">Particle</span></code> has reached
the end of its life. Time within the <code class="docutils literal notranslate"><span class="pre">Particle</span></code> itself is tracked using the Flame <code class="docutils literal notranslate"><span class="pre">Timer</span></code> class. It
can be configured with a <code class="docutils literal notranslate"><span class="pre">double</span></code>, represented in seconds (with microsecond precision) by passing
it into the corresponding <code class="docutils literal notranslate"><span class="pre">Particle</span></code> constructor.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">Particle</span><span class="p">(</span><span class="nl">lifespan:</span><span class="w"> </span><span class="p">.</span><span class="m">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// will live for 200ms.</span>
<span class="n">Particle</span><span class="p">(</span><span class="nl">lifespan:</span><span class="w"> </span><span class="m">4</span><span class="p">);</span><span class="w"> </span><span class="c1">// will live for 4s.</span>
</pre></div>
</div>
<p>It is also possible to reset a <code class="docutils literal notranslate"><span class="pre">Particle</span></code>’s lifespan by using the <code class="docutils literal notranslate"><span class="pre">setLifespan</span></code> method, which also
accepts a <code class="docutils literal notranslate"><span class="pre">double</span></code> of seconds.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">final</span><span class="w"> </span><span class="n">particle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Particle</span><span class="p">(</span><span class="nl">lifespan:</span><span class="w"> </span><span class="m">2</span><span class="p">);</span>

<span class="c1">// ... after some time.</span>
<span class="n">particle</span><span class="p">.</span><span class="n">setLifespan</span><span class="p">(</span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="c1">// will live for another 2s.</span>
</pre></div>
</div>
<p>During its lifetime, a <code class="docutils literal notranslate"><span class="pre">Particle</span></code> tracks the time it was alive and exposes it through the <code class="docutils literal notranslate"><span class="pre">progress</span></code>
getter, which returns a value between <code class="docutils literal notranslate"><span class="pre">0.0</span></code> and <code class="docutils literal notranslate"><span class="pre">1.0</span></code>. This value can be used in a similar fashion
as the <code class="docutils literal notranslate"><span class="pre">value</span></code> property of the <code class="docutils literal notranslate"><span class="pre">AnimationController</span></code> class in Flutter.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">final</span><span class="w"> </span><span class="n">particle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Particle</span><span class="p">(</span><span class="nl">lifespan:</span><span class="w"> </span><span class="m">2.0</span><span class="p">);</span>

<span class="n">game</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">ParticleSystemComponent</span><span class="p">(</span><span class="nl">particle:</span><span class="w"> </span><span class="n">particle</span><span class="p">));</span>

<span class="c1">// Will print values from 0 to 1 with step of .1: 0, 0.1, 0.2 ... 0.9, 1.0.</span>
<span class="n">Timer</span><span class="p">.</span><span class="n">periodic</span><span class="p">(</span><span class="n">duration</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">.</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">particle</span><span class="p">.</span><span class="n">progress</span><span class="p">));</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">lifespan</span></code> is passed down to all the descendants of a given <code class="docutils literal notranslate"><span class="pre">Particle</span></code>, if it supports any of
the nesting behaviors.</p>
</section>
<section id="built-in-particles">
<h2>Built-in particles<a class="headerlink" href="#built-in-particles" title="Link to this heading">¶</a></h2>
<p>Flame ships with a few built-in <code class="docutils literal notranslate"><span class="pre">Particle</span></code> behaviors:</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">TranslatedParticle</span></code> translates its <code class="docutils literal notranslate"><span class="pre">child</span></code> by given <code class="docutils literal notranslate"><span class="pre">Vector2</span></code></p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">MovingParticle</span></code> moves its <code class="docutils literal notranslate"><span class="pre">child</span></code> between two predefined <code class="docutils literal notranslate"><span class="pre">Vector2</span></code>, supports <code class="docutils literal notranslate"><span class="pre">Curve</span></code></p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">AcceleratedParticle</span></code> allows basic physics based effects, like gravitation or speed dampening</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">CircleParticle</span></code> renders circles of all shapes and sizes</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">SpriteParticle</span></code> renders Flame <code class="docutils literal notranslate"><span class="pre">Sprite</span></code> within a <code class="docutils literal notranslate"><span class="pre">Particle</span></code> effect</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">ImageParticle</span></code> renders <em>dart:ui</em> <code class="docutils literal notranslate"><span class="pre">Image</span></code> within a <code class="docutils literal notranslate"><span class="pre">Particle</span></code> effect</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">ComponentParticle</span></code> renders Flame <code class="docutils literal notranslate"><span class="pre">Component</span></code> within a <code class="docutils literal notranslate"><span class="pre">Particle</span></code> effect</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">FlareParticle</span></code> renders Flare animation within a <code class="docutils literal notranslate"><span class="pre">Particle</span></code> effect</p></li>
</ul>
<p>See more <a class="reference external" href="https://github.com/flame-engine/flame/blob/main/examples/lib/stories/rendering/particles_example.dart">examples of how to use built-in Particle behaviors
together</a>.
All the implementations are available in the <a class="reference external" href="https://github.com/flame-engine/flame/tree/main/packages/flame/lib/src/particles">particles folder on the
Flame repository.</a></p>
</section>
<section id="translatedparticle">
<h2>TranslatedParticle<a class="headerlink" href="#translatedparticle" title="Link to this heading">¶</a></h2>
<p>Simply translates the underlying <code class="docutils literal notranslate"><span class="pre">Particle</span></code> to a specified <code class="docutils literal notranslate"><span class="pre">Vector2</span></code> within the rendering <code class="docutils literal notranslate"><span class="pre">Canvas</span></code>.
Does not change or alter its position, consider using <code class="docutils literal notranslate"><span class="pre">MovingParticle</span></code> or <code class="docutils literal notranslate"><span class="pre">AcceleratedParticle</span></code>
where change of position is required. Same effect could be achieved by translating the <code class="docutils literal notranslate"><span class="pre">Canvas</span></code>
layer.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">game</span><span class="p">.</span><span class="n">add</span><span class="p">(</span>
<span class="w">  </span><span class="n">ParticleSystemComponent</span><span class="p">(</span>
<span class="w">    </span><span class="nl">particle:</span><span class="w"> </span><span class="n">TranslatedParticle</span><span class="p">(</span>
<span class="w">      </span><span class="c1">// Will translate the child Particle effect to the center of game canvas.</span>
<span class="w">      </span><span class="nl">offset:</span><span class="w"> </span><span class="n">game</span><span class="p">.</span><span class="n">size</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">2</span><span class="p">,</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Particle</span><span class="p">(),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">),</span>
<span class="p">);</span>
</pre></div>
</div>
</section>
<section id="movingparticle">
<h2>MovingParticle<a class="headerlink" href="#movingparticle" title="Link to this heading">¶</a></h2>
<p>Moves the child <code class="docutils literal notranslate"><span class="pre">Particle</span></code> between the <code class="docutils literal notranslate"><span class="pre">from</span></code> and <code class="docutils literal notranslate"><span class="pre">to</span></code> <code class="docutils literal notranslate"><span class="pre">Vector2</span></code>s during its lifespan. Supports
<code class="docutils literal notranslate"><span class="pre">Curve</span></code> via <code class="docutils literal notranslate"><span class="pre">CurvedParticle</span></code>.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">game</span><span class="p">.</span><span class="n">add</span><span class="p">(</span>
<span class="w">  </span><span class="n">ParticleSystemComponent</span><span class="p">(</span>
<span class="w">    </span><span class="nl">particle:</span><span class="w"> </span><span class="n">MovingParticle</span><span class="p">(</span>
<span class="w">      </span><span class="c1">// Will move from corner to corner of the game canvas.</span>
<span class="w">      </span><span class="nl">from:</span><span class="w"> </span><span class="n">Vector2</span><span class="p">.</span><span class="n">zero</span><span class="p">(),</span>
<span class="w">      </span><span class="nl">to:</span><span class="w"> </span><span class="n">game</span><span class="p">.</span><span class="n">size</span><span class="p">,</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">CircleParticle</span><span class="p">(</span>
<span class="w">        </span><span class="nl">radius:</span><span class="w"> </span><span class="m">2.0</span><span class="p">,</span>
<span class="w">        </span><span class="nl">paint:</span><span class="w"> </span><span class="n">Paint</span><span class="p">()..</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">,</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">),</span>
<span class="p">);</span>
</pre></div>
</div>
</section>
<section id="acceleratedparticle">
<h2>AcceleratedParticle<a class="headerlink" href="#acceleratedparticle" title="Link to this heading">¶</a></h2>
<p>A basic physics particle which allows you to specify its initial <code class="docutils literal notranslate"><span class="pre">position</span></code>, <code class="docutils literal notranslate"><span class="pre">speed</span></code> and
<code class="docutils literal notranslate"><span class="pre">acceleration</span></code> and lets the <code class="docutils literal notranslate"><span class="pre">update</span></code> cycle do the rest. All three are specified as <code class="docutils literal notranslate"><span class="pre">Vector2</span></code>s, which
you can think of as vectors. It works especially well for physics-based “bursts”, but it is not
limited to that. Unit of the <code class="docutils literal notranslate"><span class="pre">Vector2</span></code> value is <em>logical px/s</em>. So a speed of <code class="docutils literal notranslate"><span class="pre">Vector2(0,</span> <span class="pre">100)</span></code> will
move a child <code class="docutils literal notranslate"><span class="pre">Particle</span></code> by 100 logical pixels of the device every second of game time.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">final</span><span class="w"> </span><span class="n">rnd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Random</span><span class="p">();</span>
<span class="n">Vector2</span><span class="w"> </span><span class="n">randomVector2</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">Vector2</span><span class="p">.</span><span class="n">random</span><span class="p">(</span><span class="n">rnd</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Vector2</span><span class="p">.</span><span class="n">random</span><span class="p">(</span><span class="n">rnd</span><span class="p">))</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">100</span><span class="p">;</span>

<span class="n">game</span><span class="p">.</span><span class="n">add</span><span class="p">(</span>
<span class="w">  </span><span class="n">ParticleSystemComponent</span><span class="p">(</span>
<span class="w">    </span><span class="nl">particle:</span><span class="w"> </span><span class="n">AcceleratedParticle</span><span class="p">(</span>
<span class="w">      </span><span class="c1">// Will fire off in the center of game canvas</span>
<span class="w">      </span><span class="nl">position:</span><span class="w"> </span><span class="n">game</span><span class="p">.</span><span class="n">canvasSize</span><span class="o">/</span><span class="m">2</span><span class="p">,</span>
<span class="w">      </span><span class="c1">// With random initial speed of Vector2(-100..100, 0..-100)</span>
<span class="w">      </span><span class="nl">speed:</span><span class="w"> </span><span class="n">Vector2</span><span class="p">(</span><span class="n">rnd</span><span class="p">.</span><span class="n">nextDouble</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">200</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">rnd</span><span class="p">.</span><span class="n">nextDouble</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">100</span><span class="p">),</span>
<span class="w">      </span><span class="c1">// Accelerating downwards, simulating &quot;gravity&quot;</span>
<span class="w">      </span><span class="c1">// speed: Vector2(0, 100),</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">CircleParticle</span><span class="p">(</span>
<span class="w">        </span><span class="nl">radius:</span><span class="w"> </span><span class="m">2.0</span><span class="p">,</span>
<span class="w">        </span><span class="nl">paint:</span><span class="w"> </span><span class="n">Paint</span><span class="p">()..</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">,</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">),</span>
<span class="p">);</span>
</pre></div>
</div>
</section>
<section id="circleparticle">
<h2>CircleParticle<a class="headerlink" href="#circleparticle" title="Link to this heading">¶</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">Particle</span></code> which renders a circle with given <code class="docutils literal notranslate"><span class="pre">Paint</span></code> at the zero offset of passed <code class="docutils literal notranslate"><span class="pre">Canvas</span></code>. Use in
conjunction with <code class="docutils literal notranslate"><span class="pre">TranslatedParticle</span></code>, <code class="docutils literal notranslate"><span class="pre">MovingParticle</span></code> or <code class="docutils literal notranslate"><span class="pre">AcceleratedParticle</span></code> in order to achieve
desired positioning.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">game</span><span class="p">.</span><span class="n">add</span><span class="p">(</span>
<span class="w">  </span><span class="n">ParticleSystemComponent</span><span class="p">(</span>
<span class="w">    </span><span class="nl">particle:</span><span class="w"> </span><span class="n">CircleParticle</span><span class="p">(</span>
<span class="w">      </span><span class="nl">radius:</span><span class="w"> </span><span class="n">game</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">x</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">2</span><span class="p">,</span>
<span class="w">      </span><span class="nl">paint:</span><span class="w"> </span><span class="n">Paint</span><span class="p">()..</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">.</span><span class="n">withValues</span><span class="p">(</span><span class="nl">alpha:</span><span class="w"> </span><span class="p">.</span><span class="m">5</span><span class="p">),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">),</span>
<span class="p">);</span>
</pre></div>
</div>
</section>
<section id="spriteparticle">
<h2>SpriteParticle<a class="headerlink" href="#spriteparticle" title="Link to this heading">¶</a></h2>
<p>Allows you to embed a <code class="docutils literal notranslate"><span class="pre">Sprite</span></code> into your particle effects.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">game</span><span class="p">.</span><span class="n">add</span><span class="p">(</span>
<span class="w">  </span><span class="n">ParticleSystemComponent</span><span class="p">(</span>
<span class="w">    </span><span class="nl">particle:</span><span class="w"> </span><span class="n">SpriteParticle</span><span class="p">(</span>
<span class="w">      </span><span class="nl">sprite:</span><span class="w"> </span><span class="n">Sprite</span><span class="p">(</span><span class="s1">&#39;sprite.png&#39;</span><span class="p">),</span>
<span class="w">      </span><span class="nl">size:</span><span class="w"> </span><span class="n">Vector2</span><span class="p">(</span><span class="m">64</span><span class="p">,</span><span class="w"> </span><span class="m">64</span><span class="p">),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">),</span>
<span class="p">);</span>
</pre></div>
</div>
</section>
<section id="imageparticle">
<h2>ImageParticle<a class="headerlink" href="#imageparticle" title="Link to this heading">¶</a></h2>
<p>Renders given <code class="docutils literal notranslate"><span class="pre">dart:ui</span></code> image within the particle tree.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="c1">// During game initialization</span>
<span class="kd">await</span><span class="w"> </span><span class="n">Flame</span><span class="p">.</span><span class="n">images</span><span class="p">.</span><span class="n">loadAll</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="s1">&#39;image.png&#39;</span><span class="p">,</span>
<span class="p">]);</span>

<span class="c1">// ...</span>

<span class="c1">// Somewhere during the game loop</span>
<span class="kd">final</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">Flame</span><span class="p">.</span><span class="n">images</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;image.png&#39;</span><span class="p">);</span>

<span class="n">game</span><span class="p">.</span><span class="n">add</span><span class="p">(</span>
<span class="w">  </span><span class="n">ParticleSystemComponent</span><span class="p">(</span>
<span class="w">    </span><span class="nl">particle:</span><span class="w"> </span><span class="n">ImageParticle</span><span class="p">(</span>
<span class="w">      </span><span class="nl">size:</span><span class="w"> </span><span class="n">Vector2</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">24</span><span class="p">),</span>
<span class="w">      </span><span class="nl">image:</span><span class="w"> </span><span class="n">image</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">),</span>
<span class="p">);</span>
</pre></div>
</div>
</section>
<section id="scalingparticle">
<h2>ScalingParticle<a class="headerlink" href="#scalingparticle" title="Link to this heading">¶</a></h2>
<p>Scales the child <code class="docutils literal notranslate"><span class="pre">Particle</span></code> between <code class="docutils literal notranslate"><span class="pre">1</span></code> and <code class="docutils literal notranslate"><span class="pre">to</span></code> during its lifespan.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">game</span><span class="p">.</span><span class="n">add</span><span class="p">(</span>
<span class="w">  </span><span class="n">ParticleSystemComponent</span><span class="p">(</span>
<span class="w">    </span><span class="nl">particle:</span><span class="w"> </span><span class="n">ScalingParticle</span><span class="p">(</span>
<span class="w">      </span><span class="nl">lifespan:</span><span class="w"> </span><span class="m">2</span><span class="p">,</span>
<span class="w">      </span><span class="nl">to:</span><span class="w"> </span><span class="m">0</span><span class="p">,</span>
<span class="w">      </span><span class="nl">curve:</span><span class="w"> </span><span class="n">Curves</span><span class="p">.</span><span class="n">easeIn</span><span class="p">,</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">CircleParticle</span><span class="p">(</span>
<span class="w">        </span><span class="nl">radius:</span><span class="w"> </span><span class="m">2.0</span><span class="p">,</span>
<span class="w">        </span><span class="nl">paint:</span><span class="w"> </span><span class="n">Paint</span><span class="p">()..</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">,</span>
<span class="w">      </span><span class="p">)</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">),</span>
<span class="p">);</span>
</pre></div>
</div>
</section>
<section id="spriteanimationparticle">
<h2>SpriteAnimationParticle<a class="headerlink" href="#spriteanimationparticle" title="Link to this heading">¶</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">Particle</span></code> which embeds a <code class="docutils literal notranslate"><span class="pre">SpriteAnimation</span></code>.
By default, aligns the <code class="docutils literal notranslate"><span class="pre">SpriteAnimation</span></code>’s <code class="docutils literal notranslate"><span class="pre">stepTime</span></code> so that
it’s fully played during the <code class="docutils literal notranslate"><span class="pre">Particle</span></code> lifespan. It’s possible to override this behavior with the
<code class="docutils literal notranslate"><span class="pre">alignAnimationTime</span></code> argument.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">final</span><span class="w"> </span><span class="n">spriteSheet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SpriteSheet</span><span class="p">(</span>
<span class="w">  </span><span class="nl">image:</span><span class="w"> </span><span class="n">yourSpriteSheetImage</span><span class="p">,</span>
<span class="w">  </span><span class="nl">srcSize:</span><span class="w"> </span><span class="n">Vector2</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16.0</span><span class="p">),</span>
<span class="p">);</span>

<span class="n">game</span><span class="p">.</span><span class="n">add</span><span class="p">(</span>
<span class="w">  </span><span class="n">ParticleSystemComponent</span><span class="p">(</span>
<span class="w">    </span><span class="nl">particle:</span><span class="w"> </span><span class="n">SpriteAnimationParticle</span><span class="p">(</span>
<span class="w">      </span><span class="nl">animation:</span><span class="w"> </span><span class="n">spriteSheet</span><span class="p">.</span><span class="n">createAnimation</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="nl">stepTime:</span><span class="w"> </span><span class="m">0.1</span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">),</span>
<span class="p">);</span>
</pre></div>
</div>
</section>
<section id="componentparticle">
<h2>ComponentParticle<a class="headerlink" href="#componentparticle" title="Link to this heading">¶</a></h2>
<p>This <code class="docutils literal notranslate"><span class="pre">Particle</span></code> allows you to embed a <code class="docutils literal notranslate"><span class="pre">Component</span></code> within the particle effects. The <code class="docutils literal notranslate"><span class="pre">Component</span></code> could
have its own <code class="docutils literal notranslate"><span class="pre">update</span></code> lifecycle and could be reused across different effect trees. If the only thing
you need is to add some dynamics to an instance of a certain <code class="docutils literal notranslate"><span class="pre">Component</span></code>, please consider adding it
to the <code class="docutils literal notranslate"><span class="pre">game</span></code> directly, without the <code class="docutils literal notranslate"><span class="pre">Particle</span></code> in the middle.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">final</span><span class="w"> </span><span class="n">longLivingRect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RectComponent</span><span class="p">();</span>

<span class="n">game</span><span class="p">.</span><span class="n">add</span><span class="p">(</span>
<span class="w">  </span><span class="n">ParticleSystemComponent</span><span class="p">(</span>
<span class="w">    </span><span class="nl">particle:</span><span class="w"> </span><span class="n">ComponentParticle</span><span class="p">(</span>
<span class="w">      </span><span class="nl">component:</span><span class="w"> </span><span class="n">longLivingRect</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">),</span>
<span class="p">);</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">RectComponent</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">render</span><span class="p">(</span><span class="n">Canvas</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">c</span><span class="p">.</span><span class="n">drawRect</span><span class="p">(</span>
<span class="w">      </span><span class="n">Rect</span><span class="p">.</span><span class="n">fromCenter</span><span class="p">(</span><span class="nl">center:</span><span class="w"> </span><span class="n">Offset</span><span class="p">.</span><span class="n">zero</span><span class="p">,</span><span class="w"> </span><span class="nl">width:</span><span class="w"> </span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="nl">height:</span><span class="w"> </span><span class="m">100</span><span class="p">),</span>
<span class="w">      </span><span class="n">Paint</span><span class="p">()..</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">update</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">dt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">/// Will be called by parent [Particle]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="computedparticle">
<h2>ComputedParticle<a class="headerlink" href="#computedparticle" title="Link to this heading">¶</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">Particle</span></code> which could help you when:</p>
<ul class="simple">
<li><p>Default behavior is not enough</p></li>
<li><p>Complex effects optimization</p></li>
<li><p>Custom easings</p></li>
</ul>
<p>When created, it delegates all the rendering to a supplied <code class="docutils literal notranslate"><span class="pre">ParticleRenderDelegate</span></code> which is called
on each frame to perform necessary computations and render something to the <code class="docutils literal notranslate"><span class="pre">Canvas</span></code>.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">game</span><span class="p">.</span><span class="n">add</span><span class="p">(</span>
<span class="w">  </span><span class="n">ParticleSystemComponent</span><span class="p">(</span>
<span class="w">    </span><span class="c1">// Renders a circle which gradually changes its color and size during the</span>
<span class="w">    </span><span class="c1">// particle lifespan.</span>
<span class="w">    </span><span class="nl">particle:</span><span class="w"> </span><span class="n">ComputedParticle</span><span class="p">(</span>
<span class="w">      </span><span class="nl">renderer:</span><span class="w"> </span><span class="p">(</span><span class="n">canvas</span><span class="p">,</span><span class="w"> </span><span class="n">particle</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">canvas</span><span class="p">.</span><span class="n">drawCircle</span><span class="p">(</span>
<span class="w">        </span><span class="n">Offset</span><span class="p">.</span><span class="n">zero</span><span class="p">,</span>
<span class="w">        </span><span class="n">particle</span><span class="p">.</span><span class="n">progress</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">10</span><span class="p">,</span>
<span class="w">        </span><span class="n">Paint</span><span class="p">()</span>
<span class="w">          </span><span class="p">..</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="n">lerp</span><span class="p">(</span>
<span class="w">            </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">,</span>
<span class="w">            </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">            </span><span class="n">particle</span><span class="p">.</span><span class="n">progress</span><span class="p">,</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="nesting-behavior">
<h2>Nesting behavior<a class="headerlink" href="#nesting-behavior" title="Link to this heading">¶</a></h2>
<p>Flame’s implementation of particles follows the same pattern of extreme composition as Flutter
widgets. That is achieved by encapsulating small pieces of behavior in every particle and then
nesting these behaviors together to achieve the desired visual effect.</p>
<p>Two entities that allow <code class="docutils literal notranslate"><span class="pre">Particle</span></code>s to nest each other are: <code class="docutils literal notranslate"><span class="pre">SingleChildParticle</span></code> mixin and
<code class="docutils literal notranslate"><span class="pre">ComposedParticle</span></code> class.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">SingleChildParticle</span></code> may help you with creating <code class="docutils literal notranslate"><span class="pre">Particles</span></code> with a custom behavior. For example,
randomly positioning its child during each frame:</p>
<p>The <code class="docutils literal notranslate"><span class="pre">SingleChildParticle</span></code> may help you with creating <code class="docutils literal notranslate"><span class="pre">Particles</span></code> with a custom behavior.</p>
<p>For example, randomly positioning it’s child during each frame:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="n">rnd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Random</span><span class="p">();</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">GlitchParticle</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Particle</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">SingleChildParticle</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Particle</span><span class="w"> </span><span class="n">child</span><span class="p">;</span>

<span class="w">  </span><span class="n">GlitchParticle</span><span class="p">({</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">child</span><span class="p">,</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">lifespan</span><span class="p">,</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">render</span><span class="p">(</span><span class="n">Canvas</span><span class="w"> </span><span class="n">canvas</span><span class="p">)</span><span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="n">canvas</span><span class="p">.</span><span class="n">save</span><span class="p">();</span>
<span class="w">    </span><span class="n">canvas</span><span class="p">.</span><span class="n">translate</span><span class="p">(</span><span class="n">rnd</span><span class="p">.</span><span class="n">nextDouble</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="n">rnd</span><span class="p">.</span><span class="n">nextDouble</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">100</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Will also render the child</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">render</span><span class="p">();</span>

<span class="w">    </span><span class="n">canvas</span><span class="p">.</span><span class="n">restore</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">ComposedParticle</span></code> could be used either as a standalone or within an existing <code class="docutils literal notranslate"><span class="pre">Particle</span></code> tree.</p>
</section>
</section>


    </div>
    <div class="copyright">
      The content on this page is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0 License</a>,
      and code samples under the <a href="https://raw.githubusercontent.com/flame-engine/flame/main/LICENSE">MIT License</a>.
    </div>
    <div class="prev-next-area">
      <a class="left-prev" id="prev-link" href="layers.html" title="previous page">
        <i class="fa fa-angle-left"></i>
        <div class="prev-next-info">
          <p class="prev-next-subtitle">Previous:</p>
          <p class="prev-next-title">Layers and Snapshots</p>
        </div>
      </a>
      <div class='expander'></div>
      <a class="right-next" id="next-link" href="text_rendering.html" title="next page">
        <div class="prev-next-info">
          <p class="prev-next-subtitle">Next:</p>
          <p class="prev-next-title">Text Rendering</p>
        </div>
        <i class="fa fa-angle-right"></i>
      </a>
    </div>
  </div>

  <div class="sidebar-right">
    
    <div class="nav-right" role="navigation" aria-label="table of contents">
      <div id='toc-local' class='list-group'>
 <div class='header'><i class='fa fa-list'></i> Contents</div>
  <a href='#lifecycle' class='list-group-item level-1'>Lifecycle</a>
  <a href='#built-in-particles' class='list-group-item level-1'>Built-in particles</a>
  <a href='#translatedparticle' class='list-group-item level-1'>TranslatedParticle</a>
  <a href='#movingparticle' class='list-group-item level-1'>MovingParticle</a>
  <a href='#acceleratedparticle' class='list-group-item level-1'>AcceleratedParticle</a>
  <a href='#circleparticle' class='list-group-item level-1'>CircleParticle</a>
  <a href='#spriteparticle' class='list-group-item level-1'>SpriteParticle</a>
  <a href='#imageparticle' class='list-group-item level-1'>ImageParticle</a>
  <a href='#scalingparticle' class='list-group-item level-1'>ScalingParticle</a>
  <a href='#spriteanimationparticle' class='list-group-item level-1'>SpriteAnimationParticle</a>
  <a href='#componentparticle' class='list-group-item level-1'>ComponentParticle</a>
  <a href='#computedparticle' class='list-group-item level-1'>ComputedParticle</a>
  <a href='#nesting-behavior' class='list-group-item level-1'>Nesting behavior</a>
</div>

    </div>
  </div>

  <div class="expander"></div>
</div>




</body>
</html>