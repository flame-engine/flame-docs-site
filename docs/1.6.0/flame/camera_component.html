<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Camera component &#8212; Flame</title>
  <!-- Stylesheets -->
  <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
  <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
  <link rel="stylesheet" type="text/css" href="../_static/dart_domain.css" />
  <link rel="stylesheet" type="text/css" href="../_static/flutter_app.css" />
  <link rel="stylesheet" type="text/css" href="../_static/package.css" />
  <link rel="stylesheet" type="text/css" href="../_static/yarn_lexer.css" />
  <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
  <link rel="stylesheet" type="text/css" href="../_static/flames.css" />
  <link rel="stylesheet" type="text/css" href="../_static/copy-button.css" />
  <!-- Scripts -->
  <script src="../_static/jquery.js"></script>
  <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
  <script src="../_static/doctools.js"></script>
  <script src="../_static/sphinx_highlight.js"></script>
  <script src="../_static/flutter_app.js"></script>
  <script src="../_static/clipboard.min.js"></script>
  <script src="../_static/copybutton.js"></script>
  <script src="https://unpkg.com/mermaid@9.4.0/dist/mermaid.min.js"></script>
  <script>mermaid.initialize({startOnLoad:true});</script>
  <script src="../_static/versions.js"></script>
  <script src="../_static/menu-expand.js"></script>
  <!--script src="searchindex.js" defer></script-->
  <!-- Links -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,400;0,700;1,400;1,700&display=swap">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../_static/fontawesome/fa-brands-400.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../_static/fontawesome/fa-solid-900.woff2">
  <link rel="stylesheet" href="../_static/fontawesome/all.min.css">
  <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <link rel="index" title="Index" href="../genindex.html" />
  <link rel="search" title="Search" href="../search.html" />
  <link rel="next" title="Inputs" href="inputs/inputs.html" />
  <link rel="prev" title="Camera and Viewport" href="camera_and_viewport.html" />
</head>

<body data-spy="scroll" data-target="#toc-local" data-offset="80">

<div class="top-bar">
  <button id="menu-button" class="btn" title="Toggle menu"><i class="fa fa-bars"></i></button>
  <script type="text/javascript">
    jQuery(function(){
      $("#menu-button").click(function() {
        $(this).toggleClass("active");
        $(".sidebar-left-area").toggleClass("active");
      });

      $('div.nav-left li > a:not(:only-child)').wrap('<div class=submenu></div>');
      $('div.nav-left div.submenu').prepend('<a class=arrow>&nbsp;</a>');
      $('div.nav-left div.submenu > a.arrow')
        .click(function() {
          $(this.parentElement.parentElement).toggleClass('current');
        });

      // This function ensures that when navigating to internal targets within the page (such as
      // a section header), those targets will be visible to the user and not obscured by the menu
      // bar at the top of the page.
      function scrollToHashTarget() {
        if (location.hash !== location.oldHash) {
          window.scrollBy(0, -60);
          location.oldHash = location.hash;
        }
      }
      window.location.oldHash = '';
      window.addEventListener('hashchange', scrollToHashTarget);
      scrollToHashTarget();
    });
  </script>

  <a href="../index.html" class="logo_image">
    <img src="../_static/logo_flame.png">
  </a>  
  <div class="highlight-box" role="alert" style="display:none">
    <div>
      <div class="title">highlighted:</div>
      <div class="content" id="highlight-content"></div>
    </div>
    <button type="button" class="close" data-dismiss="alert" aria-label="Dismiss">×</button>
  </div>
  <div class="expander"></div>

  <div class="versions-placeholder"></div>
  <a href="https://discord.com/invite/pxrBmy4" id="discord-button" class="btn"
     title="Blue Fire Discord server">
    <i class="fab fa-discord"></i>
  </a>
  <a href="https://github.com/flame-engine/flame/" id="github-button" class="btn"
     title="GitHub repository">
    <i class="fab fa-github"></i>
  </a>
</div>

<div class="sidebar-left-area">
  <div class="sidebar-left-bg"></div>
  <div class="sidebar-left">
    <div class="searchbox" role="search">
      <form id="search-form" action="../search.html" method="get">
        <i class="icon fa fa-search"></i>
        <input type="search" class="form-control" id="search-input" name="q"
               placeholder="Search the docs..." autocomplete="off" />
      </form>
    </div>
    <div class="nav-left" role="navigation" aria-label="Main">
      <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="flame.html">Flame</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="structure.html">File Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="game_widget.html">Game Widget</a></li>
<li class="toctree-l2"><a class="reference internal" href="game.html">Game Loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="components.html">Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="router.html">Router</a></li>
<li class="toctree-l2"><a class="reference internal" href="platforms.html">Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="collision_detection.html">Collision Detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="effects.html">Effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="camera_and_viewport.html">Camera &amp; Viewport</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Camera Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="inputs/inputs.html">Inputs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="inputs/drag_events.html">Drag Events</a></li>
<li class="toctree-l3"><a class="reference internal" href="inputs/gesture_input.html">Gesture Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="inputs/keyboard_input.html">Keyboard Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="inputs/other_inputs.html">Other Inputs</a></li>
<li class="toctree-l3"><a class="reference internal" href="inputs/tap_events.html">Tap Events</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rendering/rendering.html">Rendering</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rendering/palette.html">Colors and Palette</a></li>
<li class="toctree-l3"><a class="reference internal" href="rendering/decorators.html">Decorators</a></li>
<li class="toctree-l3"><a class="reference internal" href="rendering/images.html">Images, Sprites and Animations</a></li>
<li class="toctree-l3"><a class="reference internal" href="rendering/layers.html">Layers</a></li>
<li class="toctree-l3"><a class="reference internal" href="rendering/particles.html">Particles</a></li>
<li class="toctree-l3"><a class="reference internal" href="rendering/text_rendering.html">Text Rendering</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="other/other.html">Other</a><ul>
<li class="toctree-l3"><a class="reference internal" href="other/debug.html">Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="other/util.html">Utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="other/widgets.html">Widgets</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../bridge_packages/bridge_packages.html">Bridge Packages</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../bridge_packages/flame_audio/flame_audio.html">flame_audio</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_audio/audio.html">General audio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_audio/bgm.html">Background music</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_audio/audio_pool.html">AudioPool</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bridge_packages/flame_bloc/flame_bloc.html">flame_bloc</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_bloc/bloc.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_bloc/bloc_components.html">Components</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bridge_packages/flame_fire_atlas/flame_fire_atlas.html">flame_fire_atlas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_fire_atlas/fire_atlas.html">Overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bridge_packages/flame_forge2d/flame_forge2d.html">flame_forge2d</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_forge2d/forge2d.html">Overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bridge_packages/flame_isolate/flame_isolate.html">flame_isolate</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_isolate/isolate.html">Overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bridge_packages/flame_lottie/flame_lottie.html">flame_lottie</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bridge_packages/flame_oxygen/flame_oxygen.html">flame_oxygen</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bridge_packages/flame_rive/flame_rive.html">flame_rive</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_rive/rive.html">Overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bridge_packages/flame_splash_screen/flame_splash_screen.html">flame_splash_screen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bridge_packages/flame_svg/flame_svg.html">flame_svg</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_svg/svg.html">Overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bridge_packages/flame_tiled/flame_tiled.html">flame_tiled</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_tiled/tiled.html">Tiled</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bridge_packages/flame_tiled/layers.html">Layers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../other_modules/other_modules.html">Other Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../other_modules/jenny/index.html">jenny</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../other_modules/jenny/language/language.html">YarnSpinner language</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../other_modules/jenny/language/nodes.html">Nodes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../other_modules/jenny/language/lines.html">Lines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../other_modules/jenny/language/options.html">Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../other_modules/jenny/language/commands/commands.html">Commands</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../other_modules/jenny/language/commands/character.html">&lt;&lt;character&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../other_modules/jenny/language/commands/declare.html">&lt;&lt;declare&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../other_modules/jenny/language/commands/if.html">&lt;&lt;if&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../other_modules/jenny/language/commands/jump.html">&lt;&lt;jump&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../other_modules/jenny/language/commands/local.html">&lt;&lt;local&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../other_modules/jenny/language/commands/set.html">&lt;&lt;set&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../other_modules/jenny/language/commands/stop.html">&lt;&lt;stop&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../other_modules/jenny/language/commands/visit.html">&lt;&lt;visit&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../other_modules/jenny/language/commands/wait.html">&lt;&lt;wait&gt;&gt;</a></li>
<li class="toctree-l5"><a class="reference internal" href="../other_modules/jenny/language/commands/user_defined_commands.html">User-defined commands</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../other_modules/jenny/language/expressions/expressions.html">Expressions</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../other_modules/jenny/language/expressions/variables.html">Variables</a></li>
<li class="toctree-l5"><a class="reference internal" href="../other_modules/jenny/language/expressions/operators.html">Operators</a></li>
<li class="toctree-l5"><a class="reference internal" href="../other_modules/jenny/language/expressions/functions/functions.html">Functions</a><ul>
<li class="toctree-l6"><a class="reference internal" href="../other_modules/jenny/language/expressions/functions/random.html">Random functions</a></li>
<li class="toctree-l6"><a class="reference internal" href="../other_modules/jenny/language/expressions/functions/numeric.html">Numeric functions</a></li>
<li class="toctree-l6"><a class="reference internal" href="../other_modules/jenny/language/expressions/functions/type.html">Type conversion functions</a></li>
<li class="toctree-l6"><a class="reference internal" href="../other_modules/jenny/language/expressions/functions/misc.html">Miscellaneous functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../other_modules/jenny/language/markup.html">Markup</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../other_modules/jenny/runtime/index.html">Jenny API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../other_modules/jenny/runtime/character.html">Character</a></li>
<li class="toctree-l4"><a class="reference internal" href="../other_modules/jenny/runtime/character_storage.html">CharacterStorage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../other_modules/jenny/runtime/command_storage.html">CommandStorage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../other_modules/jenny/runtime/dialogue_choice.html">DialogueChoice</a></li>
<li class="toctree-l4"><a class="reference internal" href="../other_modules/jenny/runtime/dialogue_line.html">DialogueLine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../other_modules/jenny/runtime/dialogue_option.html">DialogueOption</a></li>
<li class="toctree-l4"><a class="reference internal" href="../other_modules/jenny/runtime/dialogue_runner.html">DialogueRunner</a></li>
<li class="toctree-l4"><a class="reference internal" href="../other_modules/jenny/runtime/dialogue_view.html">DialogueView</a></li>
<li class="toctree-l4"><a class="reference internal" href="../other_modules/jenny/runtime/function_storage.html">FunctionStorage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../other_modules/jenny/runtime/markup_attribute.html">MarkupAttribute</a></li>
<li class="toctree-l4"><a class="reference internal" href="../other_modules/jenny/runtime/node.html">Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../other_modules/jenny/runtime/user_defined_command.html">UserDefinedCommand</a></li>
<li class="toctree-l4"><a class="reference internal" href="../other_modules/jenny/runtime/yarn_project.html">YarnProject</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../other_modules/oxygen/oxygen.html">oxygen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../other_modules/oxygen/components.html">Components</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorials.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/bare_flame_game.html">Bare Flame game</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/klondike/klondike.html">Klondike</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/step1.html">1. Preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/step2.html">2. Scaffolding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/step3.html">3. Cards</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/step4.html">4. Gameplay</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/klondike/tbc.html">[To be continued]...</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/platformer/platformer.html">Ember Quest</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/platformer/step_1.html">1. Preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/platformer/step_2.html">2. Start Coding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/platformer/step_3.html">3. Building the World</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/platformer/step_4.html">4. Adding the Remaining Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/platformer/step_5.html">5. Controlling Movement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/platformer/step_6.html">6. Adding the HUD</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/platformer/step_7.html">7. Adding Menus</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/space_shooter/space_shooter.html">Space Shooter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/space_shooter/step_1.html">1. Getting Started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/space_shooter/step_2.html">2. Controlling the player and adding some graphics</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/development.html">Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/contributing.html">Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/documentation.html">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/style_guide.html">Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/testing_guide.html">Tests Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../resources/resources.html">Resources</a><ul>
<li class="toctree-l2"><a class="reference external" href="https://pub.dev/documentation/flame/1.6.0/">Flame API</a></li>
<li class="toctree-l2"><a class="reference external" href="https://examples.flame-engine.org/#/">Flame Examples</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
</div>

<div class="main-area">
  <div class="document-wrapper">
    <div class="warning hidden" id="version-warning">
      <p><strong>Warning:</strong> you are currently viewing the docs for an older
      version <span class="version"></span> of Flame.</p>
      <p>Please <a href="/">click here</a> to go see the documentation for the latest
      released version.</p>
    </div>
    <div class="document" role="main">
      
  <section class="tex2jax_ignore mathjax_ignore" id="camera-component">
<h1>Camera component<a class="headerlink" href="#camera-component" title="Permalink to this heading">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This document describes a new experimental API. The more traditional approach
for handling a camera is described in <a class="reference internal" href="camera_and_viewport.html"><span class="std std-doc">Camera and Viewport</span></a>.</p>
</div>
<p>Camera-as-a-component is an alternative way of structuring a game, an approach
that allows more flexibility in placing the camera, or even having more than
one camera simultaneously.</p>
<p>In order to understand how this approach works, imagine that your game world is
an entity that exists <em>somewhere</em> independently from your application. Imagine
that your game is merely a window through which you can look into that world.
That you can close that window at any moment, and the game world would still be
there. Or, on the contrary, you can open multiple windows that all look at the
same world (or different worlds) at the same time.</p>
<p>With this mindset, we can now understand how camera-as-a-component works.</p>
<p>First, there is the <a class="reference internal" href="#world"><span class="std std-ref">World</span></a> class, which contains all components that are
inside your game world. The <code class="docutils literal notranslate"><span class="pre">World</span></code> component can be mounted anywhere, for
example at the root of your game class.</p>
<p>Then, a <a class="reference internal" href="#cameracomponent"><span class="std std-ref">CameraComponent</span></a> class that “looks at” the <code class="docutils literal notranslate"><span class="pre">World</span></code>. The
<code class="docutils literal notranslate"><span class="pre">CameraComponent</span></code> has a <code class="docutils literal notranslate"><span class="pre">Viewport</span></code> and a <code class="docutils literal notranslate"><span class="pre">Viewfinder</span></code> inside, allowing both the
flexibility of rendering the world at any place on the screen, and also control
the viewing location and angle.</p>
<section id="world">
<h2>World<a class="headerlink" href="#world" title="Permalink to this heading">¶</a></h2>
<p>This component should be used to host all other components that comprise your
game world. The main property of the <code class="docutils literal notranslate"><span class="pre">World</span></code> class is that it does not render
through traditional means – instead, create one or more <a class="reference internal" href="#cameracomponent"><span class="std std-ref">CameraComponent</span></a>s
to “look at” the world.</p>
<p>A game can have multiple <code class="docutils literal notranslate"><span class="pre">World</span></code> instances that can be rendered either at the
same time, or at different times. For example, if you have two worlds A and B
and a single camera, then switching that camera’s target from A to B will
instantaneously switch the view to world B without having to unmount A and
then mount B.</p>
<p>Just like with most <code class="docutils literal notranslate"><span class="pre">Component</span></code>s, children can be added to <code class="docutils literal notranslate"><span class="pre">World</span></code> by using the
<code class="docutils literal notranslate"><span class="pre">children</span></code> argument in its constructor, or by using the <code class="docutils literal notranslate"><span class="pre">add</span></code> or <code class="docutils literal notranslate"><span class="pre">addAll</span></code>
methods.</p>
</section>
<section id="cameracomponent">
<h2>CameraComponent<a class="headerlink" href="#cameracomponent" title="Permalink to this heading">¶</a></h2>
<p>This is a component through which a <code class="docutils literal notranslate"><span class="pre">World</span></code> is rendered. It requires a
reference to a <code class="docutils literal notranslate"><span class="pre">World</span></code> instance during construction; however later the target
world can be replaced with another one. Multiple cameras can observe the same
world at the same time.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">CameraComponent</span></code> has two other components inside: a <a class="reference internal" href="#viewport"><span class="std std-ref">Viewport</span></a> and a
<a class="reference internal" href="#viewfinder"><span class="std std-ref">Viewfinder</span></a>. Unlike the <code class="docutils literal notranslate"><span class="pre">World</span></code> object, the camera owns the viewport and
the viewfinder, which means those components are children of the camera.</p>
<p>There is also a static property <code class="docutils literal notranslate"><span class="pre">CameraComponent.currentCamera</span></code> which is not
null only during the rendering stage, and it returns the camera object that
currently performs rendering. This is needed only for certain advanced use
cases where the rendering of a component depends on the camera settings. For
example, some components may decide to skip rendering themselves and their
children if they are outside of the camera’s viewport.</p>
<section id="cameracomponent-withfixedresolution">
<h3>CameraComponent.withFixedResolution()<a class="headerlink" href="#cameracomponent-withfixedresolution" title="Permalink to this heading">¶</a></h3>
<p>This factory constructor will let you pretend that the user’s device has a fixed resolution of your
choice. For example:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">final</span><span class="w"> </span><span class="n">camera</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CameraComponent</span><span class="p">.</span><span class="n">withFixedResolution</span><span class="p">(</span>
<span class="w">  </span><span class="nl">world:</span><span class="w"> </span><span class="n">myWorldComponent</span><span class="p">,</span>
<span class="w">  </span><span class="nl">width:</span><span class="w"> </span><span class="m">800</span><span class="p">,</span>
<span class="w">  </span><span class="nl">height:</span><span class="w"> </span><span class="m">600</span><span class="p">,</span>
<span class="p">);</span>
</pre></div>
</div>
<p>This will create a camera with a viewport centered in the middle of the screen, taking as much
space as possible while still maintaining the 800:600 aspect ratio, and showing a game world region
of size 800 x 600.</p>
<p>A “fixed resolution” is very simple to work with, but it will underutilize the user’s available
screen space, unless their device happens to have the same pixel ratio as your chosen dimensions.</p>
</section>
</section>
<section id="viewport">
<h2>Viewport<a class="headerlink" href="#viewport" title="Permalink to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">Viewport</span></code> is a window through which the <code class="docutils literal notranslate"><span class="pre">World</span></code> is seen. That window
has a certain size, shape, and position on the screen. There are multiple kinds
of viewports available, and you can always implement your own.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Viewport</span></code> is a component, which means you can add other components to it.
These children components will be affected by the viewport’s position, but not
by its clip mask. Thus, if a viewport is a “window” into the game world, then
its children are things that you can put on top of the window.</p>
<p>Adding elements to the viewport is a convenient way to implement “HUD”
components.</p>
<p>The following viewports are available:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MaxViewport</span></code> (default) – this viewport expands to the maximum size allowed
by the game, i.e. it will be equal to the size of the game canvas.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FixedSizeViewport</span></code> – a simple rectangular viewport with predefined size.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FixedAspectRatioViewport</span></code> – a rectangular viewport which expands to fit
into the game canvas, but preserving its aspect ratio.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CircularViewport</span></code> – a viewport in the shape of a circle, fixed size.</p></li>
</ul>
</section>
<section id="viewfinder">
<h2>Viewfinder<a class="headerlink" href="#viewfinder" title="Permalink to this heading">¶</a></h2>
<p>This part of the camera is responsible for knowing which location in the
underlying game world we are currently looking at. The <code class="docutils literal notranslate"><span class="pre">Viewfinder</span></code> also
controls the zoom level, and the rotation angle of the view.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">anchor</span></code> property of the viewfinder allows you to designate which point
inside the viewport serves as a “logical center” of the camera. For example,
in side-scrolling action games it is common to have the camera focused on the
main character who is displayed not in the center of the screen but closer to
the lower-left corner. This off-center position would be the “logical center”
of the camera, controlled by the viewfinder’s <code class="docutils literal notranslate"><span class="pre">anchor</span></code>.</p>
<p>Components added to the <code class="docutils literal notranslate"><span class="pre">Viewfinder</span></code> as children will be rendered as if they
were part of the world (but on top). It is more useful to add behavioral
components to the viewfinder, for example <a class="reference internal" href="effects.html"><span class="std std-doc">Effects</span></a> or other controllers.</p>
</section>
<section id="camera-controls">
<h2>Camera controls<a class="headerlink" href="#camera-controls" title="Permalink to this heading">¶</a></h2>
<p>There are several ways to modify camera’s settings at runtime:</p>
<ol class="arabic simple">
<li><p>Do it manually. You can always override the <code class="docutils literal notranslate"><span class="pre">CameraComponent.update()</span></code>
method (or the same method on the viewfinder or viewport) and within it
change the viewfinder’s position or zoom as you see fit. This approach may
be viable in some circumstances, but in general it is not recommended.</p></li>
<li><p>Apply effects and/or behaviors to the camera’s <code class="docutils literal notranslate"><span class="pre">Viewfinder</span></code> or <code class="docutils literal notranslate"><span class="pre">Viewport</span></code>.
The effects and behaviors are special kinds of components whose purpose is
to modify over time some property of a component that they attach to.</p></li>
<li><p>Use special camera functions such as <code class="docutils literal notranslate"><span class="pre">follow()</span></code>, <code class="docutils literal notranslate"><span class="pre">moveBy()</span></code> and <code class="docutils literal notranslate"><span class="pre">moveTo()</span></code>.
Under the hood, this approach uses the same effects/behaviors as in (2).</p></li>
</ol>
<p>Camera has several methods for controlling its behavior:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Camera.follow()</span></code> will force the camera to follow the provided target.
Optionally you can limit the maximum speed of movement of the camera, or
allow it to move horizontally/vertically only.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Camera.stop()</span></code> will undo the effect of the previous call and stop the camera
at its current position.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Camera.moveBy()</span></code> can be used to move the camera by the specified offset.
If the camera was already following another component or moving towards,
those behaviors would be automatically cancelled.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Camera.moveTo()</span></code> can be used to move the camera to the designated point on
the world map. If the camera was already following another component or
moving towards another point, those behaviors would be automatically
cancelled.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Camera.setBounds()</span></code> allows you to add limits to where the camera is allowed to go. These limits
are in the form of a <code class="docutils literal notranslate"><span class="pre">Shape</span></code>, which is commonly a rectangle, but can also be any other shape.</p></li>
</ul>
<section id="visibleworldrect">
<h3>visibleWorldRect<a class="headerlink" href="#visibleworldrect" title="Permalink to this heading">¶</a></h3>
<p>The camera exposes property <code class="docutils literal notranslate"><span class="pre">visibleWorldRect</span></code>, which is a rect that describes the world’s region
which is currently visible through the camera. This region can be used in order to avoid rendering
components that are out of view, or updating objects that are far away from the player less
frequently.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">visibleWorldRect</span></code> is a cached property, and it updates automatically whenever the camera
moves or the viewport changes its size.</p>
</section>
<section id="check-if-a-component-is-visible-from-the-camera-point-of-view">
<h3>Check if a component is visible from the camera point of view<a class="headerlink" href="#check-if-a-component-is-visible-from-the-camera-point-of-view" title="Permalink to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">CameraComponent</span></code> has a method called <code class="docutils literal notranslate"><span class="pre">canSee</span></code> which can be used to check
if a component is visible from the camera point of view.
This is useful for example to cull components that are not in view.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">camera</span><span class="p">.</span><span class="n">canSee</span><span class="p">(</span><span class="n">component</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="n">component</span><span class="p">.</span><span class="n">removeFromParent</span><span class="p">();</span><span class="w"> </span><span class="c1">// Cull the component</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="comparison-to-the-traditional-camera">
<h2>Comparison to the traditional camera<a class="headerlink" href="#comparison-to-the-traditional-camera" title="Permalink to this heading">¶</a></h2>
<p>Compared to the normal <a class="reference internal" href="camera_and_viewport.html"><span class="std std-doc">Camera</span></a>, the <code class="docutils literal notranslate"><span class="pre">CameraComponent</span></code>
has several advantages:</p>
<ul class="simple">
<li><p>Multiple cameras can be added to the game at the same time;</p></li>
<li><p>More flexibility in choosing the placement and the size of the viewport;</p></li>
<li><p>Switching camera from one world to another can happen instantaneously,
without having to unmount one world and then mount another;</p></li>
<li><p>Support rotation of the world view;</p></li>
<li><p>Effects can be applied either to the viewport, or to the viewfinder;</p></li>
<li><p>More flexible camera controllers.</p></li>
</ul>
</section>
</section>


    </div>
    <div class="copyright">
      The content on this page is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0 License</a>,
      and code samples under the <a href="https://raw.githubusercontent.com/flame-engine/flame/main/LICENSE">MIT License</a>.
    </div>
    <div class="prev-next-area">
      <a class="left-prev" id="prev-link" href="camera_and_viewport.html" title="previous page">
        <i class="fa fa-angle-left"></i>
        <div class="prev-next-info">
          <p class="prev-next-subtitle">Previous:</p>
          <p class="prev-next-title">Camera and Viewport</p>
        </div>
      </a>
      <div class='expander'></div>
      <a class="right-next" id="next-link" href="inputs/inputs.html" title="next page">
        <div class="prev-next-info">
          <p class="prev-next-subtitle">Next:</p>
          <p class="prev-next-title">Inputs</p>
        </div>
        <i class="fa fa-angle-right"></i>
      </a>
    </div>
  </div>

  <div class="sidebar-right">
    
    <div class="nav-right" role="navigation" aria-label="table of contents">
      <div id='toc-local' class='list-group'>
 <div class='header'><i class='fa fa-list'></i> Contents</div>
  <a href='#world' class='list-group-item level-1'>World</a>
  <a href='#cameracomponent' class='list-group-item level-1'>CameraComponent</a>
  <a href='#cameracomponent-withfixedresolution' class='list-group-item level-2'>CameraComponent.withFixedResolution()</a>
  <a href='#viewport' class='list-group-item level-1'>Viewport</a>
  <a href='#viewfinder' class='list-group-item level-1'>Viewfinder</a>
  <a href='#camera-controls' class='list-group-item level-1'>Camera controls</a>
  <a href='#visibleworldrect' class='list-group-item level-2'>visibleWorldRect</a>
  <a href='#check-if-a-component-is-visible-from-the-camera-point-of-view' class='list-group-item level-2'>Check if a component is visible from the camera point of view</a>
  <a href='#comparison-to-the-traditional-camera' class='list-group-item level-1'>Comparison to the traditional camera</a>
</div>

    </div>
  </div>

  <div class="expander"></div>
</div>




</body>
</html>