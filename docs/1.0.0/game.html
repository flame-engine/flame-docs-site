<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>FlameGame &#8212; Flame</title>
  <!-- Stylesheets -->
  <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b20cc3f5" />
  <link rel="stylesheet" type="text/css" href="_static/basic.css?v=eeb27264" />
  <link rel="stylesheet" type="text/css" href="_static/dart_domain.css" />
  <link rel="stylesheet" type="text/css" href="_static/flutter_app.css?v=6984c178" />
  <link rel="stylesheet" type="text/css" href="_static/package.css?v=7889e545" />
  <link rel="stylesheet" type="text/css" href="_static/yarn_lexer.css?v=932ca0ec" />
  <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
  <link rel="stylesheet" type="text/css" href="_static/flames.css?v=37920019" />
  <link rel="stylesheet" type="text/css" href="_static/copy-button.css?v=deecb4da" />
  <!-- Scripts -->
  <script src="_static/jquery.js?v=5d32c60e"></script>
  <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
  <script src="_static/documentation_options.js?v=5929fcd5"></script>
  <script src="_static/doctools.js?v=0b60eaae"></script>
  <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
  <script src="_static/flutter_app.js?v=3619378f"></script>
  <script src="_static/clipboard.min.js?v=a7894cd8"></script>
  <script src="_static/copybutton.js?v=f281be69"></script>
  <script src="_static/versions.js?v=58484017"></script>
  <script src="_static/menu-expand.js?v=8e297497"></script>
  <!--script src="searchindex.js" defer></script-->
  <!-- Links -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,400;0,700;1,400;1,700&display=swap">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="_static/fontawesome/fa-brands-400.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="_static/fontawesome/fa-solid-900.woff2">
  <link rel="stylesheet" href="_static/fontawesome/all.min.css">
  <link rel="shortcut icon" href="_static/favicon.ico"/>
  <link rel="index" title="Index" href="genindex.html" />
  <link rel="search" title="Search" href="search.html" />
  <link rel="next" title="Components" href="components.html" />
  <link rel="prev" title="Structure" href="structure.html" />
</head>

<body data-spy="scroll" data-target="#toc-local" data-offset="80">

<div class="top-bar">
  <button id="menu-button" class="btn" title="Toggle menu"><i class="fa fa-bars"></i></button>
  <script type="text/javascript">
    jQuery(function(){
      $("#menu-button").click(function() {
        $(this).toggleClass("active");
        $(".sidebar-left-area").toggleClass("active");
      });

      $('div.nav-left li > a:not(:only-child)').wrap('<div class=submenu></div>');
      $('div.nav-left div.submenu').prepend('<a class=arrow>&nbsp;</a>');
      $('div.nav-left div.submenu > a.arrow')
        .click(function() {
          $(this.parentElement.parentElement).toggleClass('current');
        });

      // This function ensures that when navigating to internal targets within the page (such as
      // a section header), those targets will be visible to the user and not obscured by the menu
      // bar at the top of the page.
      function scrollToHashTarget() {
        if (location.hash !== location.oldHash) {
          window.scrollBy(0, -60);
          location.oldHash = location.hash;
        }
      }
      window.location.oldHash = '';
      window.addEventListener('hashchange', scrollToHashTarget);
      scrollToHashTarget();
    });
  </script>

  <a href="index.html" class="logo_image">
    <img src="_static/logo_flame.png">
  </a>  
  <div class="highlight-box" role="alert" style="display:none">
    <div>
      <div class="title">highlighted:</div>
      <div class="content" id="highlight-content"></div>
    </div>
    <button type="button" class="close" data-dismiss="alert" aria-label="Dismiss">×</button>
  </div>
  <div class="expander"></div>

  <div class="versions-placeholder"></div>
  <a href="https://discord.com/invite/pxrBmy4" id="discord-button" class="btn"
     title="Blue Fire Discord server">
    <i class="fab fa-discord"></i>
  </a>
  <a href="https://github.com/flame-engine/flame/" id="github-button" class="btn"
     title="GitHub repository">
    <i class="fab fa-github"></i>
  </a>
</div>

<div class="sidebar-left-area">
  <div class="sidebar-left-bg"></div>
  <div class="sidebar-left">
    <div class="searchbox" role="search">
      <form id="search-form" action="search.html" method="get">
        <i class="icon fa fa-search"></i>
        <input type="search" class="form-control" id="search-input" name="q"
               placeholder="Search the docs..." autocomplete="off" />
      </form>
    </div>
    <div class="nav-left" role="navigation" aria-label="Main">
      <p class="caption" role="heading"><span class="caption-text">Basic concepts</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="structure.html">File structure</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">FlameGame</a></li>
<li class="toctree-l1"><a class="reference internal" href="#low-level-game-api">Low-level Game API</a></li>
<li class="toctree-l1"><a class="reference internal" href="#gameloop">GameLoop</a></li>
<li class="toctree-l1"><a class="reference internal" href="#pause-resuming-game-execution">Pause/Resuming game execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="#flutter-widgets-and-game-instances">Flutter Widgets and Game instances</a></li>
<li class="toctree-l1"><a class="reference internal" href="components.html">Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="platforms.html">Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="collision_detection.html">Collision detection</a></li>
<li class="toctree-l1"><a class="reference internal" href="effects.html">Effects</a></li>
<li class="toctree-l1"><a class="reference internal" href="camera_and_viewport.html">Camera &amp; Viewport</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Inputs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="gesture-input.html">Gesture input</a></li>
<li class="toctree-l1"><a class="reference internal" href="keyboard-input.html">Keyboard input</a></li>
<li class="toctree-l1"><a class="reference internal" href="other-inputs.html">Other inputs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Audio</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="audio.html">General audio</a></li>
<li class="toctree-l1"><a class="reference internal" href="bgm.html">Background music</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Rendering</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="images.html">Images, sprites and animations</a></li>
<li class="toctree-l1"><a class="reference internal" href="text.html">Text rendering</a></li>
<li class="toctree-l1"><a class="reference internal" href="palette.html">Colors and palette</a></li>
<li class="toctree-l1"><a class="reference internal" href="particles.html">Particles</a></li>
<li class="toctree-l1"><a class="reference internal" href="layers.html">Layers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="util.html">Util</a></li>
<li class="toctree-l1"><a class="reference internal" href="widgets.html">Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="forge2d.html">Forge2D</a></li>
<li class="toctree-l1"><a class="reference internal" href="oxygen.html">Oxygen</a></li>
<li class="toctree-l1"><a class="reference internal" href="tiled.html">Tiled</a></li>
<li class="toctree-l1"><a class="reference internal" href="debug.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="splash_screen.html">Splash screen</a></li>
</ul>

    </div>
  </div>
</div>

<div class="main-area">
  <div class="document-wrapper">
    <div class="warning hidden" id="version-warning">
      <p><strong>Warning:</strong> you are currently viewing the docs for an older
      version <span class="version"></span> of Flame.</p>
      <p>Please <a href="/">click here</a> to go see the documentation for the latest
      released version.</p>
    </div>
    <div class="document" role="main">
      
  <section class="tex2jax_ignore mathjax_ignore" id="flamegame">
<h1>FlameGame<a class="headerlink" href="#flamegame" title="Link to this heading">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">FlameGame</span></code> is the most basic and most commonly used <code class="docutils literal notranslate"><span class="pre">Game</span></code> class in Flame.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">FlameGame</span></code> class implements a <code class="docutils literal notranslate"><span class="pre">Component</span></code> based <code class="docutils literal notranslate"><span class="pre">Game</span></code>. Basically it has a list of <code class="docutils literal notranslate"><span class="pre">Component</span></code>s
and passes the <code class="docutils literal notranslate"><span class="pre">update</span></code> and <code class="docutils literal notranslate"><span class="pre">render</span></code> calls to all <code class="docutils literal notranslate"><span class="pre">Component</span></code>s that have been added to the game.</p>
<p>We refer to this component based system as the Flame Component System, FCS for short.</p>
<p>Every time the game needs to be resized, for example when the orientation is changed,
<code class="docutils literal notranslate"><span class="pre">FlameGame</span></code> will call all of the <code class="docutils literal notranslate"><span class="pre">Component</span></code>s <code class="docutils literal notranslate"><span class="pre">resize</span></code> methods and it will also pass this information
to the camera and viewport.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">FlameGame.camera</span></code> controls which point in the coordinate space should be the top-left of the
screen (it defaults to [0,0] like a regular <code class="docutils literal notranslate"><span class="pre">Canvas</span></code>).</p>
<p>A <code class="docutils literal notranslate"><span class="pre">FlameGame</span></code> implementation example can be seen below:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nc">MyCrate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">SpriteComponent</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// creates a component that renders the crate.png sprite, with size 16 x 16</span>
<span class="w">  </span><span class="n">MyCrate</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">size:</span><span class="w"> </span><span class="n">Vector2</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">));</span>

<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">onLoad</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">sprite</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">Sprite</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;crate.png&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="n">anchor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Anchor</span><span class="p">.</span><span class="n">center</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">onGameResize</span><span class="p">(</span><span class="n">Vector2</span><span class="w"> </span><span class="n">gameSize</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">onGameResize</span><span class="p">(</span><span class="n">gameSize</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// We don&#39;t need to set the position in the constructor, we can set it directly here since it will</span>
<span class="w">    </span><span class="c1">// be called once before the first time it is rendered.</span>
<span class="w">    </span><span class="n">position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gameSize</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">2</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyGame</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">FlameGame</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">onLoad</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">await</span><span class="w"> </span><span class="k">super</span><span class="p">.</span><span class="n">onLoad</span><span class="p">();</span>
<span class="w">    </span><span class="n">add</span><span class="p">(</span><span class="n">MyCrate</span><span class="p">());</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">myGame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyGame</span><span class="p">();</span>
<span class="w">  </span><span class="n">runApp</span><span class="p">(</span>
<span class="w">    </span><span class="n">GameWidget</span><span class="p">(</span>
<span class="w">      </span><span class="nl">game:</span><span class="w"> </span><span class="n">myGame</span><span class="p">,</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Note:</strong> If you instantiate your game in a build method your game will be rebuilt every time the
Flutter tree gets rebuilt, which usually is more often than you’d like. To avoid this, you can
instead create an instance of your game first and reference it within your widget structure, like
it is done in the example above.</p>
<p>To remove components from the list on a <code class="docutils literal notranslate"><span class="pre">FlameGame</span></code> the <code class="docutils literal notranslate"><span class="pre">remove</span></code> or <code class="docutils literal notranslate"><span class="pre">removeAll</span></code> methods can be used.
The first can be used if you just want to remove one component, and the second can be used when you
want to remove a list of components.</p>
<p>Any component on which the <code class="docutils literal notranslate"><span class="pre">remove()</span></code> method has been called will also be removed. You can do this
simply by doing <code class="docutils literal notranslate"><span class="pre">yourComponent.remove();</span></code>.</p>
<section id="lifecycle">
<h2>Lifecycle<a class="headerlink" href="#lifecycle" title="Link to this heading">¶</a></h2>
<p><img alt="Game Lifecycle Diagram" src="_images/component_lifecycle.png" /></p>
<p>When a game first is added to a Flutter widget tree the following lifecycle methods will be called
in order: <code class="docutils literal notranslate"><span class="pre">onGameResize</span></code>, <code class="docutils literal notranslate"><span class="pre">onLoad</span></code> and <code class="docutils literal notranslate"><span class="pre">onMount</span></code>. After that it goes on to call <code class="docutils literal notranslate"><span class="pre">update</span></code> and
<code class="docutils literal notranslate"><span class="pre">render</span></code> back and forth every tick, until the widget is removed from the tree.
Once the <code class="docutils literal notranslate"><span class="pre">GameWidget</span></code> is removed from the tree, <code class="docutils literal notranslate"><span class="pre">onRemove</span></code> is called, just like when a normal
component is removed from the component tree.</p>
</section>
<section id="changing-component-priorities-render-update-order">
<h2>Changing component priorities (render/update order)<a class="headerlink" href="#changing-component-priorities-render-update-order" title="Link to this heading">¶</a></h2>
<p>To update a component with a new priority you have to call either <code class="docutils literal notranslate"><span class="pre">FlameGame.changePriority</span></code>, or
<code class="docutils literal notranslate"><span class="pre">FlameGame.changePriorities</span></code> if you want to change the priorities of many components at once.
This design is due to the fact that the components doesn’t always have access to the component list and
because rebalancing the component list is a fairly computationally expensive operation, so you
would rather reorder the list once after all the priorities have been changed and not once for each
priority change, if you have several changes.</p>
<p>The higher a priority is the later it is rendered and updated, which will make it appear closer on
the screen since it will be rendered on top of any components with lower priority that were rendered
before it.</p>
</section>
<section id="debug-mode">
<h2>Debug mode<a class="headerlink" href="#debug-mode" title="Link to this heading">¶</a></h2>
<p>Flame’s <code class="docutils literal notranslate"><span class="pre">FlameGame</span></code> class provides a variable called <code class="docutils literal notranslate"><span class="pre">debugMode</span></code>, which by default is <code class="docutils literal notranslate"><span class="pre">false</span></code>. It can
however, be set to <code class="docutils literal notranslate"><span class="pre">true</span></code> to enable debug features for the components of the game. <strong>Be aware</strong> that
the value of this variable is passed through to its components when they are added to the game, so
if you change the <code class="docutils literal notranslate"><span class="pre">debugMode</span></code> at runtime, it will not affect already added components by default.</p>
<p>To read more about the <code class="docutils literal notranslate"><span class="pre">debugMode</span></code> on Flame, please refer to the <a class="reference internal" href="debug.html"><span class="std std-doc">Debug Docs</span></a></p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="low-level-game-api">
<h1>Low-level Game API<a class="headerlink" href="#low-level-game-api" title="Link to this heading">¶</a></h1>
<p><img alt="Game low-level API" src="_images/game_mixin.png" /></p>
<p>The <code class="docutils literal notranslate"><span class="pre">Game</span></code> mixin is a low-level API that can be used when you want to implement the functionality of
how the game engine should be structured. <code class="docutils literal notranslate"><span class="pre">Game</span></code> does not implement any <code class="docutils literal notranslate"><span class="pre">update</span></code> or
<code class="docutils literal notranslate"><span class="pre">render</span></code> function for example.</p>
<p>As you can see in the image above you’ll have to use the <code class="docutils literal notranslate"><span class="pre">Loadable</span></code> and <code class="docutils literal notranslate"><span class="pre">Game</span></code> mixins if you want to
create your own game class, which is what is done with <code class="docutils literal notranslate"><span class="pre">OxygenGame</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Loadable</span></code> mixin has the lifecycle methods <code class="docutils literal notranslate"><span class="pre">onLoad</span></code>, <code class="docutils literal notranslate"><span class="pre">onMount</span></code> and <code class="docutils literal notranslate"><span class="pre">onRemove</span></code> in it, which are
called from the <code class="docutils literal notranslate"><span class="pre">GameWidget</span></code> (or another parent) when the game is loaded + mounted, or removed.
<code class="docutils literal notranslate"><span class="pre">onLoad</span></code> is only called the first time the class is added to a parent, but <code class="docutils literal notranslate"><span class="pre">onMount</span></code> (which is
called after <code class="docutils literal notranslate"><span class="pre">onLoad</span></code>) is called every time it is added to a new parent. <code class="docutils literal notranslate"><span class="pre">onRemove</span></code> is called when
the class is removed from a parent.</p>
<p><strong>Note</strong>: The <code class="docutils literal notranslate"><span class="pre">Game</span></code> mixin allows for more freedom of how to implement things, but you are also
missing out on all of the built-in features in Flame if you use it.</p>
<p>An example of how a <code class="docutils literal notranslate"><span class="pre">Game</span></code> implementation could look like:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nc">MyGameSubClass</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">Loadable</span><span class="p">,</span><span class="w"> </span><span class="n">Game</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">render</span><span class="p">(</span><span class="n">Canvas</span><span class="w"> </span><span class="n">canvas</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">update</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">myGame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyGameSubClass</span><span class="p">();</span>
<span class="w">  </span><span class="n">runApp</span><span class="p">(</span>
<span class="w">    </span><span class="n">GameWidget</span><span class="p">(</span>
<span class="w">      </span><span class="nl">game:</span><span class="w"> </span><span class="n">myGame</span><span class="p">,</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="gameloop">
<h1>GameLoop<a class="headerlink" href="#gameloop" title="Link to this heading">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">GameLoop</span></code> module is a simple abstraction over the game loop concept. Basically most games are
built upon two methods:</p>
<ul class="simple">
<li><p>The render method takes the canvas for drawing the current state of the game.</p></li>
<li><p>The update method receives the delta time in seconds since the last update and allows you to move
to the next state.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">GameLoop</span></code> is used by all of Flame’s <code class="docutils literal notranslate"><span class="pre">Game</span></code> implementations.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="pause-resuming-game-execution">
<h1>Pause/Resuming game execution<a class="headerlink" href="#pause-resuming-game-execution" title="Link to this heading">¶</a></h1>
<p>A Flame <code class="docutils literal notranslate"><span class="pre">Game</span></code> can be paused and resumed in two ways:</p>
<ul class="simple">
<li><p>With the use of the <code class="docutils literal notranslate"><span class="pre">pauseEngine</span></code> and <code class="docutils literal notranslate"><span class="pre">resumeEngine</span></code> methods.</p></li>
<li><p>By changing the <code class="docutils literal notranslate"><span class="pre">paused</span></code> attribute.</p></li>
</ul>
<p>When pausing a Flame <code class="docutils literal notranslate"><span class="pre">Game</span></code>, the <code class="docutils literal notranslate"><span class="pre">GameLoop</span></code> is effectively paused, meaning that no updates or new
renders will happen until it is resumed.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="flutter-widgets-and-game-instances">
<h1>Flutter Widgets and Game instances<a class="headerlink" href="#flutter-widgets-and-game-instances" title="Link to this heading">¶</a></h1>
<p>Since a Flame game can be wrapped in a widget, it is quite easy to use it alongside other Flutter
widgets. But still, there is the Widgets Overlay API that makes things even easier.</p>
<p><code class="docutils literal notranslate"><span class="pre">Game.overlays</span></code> enables any Flutter widget to be shown on top of a game instance, this makes it very
easy to create things like a pause menu or an inventory screen for example.</p>
<p>This management is done via the <code class="docutils literal notranslate"><span class="pre">game.overlays.add</span></code> and <code class="docutils literal notranslate"><span class="pre">game.overlays.remove</span></code> methods that marks an
overlay to be shown or hidden, respectively, via a <code class="docutils literal notranslate"><span class="pre">String</span></code> argument that identifies the overlay.
After that it can be specified which widgets represent each overlay in the <code class="docutils literal notranslate"><span class="pre">GameWidget</span></code> declaration
by setting a <code class="docutils literal notranslate"><span class="pre">overlayBuilderMap</span></code>.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="c1">// Inside the game methods:</span>
<span class="kd">final</span><span class="w"> </span><span class="n">pauseOverlayIdentifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;PauseMenu&#39;</span><span class="p">;</span>

<span class="n">overlays</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">pauseOverlayIdentifier</span><span class="p">);</span><span class="w"> </span><span class="c1">// Marks &#39;PauseMenu&#39; to be rendered.</span>
<span class="n">overlays</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">pauseOverlayIdentifier</span><span class="p">);</span><span class="w"> </span><span class="c1">// Marks &#39;PauseMenu&#39; to not be rendered.</span>
</pre></div>
</div>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="c1">// On the widget declaration</span>
<span class="kd">final</span><span class="w"> </span><span class="n">game</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyGame</span><span class="p">();</span>

<span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">GameWidget</span><span class="p">(</span>
<span class="w">    </span><span class="nl">game:</span><span class="w"> </span><span class="n">game</span><span class="p">,</span>
<span class="w">    </span><span class="nl">overlayBuilderMap:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="s1">&#39;PauseMenu&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;A pause menu&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The order in which the overlays are declared in the <code class="docutils literal notranslate"><span class="pre">overlayBuilderMap</span></code> defines which order the
overlays will be rendered.</p>
<p>Here you can see a
<a class="reference external" href="https://github.com/flame-engine/flame/tree/main/examples/lib/stories/widgets/overlay.dart">working example</a>
of this feature.</p>
</section>


    </div>
    <div class="copyright">
      The content on this page is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0 License</a>,
      and code samples under the <a href="https://raw.githubusercontent.com/flame-engine/flame/main/LICENSE">MIT License</a>.
    </div>
    <div class="prev-next-area">
      <a class="left-prev" id="prev-link" href="structure.html" title="previous page">
        <i class="fa fa-angle-left"></i>
        <div class="prev-next-info">
          <p class="prev-next-subtitle">Previous:</p>
          <p class="prev-next-title">Structure</p>
        </div>
      </a>
      <div class='expander'></div>
      <a class="right-next" id="next-link" href="components.html" title="next page">
        <div class="prev-next-info">
          <p class="prev-next-subtitle">Next:</p>
          <p class="prev-next-title">Components</p>
        </div>
        <i class="fa fa-angle-right"></i>
      </a>
    </div>
  </div>

  <div class="sidebar-right">
    
    <div class="nav-right" role="navigation" aria-label="table of contents">
      <system_message level="3" source="/home/runner/work/flame-docs-site/flame-docs-site/_flame/doc/game.md" type="ERROR"><paragraph>More than one <h1> title on the page</paragraph></system_message>
    </div>
  </div>

  <div class="expander"></div>
</div>




</body>
</html>